{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./client/app/login-app/components/views/login/Login-template.html","webpack:///./client/app/login-app/components/views/auth-failure/AuthFailure-template.html","webpack:///./client/app/login-app/components/views/otp/Otp-template.html","webpack:///./client/app/components/views/auth/Auth-template.html","webpack:///./client/app/components/views/forgot-password/ForgotPassword-template.html","webpack:///./client/app/components/views/reset-password/ResetPassword-template.html","webpack:///./client/app/components/views/app-loading/AppLoading-template.html","webpack:///./client/app/components/views/password-expiry-dialog/PasswordExpiryDialog-template.html","webpack:///./client/app/components/indicators/BusyIndicator/BusyIndicator-template.html","webpack:///./client/app/components/form-fields/InputBox/InputBox-template.html","webpack:///./client/app/components/dialogs/dialog/Dialog-template.html","webpack:///./client/app/routes/router.js","webpack:///./client/app/login-app/routes/route.auth.js","webpack:///./targets/vendor/jquery.js","webpack:///./targets/vendor/angularjs.js","webpack:///./targets/vendor/lodash.js","webpack:///./targets/vendor/dompurify.js","webpack:///./targets/vendor/he.js","webpack:///./targets/vendor/d3.js","webpack:///./client/app/login-app/module_platformBoot.js","webpack:///./client/app/login-app/boot.js","webpack:///./client/app/core/a11y/index.js","webpack:///./client/app/core/a11y/mixin.js","webpack:///./client/app/core/i18n/module.js","webpack:///./client/app/core/i18n/localeList.js","webpack:///./client/app/core/i18n/currencyList.js","webpack:///./client/app/core/i18n/i18nService.js","webpack:///./client/app/core/i18n/i18nMixins.js","webpack:///./client/app/core/constants/module.js","webpack:///./client/app/core/constants/keyboard.js","webpack:///./client/app/core/eventListeners/module_bootPrereqs.js","webpack:///./client/app/directives/ResourceString/ResourceString.js","webpack:///./client/app/login-app/components/views/login/Login.js","webpack:///./client/app/login-app/components/views/auth-failure/AuthFailure.js","webpack:///./client/app/login-app/components/views/otp/Otp.js","webpack:///./client/app/core/systemServices/module_platformBoot.js","webpack:///./client/app/components/views/auth/Auth.js","webpack:///./client/app/components/views/forgot-password/ForgotPassword.js","webpack:///./client/app/components/views/reset-password/ResetPassword.js","webpack:///./client/app/components/views/app-loading/AppLoading.js","webpack:///./client/app/core/systemServices/module_systemServices.js","webpack:///./client/app/core/systemServices/browserDetectionService.js","webpack:///./client/app/components/views/password-expiry-dialog/PasswordExpiryDialog.js","webpack:///./client/app/components/indicators/BusyIndicator/BusyIndicator.js","webpack:///./client/app/components/form-fields/index.js","webpack:///./client/app/components/form-fields/InputBox/InputBox.js","webpack:///./client/app/components/dialogs/index.js","webpack:///./client/app/components/dialogs/dialog/Dialog.js","webpack:///./client/app/core/systemServices/module_statusHelpers.js","webpack:///./client/app/core/systemServices/rbacService.js","webpack:///./client/app/core/systemServices/safeText.js","webpack:///./client/app/core/systemServices/loggerService.js","webpack:///./client/app/core/systemServices/translateService.js","webpack:///./client/app/core/eventListeners/resourceKeyDisplay.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","0","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","angular","provider","$stateProvider","$injector","this","route","routeName","setup","$get","noop","$controllerProvider","$compileProvider","$provide","state","views","component","resolve","$q","skI18nService","$localStorage","locale","def","defer","registerMessageBundle","initI18N","promise","url","params","username","password","jQuery","$","a","_","DOMPurify","he","d3","err","bootModule","constant","config","$httpProvider","$locationProvider","$urlRouterProvider","router","$localStorageProvider","hashPrefix","defaults","headers","e","console","run","$window","$location","$http","$rootScope","$state","$timeout","$stateParams","$uibModal","$uuid","$sessionStorage","$uibModalStack","rbacService","$transitions","element","initialBoot","timedout","GATEWAY_URL","CONTEXT","GO_TO_ERROR","port","host","protocol","toLowerCase","intPort","parseInt","API_GATEWAY_HOSTNAME","hasCheckedAndLoadedBrand","stateChangeCheck","removeClass","onSuccess","onError","method","then","pubData","responseObject","themes","parsed","JSON","parse","customCSS","css","replace","location","appendTo","innerHTML","trigger","strings","themeCustomResourceStrings","ex","brandError","status","__i18nServiceInitialized","registerAndBootPublicI18N","addClass","tabId","resourceStrings","currentValue","k","paths","indexOf","go","service","keys","obj","a11yHandler","evt","target","tag","tagName","processIt","charCode","SPACE","keyCode","ENTER","preventDefault","stopPropagation","mixinTo","tObj","newObj","extend","normalizeLocale","bLocale","blocArr","split","toUpperCase","getLanguageKey","localeList","currency","getCurrency","stringify","currencies","getCurrencies","getDefaultCurrencyForLocale","currencyCode","specificLocale","localeToCurrency","unescapeText","msg","stripInsecure","txt","fTxt","msgCache","bundleCache","urlBundleCache","getTimezoneFromBrowser","str","Date","toString","tz","substring","match","messageBundleRegistry","hasRegisteredMessageBundle","hasBundle","currencyListService","currentlyLoadingPromise","substitute","map","undefined","getCurrentLocale","locArray","navigator","languages","language","userLanguage","join","self","loadedI18nServices","generateModifiedResources","returnArray","forEach","val","loadRegisteredMessageBundle","handleLocaleLoad","cache","reject","httpdd","ajax","async","resp","root","tKey","kArray","rootBundle","rootFile","jsonIndex","bundle","rootLocaleDef","loadNextLocale","list","pop","sublocale","bData","bData2","reverse","localeChangeSubject","Subject","getLocaleStream","asObservable","getCurrentBrowserLocale","getTranslatedString","keyOrString","props","changeLoadedLanguage","isAuthenticatedDef","Authorization","checkAccessToken","isAuth","waitFor","combinedI18n","svc","mergedDef","all","bundles","msgs","i18nOverideStrings","msgModified","$broadcast","next","loadEnabledLanguagesList","pub","priv","platform","pd","pvd","ddp","getLocaleListByService","langList","ddvp","uniqLang","uniq","mergeLocales","listA","listB","largeList","smallList","currentList","li","filter","cli","l0","l1","concat","finalList","label","ll","fi","enabled","finalData","entities","setMessages","require","define","normalizeOpts","opts","dDate","dLocale","dCurrency","dNumber","stamp","date","format","cur","number","num","initPromise","resolveResourceString","element_array","key_array","each","res","html","text","change","targetElement","dataValue","isResourceString","initPrivateI18N","initPrivatePromise","bundleSet","sort","b","aLang","bLang","getKnownLocaleList","locales","lastIndexOf","getCurrentLocaleBundle","setLanguageCache","fetchResources","common","defList","VMS_SERVICES","i18nDef","defP","error","newMsg","newDList","dd","fetchModifiedResources","elm","index","getDojoNumberLocalization","i18n","getLocalization","$on","dateString","formatLength","targetLocale","datePattern","timePattern","outputSelector","test","toISOString","iso8601RegExp","tzOffset","getTimezoneOffset","trim","Math","abs","useDefaultDate","useDefaultTime","inputOpts","selector","jsDate","dateStrings","outputOpts","fromISOString","isoDateString","newDate","newTime","setHours","getHours","getMinutes","getSeconds","getMilliseconds","parseFloat","$filter","filterName","arguments","translateService","getTranslation","BACKSPACE","TAB","CLEAR","SHIFT","CTRL","ALT","ESCAPE","INSERT","DELETE","NUM_LOCK","SCROLL_LOCK","PAUSE","CAPS_LOCK","PAGE_UP","PAGE_DOWN","END","HOME","LEFT_ARROW","UP_ARROW","RIGHT_ARROW","DOWN_ARROW","directive","skSafeTextSvc","$watch","render","substituteMsgString","themePreviewResourceStrings","restrict","scope","skResourceString","skResourceSubstitutions","skResourceStringSetTitle","template","controller","$scope","resourceStringValue","_setTitle","link","elem","context","subs","attr","$watchCollection","newValue","oldValue","contents","_setTitleValue","newVal","_testStorage_localstorage","ret","ignore","bindings","TEMPLATE","$sce","$element","i18nMixins","SAML_LOGOUT_CONFIG","slc","SAML_CONFIG","targetUrl","csrfToken","contextPath","errorMessage","endPoint","csrfParameterName","loginAction","__rememberMeStateRestore","busy","twoFactorAuthenticationComplete","twoFactorAuthenticationRequired","i18nLoaded","version","login","loading","form","submit","forgotPassword","_saveUsername","u","cName","ls","setItem","_restoreUsername","empty","hasAutoFillNode","getItem","pElem","focus","id","_saveRememberMe","rm","rememberMe","cName2","setTimeout","removeItem","_restoreRememberMe","hasLocalStorage","toggleRememberMeValue","checkForEnter","sessionPoller","clearInterval","i18nLoadHandler","$postLink","setPageTitle","pageTitle","document","title","UIROOTURL","checkI18n","returnToLogin","event","optResendEndpoint","optVerifyEndpoint","otpParam","resendAction","verifyAction","resendotp","otpLogin","backTimeout","cancel","sendReset","successMessage","a11yMixins","userId","resetToken","token","type","email","showCharctersCheck","invalidPasswordMatch","invalidPassword","randomPasswordFieldSuffix","rules","loginMethod","linkExpired","rulesUrl","validRules","resetPasswordText","showRecomendation","displayRecomendation","closeInfo","loginRedirect","clearPassword","confirmPassword","customA11yHandler","resetPassword","toggleShowPassword","pass","confPass","message","focusHandler","fieldId","field","v","removeAttr","showPasswordSuggest","blurHandler","ae","activeElement","closest","passwordInput","pw","log","handleSuggestionReload","suggestedPassword","__pwDef","getPasswordSuggestion","selectSuggestion","$onDestroy","loggerService","currentState","current","reloadCount","__reloadCount","warn","deeplinkUrl","loadingScreenDeeplinkUrl","reload","bd","isWebkit","isTrident","isEdge","isIE","isGecko","isFirefox","isChrome","isOpera","isSafari","ua","userAgent","av","appVersion","uaKeys","matchMap","browsers","floor","browser","charAt","isBrowser","browserName","isB","ready","documentElement","classes","getBrowserVersion","ver","browserFlags","modalInstance","ok","handler","close","$onChanges","changes","expirationMessage","stroke","radius","speed","delay","active","easeInOutQuad","_type","isDefined","_stroke","_radius","micro","small","medium","large","huge","gigantic","_delay","_speed","modifier","parent","busyValueElem","absoluteValue","remVal","htmltemplate","RegExp","templateBuilder","center","size","startTimeStamp","CIRCUMFERENCE","PI","raf","requestAnimationFrame","parentCtx","style","strokeDasharray","doAnim","delta","indicatorOffset","strokeDashoffset","inputFieldCounter","defaultPlaceholders","cidr","cidrip","cidripv4","cidripv6","fqdn","ip","ipaddr","ipaddress","ipv4","ipv6","latitude","longitude","phone","phonenumber","subnet","netmask","inputType","autofocus","autocomplete","placeholder","msxModel","msxClass","maxlength","minlength","max","min","msxPattern","formname","inputErrorMessage","msxRequired","msxDisabled","msxReadonly","msxFocus","msxBlur","msxChange","msxTooltip","msxInvalid","msxTrim","showLabel","msxTabindex","msxForceShowErrorMessage","allowInvalid","allowPasswordReveal","passwordRetrievalFunc","showCopy","translate","getModelController","inputData","$ngModelController","$setValidity","$setDirty","showStarWithoutLabel","Boolean","_showLabel","showStarWithLabel","errTypes","resolveError","errObj","forIn","isTrue","_msxTrim","msxDF","msxROF","_msxDisabled","_msxReadonly","_msxRequired","blur","checkAndSetFieldState","find","__msxPattern","isValid","_placeholder","_valueChanged","copyBtnTooltip","mController","$valid","$pristine","$dirty","_getFieldType","_forcedType","_showPassword","_gettingPassword","showPassword","_loadingPassword","_hidePassword","_copyInput","$tmpCopyElement","top","position","height","width","select","execCommand","remove","msxTooltipLocation","ngModelOptions","updateOn","debounce","ariaInputlabel","getTime","tooltip","container","update","count","findController","templateString","show","controllerName","dialogResolutions","dialogWindowName","controlEvent","showModal","options","inst","_mInst","open","animation","resolutions","windowClass","backdrop","templateUrl","closed","rendered","wrapper","dialog","focusableElements","closeModal","factory","ifAllow","capability","capabilities","capabilityArray","newCapabilities","notCapabilities","difference","retriveCapablities","deferred","isAuthorized","allowTokens","hasAuth","tokenSet","string","sanitize","unescape","input","on","ctrlKey","metaKey","shiftKey","emitWarn","attributes","innerText","color","logThis"],"mappings":"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","file":"boot.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t0: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"js/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([329,1]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = \" <msx-busy-indicator ng-if=\\\"$ctrl.busy\\\" class=\\\"vms-busy-screen-center\\\" delay=\\\"999\\\" radius=\\\"6.4\\\"></msx-busy-indicator> <div id=\\\"auth-contents\\\" ng-hide=\\\"$ctrl.busy\\\" class=\\\"ng-hide auth-contents\\\"> <div class=\\\"auth-contents-container\\\"> <div class=\\\"auth-logo-wrapper\\\"><div class=\\\"auth-logo vms_fi_logo-cisco\\\"></div></div> <h1 class=\\\"app-title sk-font-modal-title\\\" sk-resource-string=\\\"public.cisco.login.app.title\\\"></h1> <div class=\\\"auth-app-version sk-font-metadata-medium\\\">{{$ctrl.version}}</div> <div> <form class=\\\"form-signin\\\" action=\\\"{{$ctrl.loginAction}}\\\" method=\\\"POST\\\" autocomplete=\\\"new-password\\\" name=\\\"loginForm\\\" enctype=\\\"application/x-www-form-urlencoded\\\"> <div class=\\\"controls auth-field-controls\\\" ng-keypress=\\\"$ctrl.checkForEnter($event)\\\"> <div role=\\\"alert\\\" ng-if=\\\"$ctrl.errorMessage.length > 0\\\"> <div class=\\\"alert alert-error in text-center\\\"> <div class=\\\"message-holder\\\"><span class=\\\"vms_fi_alert6003-16\\\"></span><span class=\\\"auth-message sk-font-standard-text\\\" sk-resource-string=\\\"{{$ctrl.errorMessage}}\\\"></span></div> </div> </div> <msx-busy-indicator ng-if=\\\"$ctrl.loading\\\" radius=\\\"2.4\\\"></msx-busy-indicator> <div> <msx-input-box type=\\\"text\\\" autocomplete=\\\"off\\\" field-id=\\\"username\\\" name=\\\"username\\\" formname=\\\"loginForm\\\" placeholder=\\\"public.cisco.login.label.username\\\" msx-model=\\\"$ctrl.username\\\" label=\\\"public.cisco.login.label.username\\\" show-label=\\\"false\\\" input-error-message=\\\"public.cisco.login.label.username.error\\\"></msx-input-box> </div> <div> <msx-input-box type=\\\"password\\\" field-id=\\\"password\\\" name=\\\"password\\\" formname=\\\"loginForm\\\" placeholder=\\\"public.cisco.login.label.password\\\" msx-model=\\\"$ctrl.password\\\" label=\\\"public.cisco.login.label.password\\\" show-label=\\\"false\\\" input-error-message=\\\"public.cisco.login.label.password.error\\\" autocomplete=\\\"new-password\\\"></msx-input-box> </div> <input type=\\\"hidden\\\" id=\\\"csrf_token\\\" name=\\\"{{$ctrl.csrfParameterName}}\\\" value=\\\"{{$ctrl.csrfToken}}\\\"> <div class=\\\"auth-button-group\\\"> <button tabindex=\\\"0\\\" ng-click=\\\"$ctrl.login($ctrl.username, $ctrl.password, $event)\\\" ng-disabled=\\\"!$ctrl.username || $ctrl.loading\\\" id=\\\"__login-view-submit-button\\\" class=\\\"button button--medium button--cta login-button\\\" type=\\\"submit\\\" sk-resource-string=\\\"public.cisco.login.label.loginbutton\\\"></button> </div> <div class=\\\"auth-forgot-password\\\" ng-class=\\\"{'show-rememberme': $ctrl.hasLocalStorage()}\\\"> <span class=\\\"remember-me\\\" ng-show=\\\"$ctrl.hasLocalStorage()\\\"> <label class=\\\"checkbox\\\"> <input type=\\\"checkbox\\\" checked=\\\"{{$ctrl.rememberMe}}\\\" ng-model=\\\"$ctrl.rememberMe\\\"> <span id=\\\"__login-view-remember-me-checkbox\\\" tabindex=\\\"0\\\" ng-keypress=\\\"$ctrl.toggleRememberMeValue($event)\\\" class=\\\"checkbox__input\\\" aria-label=\\\"$ctrl.getTranslation('public.cisco.login.label.rememberme')\\\" role=\\\"checkbox\\\" aria-checked=\\\"{{$ctrl.rememberMe}}\\\"></span> <span class=\\\"checkbox__label\\\" sk-resource-string=\\\"public.cisco.login.label.rememberme\\\"></span> </label> </span><span class=\\\"forgot-password-link sk-font-standard-link\\\" id=\\\"__login-view-forgot-password-link\\\" ng-class=\\\"{'pull-right': $ctrl.hasLocalStorage()}\\\" tabindex=\\\"0\\\" role=\\\"link\\\" sk-resource-string=\\\"public.cisco.login.label.forgotpassword\\\" ng-click=\\\"$ctrl.forgotPassword()\\\"></span> </div> </div> </form> </div> </div> </div> <div ng-hide=\\\"!$ctrl.i18nLoaded\\\" class=\\\"auth-copyright sk-font-metadata-small\\\" sk-resource-string=\\\"public.cisco.login.label.copyright\\\"></div> <msx-modal-dialog component=\\\"msxPasswordExpiryDialog\\\" control-event=\\\"password.expiry.dialog\\\"> </msx-modal-dialog>\";","module.exports = \"<msx-busy-indicator ng-if=\\\"$ctrl.busy\\\" class=\\\"vms-busy-screen-center\\\" delay=\\\"999\\\" radius=\\\"6.4\\\"></msx-busy-indicator> <div id=\\\"auth-contents\\\" ng-hide=\\\"$ctrl.busy\\\" class=\\\"ng-hide auth-contents\\\"> <div class=\\\"auth-contents-container\\\"> <div class=\\\"auth-logo-wrapper\\\"><div class=\\\"auth-logo vms_fi_logo-cisco\\\"></div></div> <h1 class=\\\"app-title sk-font-modal-title\\\" sk-resource-string=\\\"public.cisco.login.app.title\\\"></h1> <div class=\\\"auth-app-version sk-font-metadata-medium\\\">{{$ctrl.version}}</div> <div> <form class=\\\"form-signin\\\" method=\\\"POST\\\" name=\\\"loginForm\\\" enctype=\\\"application/x-www-form-urlencoded\\\"> <div class=\\\"controls auth-field-controls\\\" ng-keypress=\\\"$ctrl.checkForEnter($event)\\\"> <div role=\\\"alert\\\" ng-if=\\\"$ctrl.errorMessage.length > 0\\\"> <div class=\\\"alert alert-error in text-center\\\"> <div class=\\\"message-holder\\\"><span class=\\\"vms_fi_alert6003-16\\\"></span><span class=\\\"auth-message sk-font-standard-text\\\" sk-resource-string=\\\"{{$ctrl.errorMessage}}\\\"></span></div> </div> </div> <div class=\\\"auth-button-group\\\"> <button tabindex=\\\"0\\\" ng-click=\\\"$ctrl.returnToLogin($event)\\\" id=\\\"__login-view-return-button\\\" class=\\\"button button--medium button--cta login-button\\\" type=\\\"button\\\" sk-resource-string=\\\"public.cisco.labels.backtologin.label\\\"></button> </div> </div> </form> </div> </div> </div> <div ng-hide=\\\"!$ctrl.i18nLoaded\\\" class=\\\"auth-copyright sk-font-metadata-small\\\" sk-resource-string=\\\"public.cisco.login.label.copyright\\\"></div> \";","module.exports = \"<msx-busy-indicator ng-if=\\\"$ctrl.busy\\\" class=\\\"vms-busy-screen-center\\\" delay=\\\"999\\\" radius=\\\"6.4\\\"></msx-busy-indicator> <div id=\\\"auth-contents\\\" ng-hide=\\\"$ctrl.busy\\\" class=\\\"ng-hide auth-contents\\\"> <div class=\\\"auth-contents-container\\\"> <div class=\\\"auth-logo-wrapper\\\"><div class=\\\"auth-logo vms_fi_logo-cisco\\\"></div></div> <h1 class=\\\"app-title sk-font-modal-title\\\" sk-resource-string=\\\"public.cisco.login.app.title\\\"></h1> <div class=\\\"auth-app-version sk-font-metadata-medium\\\">{{$ctrl.version}}</div> <div> <form class=\\\"form-signin form-otp-verify\\\" method=\\\"POST\\\" autocomplete=\\\"off\\\" name=\\\"loginForm\\\" enctype=\\\"application/x-www-form-urlencoded\\\"> <div class=\\\"controls auth-field-controls\\\" ng-keypress=\\\"$ctrl.checkForEnter($event)\\\"> <msx-busy-indicator ng-if=\\\"$ctrl.loading\\\" radius=\\\"2.4\\\"></msx-busy-indicator> <div ng-hide=\\\"$ctrl.generateSuccess || $ctrl.resendSuccess\\\" role=\\\"alert\\\" ng-if=\\\"$ctrl.errorMessage.length > 0\\\"> <div class=\\\"alert alert-error in text-center\\\"> <div class=\\\"message-holder\\\"><span class=\\\"vms_fi_alert6003-16\\\"></span><span class=\\\"auth-message sk-font-standard-text\\\" sk-resource-string=\\\"{{$ctrl.errorMessage}}\\\"></span></div> </div> </div> <div ng-show=\\\"!loading\\\"> <div ng-show=\\\"$ctrl.generateSuccess\\\" sk-resource-string=\\\"public.cisco.login.message.sendotp\\\"> </div> <div ng-show=\\\"$ctrl.resendSuccess\\\" sk-resource-string=\\\"public.cisco.login.message.resendotp\\\"> </div> <div class=\\\"message-holder\\\" ng-show=\\\"$ctrl.generateSuccess || $ctrl.resendSuccess\\\"><span class=\\\"auth-message sk-font-standard-text\\\" sk-resource-string=\\\"public.cisco.login.label.checkEmail\\\"></span> </div> </div> <msx-input-box type=\\\"text\\\" field-id=\\\"otp\\\" name=\\\"{{$ctrl.otpParam || 'otp'}}\\\" formname=\\\"loginForm\\\" placeholder=\\\"public.cisco.login.label.otp\\\" msx-model=\\\"$ctrl.otp\\\" label=\\\"public.cisco.login.label.otp\\\" show-label=\\\"false\\\" input-error-message=\\\"public.cisco.login.label.otp.required\\\"></msx-input-box> <input type=\\\"hidden\\\" id=\\\"csrf_token\\\" name=\\\"{{$ctrl.csrfParameterName}}\\\" value=\\\"{{$ctrl.csrfToken}}\\\"> <div class=\\\"auth-button-group\\\"> <button tabindex=\\\"0\\\" ng-disabled=\\\"!$ctrl.otp\\\" id=\\\"__otp-view-submit-button\\\" class=\\\"button button--medium button--cta login-button\\\" type=\\\"submit\\\" ng-click=\\\"$ctrl.otpLogin(otp, $event)\\\" sk-resource-string=\\\"public.cisco.login.label.continueloginbutton\\\"></button> </div> <div class=\\\"auth-forgot-password\\\"> <span sk-resource-string=\\\"public.cisco.login.label.resendotp\\\"> </span><span class=\\\"sk-font-standard-link resend-otp-link\\\" id=\\\"__login-view-resend-password-link\\\" ng-disabled=\\\"$ctrl.loading\\\" ng-class=\\\"pull-right\\\" tabindex=\\\"0\\\" role=\\\"link\\\" sk-resource-string=\\\"public.cisco.login.link.resendotp\\\" ng-click=\\\"$ctrl.resendotp()\\\"></span> </div> </div> </form> <form class=\\\"form-opt-resend\\\" method=\\\"POST\\\" autocomplete=\\\"off\\\" name=\\\"resendForm\\\" enctype=\\\"application/x-www-form-urlencoded\\\"> <input type=\\\"hidden\\\" id=\\\"csrf_token\\\" name=\\\"{{$ctrl.csrfParameterName}}\\\" value=\\\"{{$ctrl.csrfToken}}\\\"> </form> </div> </div> </div> <div ng-hide=\\\"!$ctrl.i18nLoaded\\\" class=\\\"auth-copyright sk-font-metadata-small\\\" sk-resource-string=\\\"public.cisco.login.label.copyright\\\"></div> \";","module.exports = \"<div ui-view class=\\\"sk-auth-screen sk-auth-hidden\\\"></div>\";","module.exports = \"<div class=\\\"auth-page forgot-password-page\\\"> <div id=\\\"auth-contents\\\" class=\\\"auth-contents\\\"> <div class=\\\"auth-contents-container\\\"> <h1 class=\\\"app-title sk-font-modal-title\\\" sk-resource-string=\\\"public.cisco.forgotpassword.label\\\"></h1> <form class=\\\"form-signin\\\" method=\\\"POST\\\" autocomplete=\\\"off\\\" name=\\\"loginForm\\\" enctype=\\\"application/x-www-form-urlencoded\\\"> <div class=\\\"controls password-field-controls\\\"> <div role=\\\"alert\\\" ng-if=\\\"$ctrl.errorMessage && $ctrl.errorMessage.length > 0\\\"> <div class=\\\"alert alert-error in text-center\\\"> <div class=\\\"message-holder\\\"><span class=\\\"vms_fi_alert6003-16\\\"></span><span class=\\\"auth-message sk-font-standard-text\\\" sk-resource-string=\\\"{{$ctrl.errorMessage}}\\\"></span></div> </div> </div> <div role=\\\"alert\\\" ng-if=\\\"$ctrl.successMessage && $ctrl.successMessage.length > 0\\\"> <div class=\\\"alert alert-success in text-center\\\"> <div class=\\\"message-holder\\\"><span class=\\\"vms_fi_alert6015-16\\\"></span><span class=\\\"auth-message sk-font-standard-text\\\" sk-resource-string=\\\"{{$ctrl.successMessage}}\\\"></span></div> </div> </div> <div class=\\\"reset-instructions sk-font-modal-caption\\\" sk-resource-string=\\\"public.cisco.forgotpassword.text\\\"></div> <div> <msx-input-box type=\\\"text\\\" field-id=\\\"username\\\" name=\\\"username\\\" formname=\\\"loginForm\\\" placeholder=\\\"public.cisco.login.label.username\\\" msx-model=\\\"$ctrl.username\\\" label=\\\"public.cisco.login.label.username\\\" show-label=\\\"false\\\" input-error-message=\\\"public.cisco.login.label.username.error\\\"></msx-input-box> </div> <div class=\\\"auth-button-group button-equal-space-bar\\\"> <button tabindex=\\\"0\\\" class=\\\"button button--medium button--secondary\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.returnToLogin()\\\" sk-resource-string=\\\"public.cisco.labels.cancel\\\"></button><button tabindex=\\\"0\\\" ng-disabled=\\\"!$ctrl.username\\\" class=\\\"button button--medium button--cta\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.sendReset($ctrl.username)\\\" sk-resource-string=\\\"public.cisco.forgotpassword.resetpassword.label\\\"></button> </div> </div> </form> </div> </div> <div class=\\\"auth-copyright sk-font-metadata-small\\\" sk-resource-string=\\\"public.cisco.login.label.copyright\\\"></div> </div> \";","module.exports = \"<div id=\\\"auth-contents\\\" ng-if=\\\"$ctrl.userId\\\" class=\\\"auth-contents\\\"> <div class=\\\"auth-contents-container\\\"> <h1 class=\\\"app-title sk-font-modal-title\\\" sk-resource-string=\\\"public.cisco.resetpassword.label\\\"></h1> <form class=\\\"form-signin\\\" action=\\\"\\\" novalidate autocomplete=\\\"off\\\"> <div class=\\\"controls auth-field-controls\\\" ng-keypress=\\\"$ctrl.customA11yHandler($event)\\\"> <div role=\\\"alert\\\" ng-if=\\\"$ctrl.errorMessage && $ctrl.errorMessage.length > 0\\\"> <div class=\\\"alert alert-error text-center\\\"> <div class=\\\"message-holder\\\"><span class=\\\"vms_fi_alert6003-16\\\"></span><span class=\\\"auth-message sk-font-standard-text\\\" sk-resource-string=\\\"{{$ctrl.errorMessage}}\\\"></span></div> </div> </div> <div role=\\\"alert\\\" ng-if=\\\"$ctrl.successMessage && $ctrl.successMessage.length > 0\\\"> <div class=\\\"alert alert-success in text-center\\\"> <div class=\\\"message-holder\\\"><span class=\\\"vms_fi_alert6015-16\\\"></span><span class=\\\"auth-message sk-font-standard-text\\\" sk-resource-string=\\\"{{$ctrl.successMessage}}\\\"></span></div> </div> </div> <div class=\\\"reset-instructions sk-font-modal-caption\\\" sk-resource-string=\\\"{{$ctrl.resetPasswordText}}\\\"></div> <div class=\\\"reset-input-wrapper\\\"> <msx-input-box ng-msx-tabindex=\\\"1\\\" type=\\\"{{ $ctrl.showCharctersCheck ? 'text': 'password' }}\\\" field-id=\\\"password\\\" name=\\\"password-{{$ctrl.randomPasswordFieldSuffix}}\\\" formname=\\\"resetForm\\\" placeholder=\\\"public.cisco.login.label.password\\\" autofocus=\\\"true\\\" autocomplete=\\\"new-password\\\" msx-model=\\\"$ctrl.password\\\" label=\\\"public.cisco.login.label.password\\\" show-label=\\\"false\\\" msx-change=\\\"$ctrl.passwordInput()\\\" msx-focus=\\\"$ctrl.focusHandler('password')\\\" msx-blur=\\\"$ctrl.blurHandler('password')\\\" input-error-message=\\\"public.cisco.login.label.password.error\\\"></msx-input-box> <div class=\\\"input-recommentations\\\" ng-show=\\\"$ctrl.rules && $ctrl.rules.length !== 0\\\"> <i role=\\\"button\\\" tabindex=\\\"3\\\" title=\\\"{{$ctrl.getTranslation('public.cisco.resetpassword.characteristics')}}\\\" aria-label=\\\"{{$ctrl.getTranslation('public.cisco.resetpassword.characteristics')}}\\\" class=\\\"vms_fi_font_button vms_fi_outline_on_focus vms_fi_font_small vms_fi_alert6005-16 show-recommendations-icon\\\" ng-click=\\\"$ctrl.showRecomendation();\\\"></i> <div class=\\\"validation-recommendations\\\" ng-show=\\\"$ctrl.displayRecomendation\\\"> <span class=\\\"vms_fi_font_button vms_fi_font_small vms_fi_action2013-16 vms_fi_outline_on_focus remote-user-info-close pull-right\\\" ng-click=\\\"$ctrl.closeInfo()\\\" role=\\\"button\\\" tabindex=\\\"0\\\"></span> <p class=\\\"sk-font-table-header\\\" sk-resource-string=\\\"public.cisco.resetpassword.characteristics\\\"></p> <div class=\\\"input-recommendation-rules\\\"> <div class=\\\"input-recommendation-rule-wrapper\\\" ng-repeat=\\\"rule in $ctrl.rules\\\"> <span class=\\\"input-recommendation-rule-icon vms_fi_alert6008-16\\\"></span><span class=\\\"input-recommendation-rule\\\" sk-resource-string=\\\"{{rule}}\\\"></span> </div> </div> </div> </div> <div class=\\\"auto-suggest-password-box\\\" ng-class=\\\"{'slide-in-show': $ctrl.showPasswordSuggest}\\\" role=\\\"alert\\\"><div class=\\\"auto-suggest-password-box-content\\\"><div class=\\\"auto-suggest-password-suggestion\\\"><div class=\\\"auto-suggest-password-suggestion-block\\\" ng-click=\\\"$ctrl.selectSuggestion()\\\" role=\\\"button\\\" tabindex=\\\"{{$ctrl.suggestedPassword != null ? 0 : -1}}\\\"><div class=\\\"auto-suggest-password-suggestion-block-label sk-font-standard-text\\\" sk-resource-string=\\\"public.cisco.reset.password.autosuggest.title\\\"></div><div class=\\\"auto-suggest-password-suggestion-block-value sk-font-standard-text\\\"><msx-busy-indicator radius=\\\"0.75\\\" stroke=\\\".2\\\" ng-if=\\\"$ctrl.suggestedPassword == null\\\"></msx-busy-indicator><span aria-live=\\\"polite\\\">{{$ctrl.suggestedPassword}}</span></div></div><div role=\\\"button\\\" ng-click=\\\"$ctrl.handleSuggestionReload()\\\" title=\\\"$ctrl.getTranslation('public.cisco.reset.password.reload.suggested.password.label')\\\" tabindex=\\\"{{$ctrl.showPasswordSuggest ? 0 : -1}}\\\" class=\\\"auto-suggest-password-suggestion-reload vms_fi_font_medium vms_fi_action2016-24\\\"></div></div><div class=\\\"auto-suggest-password-info sk-font-standard-text\\\" sk-resource-string=\\\"public.cisco.reset.password.autosuggest.information.label\\\"></div> </div></div> </div> <div> <msx-input-box ng-msx-tabindex=\\\"2\\\" type=\\\"{{ $ctrl.showCharctersCheck ? 'text': 'password' }}\\\" field-id=\\\"confirmPassword\\\" name=\\\"confirmPassword-{{$ctrl.randomPasswordFieldSuffix}}\\\" formname=\\\"resetForm\\\" autocomplete=\\\"new-password\\\" placeholder=\\\"public.cisco.resetpassword.label.confirmpassword\\\" msx-model=\\\"$ctrl.confirmPassword\\\" label=\\\"public.cisco.resetpassword.label.confirmpassword\\\" show-label=\\\"false\\\" msx-focus=\\\"$ctrl.focusHandler('confirmPassword')\\\" input-error-message=\\\"public.cisco.resetpassword.label.confirmpassword.error\\\"></msx-input-box> </div> <div class=\\\"auth-forgot-password\\\"> <span class=\\\"remember-me pull-left\\\"> <label class=\\\"checkbox\\\"> <input type=\\\"checkbox\\\" checked=\\\"{{$ctrl.showCharctersCheck}}\\\" ng-model=\\\"$ctrl.showCharctersCheck\\\"> <span tabindex=\\\"0\\\" ng-keypress=\\\"$ctrl.toggleShowPassword($event)\\\" class=\\\"checkbox__input\\\" aria-label=\\\"$ctrl.getTranslation('public.cisco.resetpassword.showpassword')\\\" role=\\\"checkbox\\\" aria-checked=\\\"{{$ctrl.showCharctersCheck}}\\\"></span> <span class=\\\"checkbox__label\\\" sk-resource-string=\\\"public.cisco.resetpassword.showpassword\\\"></span> </label> </span> </div> <div class=\\\"auth-button-group button-equal-space-bar\\\"> <button tabindex=\\\"0\\\" class=\\\"button button--medium button--secondary\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.returnToLogin()\\\" sk-resource-string=\\\"public.cisco.labels.backtologin.label\\\"></button><button type=\\\"button\\\" ng-disabled=\\\"!$ctrl.password || !$ctrl.confirmPassword\\\" class=\\\"button button--medium button--cta\\\" type=\\\"submit\\\" ng-click=\\\"$ctrl.resetPassword($ctrl.password, $ctrl.confirmPassword)\\\" sk-resource-string=\\\"public.cisco.labels.create.password\\\"></button> </div> </div> </form> </div> </div> <div ng-if=\\\"!$ctrl.userId\\\" class=\\\"auth-contents\\\"> <div class=\\\"auth-contents-container auth-contents-container-expired\\\"> <div ng-show=\\\"$ctrl.passwordChanged\\\" class=\\\"text-center\\\"> <h1 class=\\\"reset-success\\\" sk-resource-string=\\\"public.cisco.resetpassword.initiated\\\"></h1> <h3 sk-resource-string=\\\"public.cisco.resetpassword.inprocess\\\"></h3> <br> </div> <div ng-show=\\\"$ctrl.linkExpired\\\" class=\\\"text-center\\\"> <h1 class=\\\"reset-error\\\" sk-resource-string=\\\"public.cisco.resetpassword.cannotaccess\\\"></h1> <h3 sk-resource-string=\\\"public.cisco.resetpassword.linkexpired\\\"></h3> <br> </div> <div ng-show=\\\"$ctrl.passwordError\\\" class=\\\"text-center\\\"> <h1 class=\\\"reset-error\\\" sk-resource-string=\\\"public.cisco.resetpassword.failed\\\"></h1> <h3 sk-resource-string=\\\"public.cisco.resetpassword.trylater\\\"></h3> <br> </div> <div class=\\\"auth-button-group\\\"> <button tabindex=\\\"0\\\" class=\\\"button button--medium button--secondary\\\" type=\\\"button\\\" ng-click=\\\"$ctrl.returnToLogin()\\\" sk-resource-string=\\\"public.cisco.labels.backtologin.label\\\"></button> </div> </div> </div> <div class=\\\"auth-copyright sk-font-metadata-small\\\" sk-resource-string=\\\"public.cisco.login.label.copyright\\\"></div> \";","module.exports = \"<msx-busy-indicator class=\\\"vms-busy-screen-center\\\" delay=\\\"500\\\" radius=\\\"6.4\\\"></msx-busy-indicator>\";","module.exports = \"<div class=\\\"modal-title sk-font-modal-title\\\" sk-resource-string=\\\"public.cisco.common.user.password.expiry\\\"></div> <div class=\\\"modal-body sk-font-modal-caption\\\"> <div class=\\\"sk-font-modal-caption\\\" sk-resource-string=\\\"{{$ctrl.expirationMessage}}\\\"></div> </div> <div class=\\\"modal-footer\\\"> <div class=\\\"button-bar center-buttons\\\"> <button tabindex=\\\"0\\\" type=\\\"button\\\" class=\\\"button button--medium button--cta\\\" ng-click=\\\"$ctrl.ok()\\\" sk-resource-string=\\\"public.cisco.labels.ok\\\"></button> </div></div>\";","module.exports = \"<div class=\\\"msx-busy-indicator\\\"> </div> \";","module.exports = \"<div class=\\\"skInputBox\\\"> <div class=\\\"form-group\\\" ng-class=\\\"{'form-group-input-box' : $ctrl.inputData.$invalid && !$ctrl.inputData.$pristine}\\\"> <div class=\\\"form-group__text\\\"><input class=\\\"sk-font-standard-text sk-input-box-input\\\" ng-if=\\\"$ctrl.ngModelOptions != null\\\" aria-label=\\\"{{$ctrl.ariaInputlabel}}\\\" type=\\\"{{$ctrl._getFieldType()}}\\\" id=\\\"{{$ctrl.fieldId}}\\\" name=\\\"{{$ctrl.name}}\\\" title=\\\"{{$ctrl.title}}\\\" placeholder=\\\"{{$ctrl._placeholder}}\\\" focus-if=\\\"$ctrl.autofocus\\\" autocomplete=\\\"{{$ctrl.autocomplete}}\\\" ng-model=\\\"$ctrl.msxModel\\\" ng-class=\\\"$ctrl.msxClass\\\" maxlength=\\\"{{$ctrl.maxlength}}\\\" minlength=\\\"{{$ctrl.minlength}}\\\" max=\\\"{{$ctrl.max}}\\\" min=\\\"{{$ctrl.min}}\\\" ng-pattern=\\\"$ctrl.__msxPattern\\\" vms-type=\\\"{{$ctrl.type}}\\\" ng-required=\\\"{{$ctrl.msxRequired}}\\\" ng-trim=\\\"{{$ctrl._msxTrim}}\\\" tabIndex=\\\"{{$ctrl._msxDisabled || $ctrl.msxReadonly ? -1 : $ctrl.msxTabindex || 0}}\\\" ng-readonly=\\\"$ctrl._msxReadonly ? true : false\\\" ng-disabled=\\\"$ctrl._msxDisabled ? true : false\\\" ng-focus=\\\"$ctrl.msxFocus();\\\" ng-blur=\\\"$ctrl.msxBlur();\\\" ng-change=\\\"$ctrl._valueChanged($ctrl.msxModel)\\\" ng-model-options=\\\"$ctrl.ngModelOptions\\\"><label class=\\\"sk-font-standard-text\\\" for=\\\"{{$ctrl.elmid}}\\\" ng-class=\\\"$ctrl.inputData.$invalid && !i$ctrl.nputData.$pristine ? 'input-error' : ''\\\"><span ng-show=\\\"$ctrl.showStarWithoutLabel()\\\" class=\\\"no-label-star required-icon vms_fi_contact15006-16 no-label-star\\\" ng-if=\\\"$ctrl.msxReadonly == null || !Boolean($ctrl.msxReadonly())\\\"></span><div ng-show=\\\"{{$ctrl._showLabel}}\\\" class=\\\"skinputbox-label-wrapper\\\"><span vms-resource-string=\\\"{{ $ctrl.label }}\\\" class=\\\"sk-input-text-label\\\"></span>:<span ng-show=\\\"$ctrl.showStarWithLabel()\\\" class=\\\"with-label-star required-icon vms_fi_contact15006-16\\\" ng-if=\\\"$ctrl.msxReadonly == null || !Boolean($ctrl.msxReadonly())\\\"></span></div> </label><div class=\\\"show-password-block\\\" ng-if=\\\"$ctrl.allowPasswordReveal && $ctrl.type === 'password'\\\" ng-keypress=\\\"$ctrl.a11yHandler($event)\\\"><span class=\\\"vms_fi_font_small vms_fi_editor7037-16 show-password-icon vms_fi_font_button vms_fi_outline_on_focus\\\" ng-if=\\\"$ctrl._getFieldType() === 'password' && !$ctrl._loadingPassword\\\" ng-click=\\\"$ctrl._showPassword()\\\" tabindex=\\\"0\\\" role=\\\"button\\\" aria-label=\\\"{{$ctrl.getTranslation('public.cisco.common.button.show.password')}}\\\"></span><msx-busy-indicator class=\\\"loading-password-icon\\\" ng-if=\\\"$ctrl._loadingPassword\\\" radius=\\\"0.8\\\" stroke=\\\".2\\\"></msx-busy-indicator><span class=\\\"vms_fi_font_small vms_fi_editor7038-16 hide-password-icon vms_fi_font_button vms_fi_outline_on_focus\\\" ng-if=\\\"$ctrl._getFieldType() === 'text' && !$ctrl._loadingPassword\\\" ng-click=\\\"$ctrl._hidePassword()\\\" tabindex=\\\"0\\\" role=\\\"button\\\" aria-label=\\\"{{$ctrl.getTranslation('public.cisco.common.button.hide.password')}}\\\"></span></div><div class=\\\"copy-input-block\\\" ng-if=\\\"$ctrl.showCopy && $ctrl.msxModel && $ctrl.msxModel.length\\\" ng-keypress=\\\"$ctrl.a11yHandler($event)\\\"><span class=\\\"copy-icon vms_fi_font_small vms_fi_nav1004-16 vms_fi_font_button vms_fi_outline_on_focus\\\" uib-tooltip=\\\"{{$ctrl.getTranslation($ctrl.copyBtnTooltip)}}\\\" tooltip-append-to-body=\\\"true\\\" tooltip-class=\\\"msx-copy-to-clipboard-icon-tooltip\\\" ng-click=\\\"$ctrl._copyInput($ctrl.msxModel)\\\" tabindex=\\\"0\\\" role=\\\"button\\\"></span></div><span class=\\\"error-icon vms_fi_font_small vms_fi_alert6003-16\\\"></span><div class=\\\"tooltipblock\\\" ng-show=\\\"$ctrl.msxTooltip\\\"> <span class=\\\"info-icon vms_fi_font_small vms_fi_alert6005-16\\\" data-toggle=\\\"tooltip\\\" data-container=\\\"body\\\" data-html=\\\"true\\\"></span></div></div><p role=\\\"alert\\\" ng-if=\\\"($ctrl.msxForceShowErrorMessage || $ctrl.inputData.$invalid && !$ctrl.inputData.$pristine) && $ctrl.inputErrorMessage != null && $ctrl.inputErrorMessage != '' \\\" class=\\\"help-block sk-font-metadata-small\\\" vms-resource-string=\\\"{{ $ctrl.inputErrorMessage }}\\\"></p><p ng-if=\\\"$ctrl.inputData.$dirty && $ctrl.inputData.$invalid && !$ctrl.inputErrorMessage\\\" class=\\\"help-block sk-font-metadata-small\\\" role=\\\"alert\\\"><span>{{$ctrl.resolveError($ctrl.inputData.$error)}}</span></p></div></div> \";","module.exports = \"<div class=\\\"msx-modal-dialog\\\"></div> \";","/**\n * @fileOverview /modules/core/routes/router.js\n * @description RouteProvider , responsible for setting up routes / states.\n */\n(function(angular) {\n\t'use strict';\n\tangular.module('skPlatformBoot')\n\t\t.provider('router', ['$stateProvider', '$injector', function($stateProvider, $injector) {\n\t\t\tthis.route = function(routeName) {\n\t\t\t\tvar route = $injector.get(routeName + 'Provider');\n\t\t\t\troute.setup();\n\t\t\t};\n\t\t\tthis.$get = angular.noop;\n\t\t}]);\n})(window.angular);","/**\n * @fileOverview /modules/core/routes/route.auth.js\n * @description Defines states for auth pages.\n */\n(function(angular) {\n\t'use strict';\n\n\tangular.module('skPlatformBoot')\n\t\t.provider('routeAuth', ['$stateProvider', '$controllerProvider', '$compileProvider', '$provide',\n\t\t\tfunction($stateProvider, $controllerProvider, $compileProvider, $provide) {\n\t\t\t\tvar providers = {\n\t\t\t\t\t$controllerProvider: $controllerProvider,\n\t\t\t\t\t$compileProvider: $compileProvider,\n\t\t\t\t\t$provide: $provide\n\t\t\t\t};\n\t\t\t\tthis.setup = function() {\n\t\t\t\t\t$stateProvider\n\t\t\t\t\t\t.state('auth', {\n\t\t\t\t\t\t\tviews: {\n\t\t\t\t\t\t\t\t'content': {\n\t\t\t\t\t\t\t\t\tcomponent: \"msxAuth\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\t\t\"_i18nMods\": [\"$q\", \"skI18nService\", \"$localStorage\", function($q, skI18nService, $localStorage){\n\t\t\t\t\t\t\t\t\t$localStorage.locale = null;\n\t\t\t\t\t\t\t\t\tvar registerAndBootPublicI18N = function(){\n\t\t\t\t\t\t\t\t\t\tvar def = $q.defer();\n\t\t\t\t\t\t\t\t\t\tskI18nService.registerMessageBundle(\"msx-ui-platform-public\", \"/idm/webjars/i18n/public/i18n.json\", \"root\");\n\t\t\t\t\t\t\t\t\t\tskI18nService.initI18N()[\"finally\"](function(){\n\t\t\t\t\t\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\treturn def.promise;\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\treturn registerAndBootPublicI18N();\n\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"abstract\": true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.state('auth.login', {\n\t\t\t\t\t\t\turl: '/login',\n\t\t\t\t\t\t\tcomponent: \"msxLogin\",\n\t\t\t\t\t\t\t\"public\": true,\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tusername: null,\n\t\t\t\t\t\t\t\tpassword: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.state('auth.otp', {\n\t\t\t\t\t\t\turl: '/otpverify',\n\t\t\t\t\t\t\tcomponent: \"msxOtp\",\n\t\t\t\t\t\t\t\"public\": true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.state('auth.error', {\n\t\t\t\t\t\t\turl: '/error',\n\t\t\t\t\t\t\tcomponent: \"msxAuthFailure\",\n\t\t\t\t\t\t\t\"public\": true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.state('auth.appLoading', {\n\t\t\t\t\t\t\turl: '/loading',\n\t\t\t\t\t\t\tcomponent: \"msxAppLoading\",\n\t\t\t\t\t\t\t\"public\": true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.state('auth.resetPassword', {\n\t\t\t\t\t\t\turl: '/changepassword?token&type&userId',\n\t\t\t\t\t\t\tcomponent: \"msxResetPassword\",\n\t\t\t\t\t\t\t\"public\": true\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.state('auth.forgotPassword', {\n\t\t\t\t\t\t\turl: '/forgotpassword',\n\t\t\t\t\t\t\tcomponent: \"msxForgotPassword\",\n\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\tusername: null\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\"public\": true\n\t\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tvar getJSONFromParam = function (queryString) {\n\t\t\t\t\tvar _ = window[\"_\"];\n\t\t\t\t\tvar queryStrArry = _.last(window.location.hash.split('?')).split('&');\n\t\t\t\t\tvar result = {};\n\t\t\t\t\tqueryStrArry.forEach(function (pair) {\n\t\t\t\t\t\tpair = pair.split('=');\n\t\t\t\t\t\tresult[pair[0]] = decodeURIComponent(pair[1] || '');\n\t\t\t\t\t});\n\t\t\t\t\treturn result;\n\t\t\t\t};\n\t\t\t\tthis.$get =angular.noop;\n\t\t\t}\n\t\t]);\n})(window.angular);\n","import jQuery from 'jquery/dist/jquery';\n\n// jQuery needs to be attached to the window before jQuery UI so it can be\n// loaded safely\nwindow.jQuery = jQuery;\nwindow.$ = jQuery;\n","import angular from 'angular';\nwindow.angular = angular;\n","import lodash from 'lodash';\nwindow._ = lodash;\n","import DOMPurify from 'dompurify/dist/purify.es';\nwindow.DOMPurify = DOMPurify;\n","import he from 'he';\nwindow.he = he;\n","import d3 from 'd3';\n\nwindow.d3 = d3;\n\nexport default d3;\n","// Copyright  2021 Cisco Systems, Inc.  All Rights Reserved.\n\nconst angular = window[\"angular\"];\nconst moduleName = 'skPlatformBoot';\nlet module;\ntry {\n\tmodule = angular.module(moduleName);\n} catch (err) {\n\t// named module does not exist, so create one\n\tmodule = angular.module(moduleName, [\"ng\",\n\t\t\"skPlatformBootPrereqs\",\n\t\t'ui.router',\n\t\t\"ui.bootstrap\",\n\t\t\"ngStorage\",\n\t\t\"ngSanitize\",\n\t\t\"ngUUID\",\n\t\t\"i18nHelpers\",\n\t\t\"msx.components.formfields\",\n\t\t\"focus-if\",\n\t\t\"msx.systemServices\",\n\t\t\"msx.platform.constants\",\n\t\t\"msx.core.a11yHelpers\"\n\t]);\n}\nexport default module;","// Copyright  2021 Cisco Systems, Inc.  All Rights Reserved.\n\nimport bootModule from \"./module_platformBoot\";\nconst angular = window[\"angular\"];\n\nangular.module(\"skPlatform\", [\"ngStorage\"]);\nangular.module(\"skPlatformBootPrereqs\", [\"ngStorage\"]);\t\nbootModule\n\t.constant(\"_\", window._)\n\t.constant('DOMPurify', window.DOMPurify)\n\t.constant('he', window.he)\n\t.config([\"$httpProvider\", \"$stateProvider\", \"$locationProvider\", \"$urlRouterProvider\", \"routerProvider\",\n\t\t\"$controllerProvider\", \"$compileProvider\", \"$provide\", \"$localStorageProvider\",\n\t\tfunction($httpProvider, $stateProvider, $locationProvider, $urlRouterProvider, router,\n\t\t\t$controllerProvider, $compileProvider, $provide, $localStorageProvider) {\n\t\t\ttry {\n\t\t\t\tif($locationProvider && typeof $locationProvider.hashPrefix === \"function\"){\n\t\t\t\t\t$locationProvider.hashPrefix(\"\");\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t//To disable IE cache GET calls globally\n\t\t\t\tif (!$httpProvider.defaults.headers.get) {\n\t\t\t\t\t$httpProvider.defaults.headers.get = {};\n\t\t\t\t}\n\n\t\t\t\t$httpProvider.defaults.headers.get[\"If-Modified-Since\"] = \"Mon, 1 Jan 1997 05:00:00 GMT\";\n\t\t\t\t$httpProvider.defaults.headers.get[\"Cache-Control\"] = \"no-cache\";\n\t\t\t\t$httpProvider.defaults.headers.get[\"Pragma\"] = \"no-cache\";\n\n\t\t\t\t// Routes : route defined at /modules/core/routes\n\t\t\t\trouter.route(\"routeAuth\");\n\n\t\t\t\t// We do not initially want an otherwise route check, that's handled in app.js,\n\t\t\t\t// so we rely on run to check if the Auth header we already have (if any) is valid first\n\t\t\t\t// and if it is, we go into the app.  If not, we go to /login\n\t\t\t} catch (e) {\n\t\t\t\tconsole[\"error\"](\"An error occurred in configuration of application boot.  The error was:\", e);\n\t\t\t}\n\t\t}\n\t])\n\t.run([\n\t\t\"$window\",\n\t\t\"$location\",\n\t\t\"$http\",\n\t\t\"$rootScope\",\n\t\t\"$state\",\n\t\t\"$timeout\",\n\t\t\"$stateParams\",\n\t\t\"$localStorage\",\n\t\t\"$uibModal\",\n\t\t\"$uuid\",\n\t\t\"$sessionStorage\",\n\t\t\"$uibModalStack\",\n\t\t\"skI18nService\",\n\t\t\"$q\",\n\t\t\"rbacService\",\n\t\t\"$transitions\",\n\t\tfunction($window, $location, $http, $rootScope, $state, $timeout,\n\t\t\t$stateParams, $localStorage, $uibModal,\n\t\t\t$uuid, $sessionStorage, $uibModalStack, skI18nService, $q, rbacService, $transitions) {\n\t\t\tconst $ = angular.element;\n\n\n\t\t\t// First thing we need to do is init I18N, everything else will follow from\n\t\t\t// that.\n\t\t\t$localStorage.initialBoot = true;\n\t\t\t$localStorage.timedout = false;\n\n\t\t\tvar GATEWAY_URL = window[\"GATEWAY_URL\"];\n\t\t\tvar CONTEXT = window[\"contextPath\"];\n\t\t\tvar GO_TO_ERROR = window[\"GO_TO_ERROR_PAGE\"];\n\n\t\t\tif (!GATEWAY_URL) {\n\t\t\t\tvar port = $location.port();\n\t\t\t\tvar host = $location.host();\n\t\t\t\tvar protocol = $location.protocol().toLowerCase();\n\t\t\t\tGATEWAY_URL = protocol + \"://\" + host;\n\t\t\t\tvar intPort = parseInt(port, 10);\n\t\t\t\tif (protocol === \"http\" && intPort !== 80) {\n\t\t\t\t\tGATEWAY_URL += \":\" + port;\n\t\t\t\t}\n\t\t\t\tif (protocol === \"https\" && intPort !== 443) {\n\t\t\t\t\tGATEWAY_URL += \":\" + port;\n\t\t\t\t}\n\t\t\t\tconsole[\"log\"](\"Configuring gateway URL as: [\" + GATEWAY_URL + \"].  Also setting UIROOTURL to the same value.\");\n\t\t\t\twindow[\"GATEWAY_URL\"] = GATEWAY_URL;\n\t\t\t\twindow[\"UIROOTURL\"] = GATEWAY_URL;\n\t\t\t}\n\n\t\t\t$localStorage.API_GATEWAY_HOSTNAME = GATEWAY_URL;\n\t\t\t$localStorage.timedout = null;\n\n\t\t\tvar registerAndBootPublicI18N = function(){\n\t\t\t\tvar def = $q.defer();\n\t\t\t\tskI18nService.registerMessageBundle(\"msx-ui-platform-public\", CONTEXT + \"/webjars/i18n/public/i18n.json\", \"root\");\n\t\t\t\tskI18nService.initI18N()[\"finally\"](function(){\n\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t$rootScope.__i18nServiceInitialized = true;\n\t\t\t\t});\n\t\t\t\treturn def.promise;\n\t\t\t};\n\n\t\t\tvar hasCheckedAndLoadedBrand = false;\n\n\t\t\tvar stateChangeCheck = function(){\n\t\t\t\tif(hasCheckedAndLoadedBrand){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$(\".sk-auth-hidden\").removeClass(\"sk-auth-hidden\");\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t};\t\t\n\t\t\t\n\t\t\t$transitions.onSuccess({}, stateChangeCheck);\n\t\t\t$transitions.onError({}, stateChangeCheck);\n\n\t\t\tvar loadCurrentBrand = function() {\n\t\t\t\tvar def = $q.defer();\n\t\t\t\t$http({\n\t\t\t\t\t\tmethod: 'GET',\n\t\t\t\t\t\turl: GATEWAY_URL + \"/administration/api/v1/themes/published/active\"\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(pubData) {\n\t\t\t\t\t\tif (pubData && pubData.data && pubData.data.responseObject) {\n\t\t\t\t\t\t\tvar themes = pubData.data.responseObject;\n\t\t\t\t\t\t\tif (themes.length === 1) {\n\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\tvar parsed = JSON.parse(themes[0].customCSS) || \"\";\n\t\t\t\t\t\t\t\t\tif(parsed && typeof parsed.css === \"string\"){\n\t\t\t\t\t\t\t\t\t\tparsed.css = parsed.css.replace(/\\.\\.\\/images\\//gi, \"../webjars/images/\");\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tvar location = $(\"head\");\n\t\t\t\t\t\t\t\t\t$(\"<style></style>\", {\n\t\t\t\t\t\t\t\t\t\t\"id\": \"appCustom\"\n\t\t\t\t\t\t\t\t\t}).appendTo(location);\n\t\t\t\t\t\t\t\t\t$(\"#appCustom\")[0].innerHTML = parsed.css;\n\t\t\t\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\t\t\t\t$(window).trigger('resize');\n\t\t\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t\t\t\tif (parsed.strings) { // check for custom localization strings\n\t\t\t\t\t\t\t\t\t\t$localStorage.themeCustomResourceStrings = parsed.strings;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$localStorage.themeCustomResourceStrings = null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tparsed = \"\";\n\t\t\t\t\t\t\t\t\tpubData = \"\";\n\t\t\t\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t\t\t\t$localStorage.themeCustomResourceStrings = null;\n\t\t\t\t\t\t\t\t\tconsole[\"error\"](\"There was an issue parsing the theme data.  Not applying\", ex);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$localStorage.themeCustomResourceStrings = null;\n\t\t\t\t\t\t\t\tconsole[\"error\"](\"There is more than one active theme, ignoring.\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t}, function(brandError) {\n\t\t\t\t\t\t// No brand/404, so just resolve.\n\t\t\t\t\t\t$localStorage.themeCustomResourceStrings = null;\n\t\t\t\t\t\tif (brandError && brandError.status !== 404) {\n\t\t\t\t\t\t\t// No custom theme, which is fine.\n\t\t\t\t\t\t\tconsole[\"log\"](\"A non-404 error occurred looking up custom brand.  Server response was: \", brandError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t});\n\t\t\t\treturn def.promise;\n\t\t\t};\n\n\t\t\t// First thing is to check for any stale access tokens, and if there is a stale one, clear it.  Then\n\t\t\t// we init I18n, check saml config, and load the current brand.  Only then do we go to tthe rest of the flow.\n\t\t\tloadCurrentBrand().then(function(){\n\t\t\t\tregisterAndBootPublicI18N()[\"finally\"](function(){\n\t\t\t\t\thasCheckedAndLoadedBrand = true;\n\t\t\t\t\t// We have loaded the brand and any needed i18n, now we can show stuff.\n\t\t\t\t\t$(\".sk-auth-hidden\").removeClass(\"sk-auth-hidden\");\n\t\t\t\t\t// Adding this so that swapping between screens doesn't cause a blip-flicker.\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t$(\"body\").addClass(\"sk-fully-initialized\");\n\t\t\t\t\t}, 500);\n\t\t\t\t\tif (!$sessionStorage.tabId) {\n\t\t\t\t\t\t$sessionStorage.tabId = $uuid();\n\t\t\t\t\t}\n\t\t\t\t\tvar url;\n\t\t\t\t\t$localStorage.resourceStrings = $localStorage.resourceStrings || {};\n\t\t\t\t\t$localStorage.resourceStrings.currentValue = $localStorage.resourceStrings.currentValue || 0;\n\n\t\t\t\t\tvar paths = [\"/changepassword\", \"/forgotpassword\", \"/otpverify\"];\n\t\t\t\t\tvar isPublicPath = false;\n\t\t\t\t\tvar k;\n\t\t\t\t\tfor (k = 0; k < paths.length; k++) {\n\t\t\t\t\t\tif ($location.url().indexOf(paths[k]) === 0) {\n\t\t\t\t\t\t\tisPublicPath = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttry {\n\t\t\t\t\t\t// We aren\"t authorized, so lets check the url data\n\t\t\t\t\t\t// to see if we need to redirect, or if we\"re okay for\n\t\t\t\t\t\t// the moment in terms of a target location.\n\t\t\t\t\t\turl = $location.url();\n\n\t\t\t\t\t\tif (url) {\n\t\t\t\t\t\t\tif (url != \"/login\" &&\n\t\t\t\t\t\t\t\turl != \"/error\" &&\n\t\t\t\t\t\t\t\turl != \"/loading\" &&\n\t\t\t\t\t\t\t\turl != \"/otpverify\" &&\n\t\t\t\t\t\t\t\turl.indexOf(\"/login?\") < 0 &&\n\t\t\t\t\t\t\t\turl.indexOf(\"/changepassword\") < 0 &&\n\t\t\t\t\t\t\t\turl.indexOf(\"/forgotpassword\") < 0) {\n\t\t\t\t\t\t\t\t$state.go(\"auth.login\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(GO_TO_ERROR){\n\t\t\t\t\t\t\t\t$state.go(\"auth.error\");\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t$state.go(\"auth.login\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\t// If any sort of error occurs trying to check the url, just drop to login.\n\t\t\t\t\t\t\tif(GO_TO_ERROR){\n\t\t\t\t\t\t\t\t$state.go(\"auth.error\");\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t$state.go(\"auth.login\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t$rootScope.$state = $state;\n\t\t\t\t\t$rootScope.$stateParams = $stateParams;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t]);\n\n","// Copyright  2020 Cisco Systems, Inc.  All Rights Reserved.\n\nconst angular = window[\"angular\"];\nconst moduleName = \"msx.core.a11yHelpers\";\nlet module;\ntry {\n\tmodule = angular.module(moduleName);\n} catch (err) {\n\t// named module does not exist, so create one\n\tmodule = angular.module(moduleName, []);\n}\n\nexport default module;","// Copyright  2020 Cisco Systems, Inc.  All Rights Reserved.\n\nimport module from \"./index\";\n\nmodule.service(\"msx.a11yMixins\", [\"$timeout\", \"skKeyConstants\", function($timeout, keys){\n\tconst obj = {};\n\tconst angular = window[\"angular\"];\n\tconst $ = angular.element;\n\tobj.a11yHandler = function(evt) {\n\t\tif (evt && evt.target) {\n\t\t\tvar tag = evt.target.tagName ? evt.target.tagName.toLowerCase() : \"\";\n\t\t\tvar processIt = true;\n\n\t\t\tif (tag === \"textarea\" || tag === \"input\" || tag === \"button\") {\n\t\t\t\tprocessIt = false;\n\t\t\t}\n\n\t\t\tif (processIt) {\n\t\t\t\tif (evt.charCode === keys.SPACE || evt.keyCode === keys.ENTER) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t$(evt.target).trigger(\"click\");\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\t\n\tobj.mixinTo = function(tObj){\n\t\tconst newObj = {};\n\t\t$.extend(newObj, obj);\n\t\tdelete newObj.mixinTo;\n\t\t$.extend(tObj, newObj); \n\t};\n\t\n\treturn obj;\n\t\n}]);","// Copyright  2020 Cisco Systems, Inc.  All Rights Reserved.\n\nconst angular = window[\"angular\"];\nconst moduleName = \"i18nHelpers\";\nlet module;\ntry {\n\tmodule = angular.module(moduleName);\n} catch (err) {\n\t// named module does not exist, so create one\n\tmodule = angular.module(moduleName, []);\n}\n\nexport default module;","// Copyright  2017-2020 Cisco Systems, Inc.  All Rights Reserved.\n\nimport module from \"./module.js\";\n\nmodule.service('localeList', [function() {\n\tconst obj = {};\n\n\tconst normalizeLocale = function(locale){\n\t\tlet bLocale = locale;\n\t\tif (bLocale) {\n\t\t\tbLocale = bLocale.toLowerCase();\n\t\t\tvar blocArr = bLocale.split(\"_\");\n\t\t\tif (blocArr.length === 2) {\n\t\t\t\tbLocale = blocArr[0] + \"_\" + blocArr[1].toUpperCase();\n\t\t\t}\n\t\t\tblocArr = bLocale.split(\"-\");\n\t\t\tif (blocArr.length === 2) {\n\t\t\t\tbLocale = blocArr[0] + \"_\" + blocArr[1].toUpperCase();\n\t\t\t}\n\t\t\tif (bLocale.length == 2) {\n\t\t\t\t// Map some languages, the short name to the\n\t\t\t\t// standardized base name.\n\t\t\t\tswitch (bLocale) {\n\t\t\t\t\tcase \"de\":\n\t\t\t\t\t\tbLocale = \"de_DE\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"fr\":\n\t\t\t\t\t\tbLocale = \"fr_FR\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"it\":\n\t\t\t\t\t\tbLocale = \"it_IT\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"ja\":\n\t\t\t\t\t\tbLocale = \"ja_JP\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tbLocale = bLocale || \"en_US\";\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn bLocale;\n\t};\n\n\tconst getLanguageKey = function(locale){\n\t\tlocale = normalizeLocale(locale);\n\t\treturn \"public.cisco.i18n.language.\" + locale;\n\t};\n\tobj.getLanguageKey = getLanguageKey;\n\tobj.normalizeLocale = normalizeLocale;\n\n\treturn obj;\n}]);","// Copyright  2017-2020 Cisco Systems, Inc.  All Rights Reserved.\n\nimport module from \"./module.js\";\nimport currencies from \"./json/currency.json\";\nimport localeToCurrency from \"./json/localeToCurrency.json\"; \n\nmodule.service('currencyList', [\"$rootScope\", \"_\", \"$localStorage\", \"localeList\",\n\tfunction($rootScope, _, $localStorage, localeList) {\n\t\tconst obj = {};\n\t\tconst getLanguageKey = function(currency){\n\t\t\tcurrency = currency || \"\";\n\t\t\tcurrency = currency.toUpperCase();\n\t\t\treturn \"cisco.i18n.currency.\" + currency;\n\t\t};\n\t\tconst getCurrency = function(currency){\n\t\t\tcurrency = currency || \"\";\n\t\t\tcurrency = currency.toUpperCase();\n\t\t\treturn JSON.parse(JSON.stringify(currencies[currency] || null));\n\t\t};\n\t\tconst getCurrencies = function(){\n\t\t\treturn JSON.parse(JSON.stringify(currencies));\n\t\t};\n\t\tconst getDefaultCurrencyForLocale = function(locale){\n\t\t\tlet currencyCode = \"USD\";\n\t\t\tif(locale){\n\t\t\t\tlocale = localeList.normalizeLocale(locale);\n\t\t\t\tif(locale.length > 2){\n\t\t\t\t\tconst split = locale.split(\"_\");\n\t\t\t\t\tconst specificLocale = split[1] || split[0];\n\t\t\t\t\tcurrencyCode = localeToCurrency[specificLocale] || currencyCode;\n\t\t\t\t}else{\n\t\t\t\t\tcurrencyCode = localeToCurrency[locale.toUpperCase()] || currencyCode;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn currencyCode;\n\t\t};\n\t\tobj.getLanguageKey = getLanguageKey;\n\t\tobj.getCurrency = getCurrency;\n\t\tobj.getCurrencies = getCurrencies;\n\t\tobj.getDefaultCurrencyForLocale = getDefaultCurrencyForLocale;\n\t\treturn obj;\n\t}]);\n","/*\n* @name /i18nService.js\n* @fileOverview Contains i18nService.js info.\n*/\n\nimport module from \"./module.js\";\n\nimport { Subject } from 'rxjs';\n\nvar FILE_VERSIONING = \"1619857593316\";\n\nconst angular = window[\"angular\"];\nconst $ = angular.element;\n\n// Simple function to strip out escaped characters from NLS strings.\nvar unescapeText = function(msg) {\n\tmsg = msg || \"\";\n\tmsg = msg.replace(/&#x27;/gi, \"'\");\n\tmsg = msg.replace(/&#x7b;/gi, \"{\");\n\tmsg = msg.replace(/&#x7d;/gi, \"}\");\n\tmsg = msg.replace(/&#x24;/gi, \"$\");\n\tmsg = msg.replace(/&#x3a;/gi, \":\");\n\tmsg = msg.replace(/&#x3f;/gi, \"?\");\n\tmsg = msg.replace(/&#x28;/gi, \"(\");\n\tmsg = msg.replace(/&#x29;/gi, \")\");\n\treturn msg;\n};\n\nvar stripInsecure = function(txt) {\n\tvar fTxt = txt || \"\";\n\tif (fTxt) {\n\t\tfTxt = fTxt.replace(/<\\s*script[^>]*>((.|\\s)*?)<\\\\?\\/\\s*script\\s*>/ig, \"\");\n\t\tfTxt = fTxt.replace(/<\\s*script\\b([^<>]|\\s)*>?/ig, \"\");\n\t\tfTxt = fTxt.replace(/<[^>]*=(\\s|)*[(\"|')]javascript:[^$1][(\\s|.)]*[$1][^>]*>/ig, \"\");\n\t\tfTxt = fTxt.replace(/<\\s*iframe[^>]*>((.|\\s)*?)<\\\\?\\/\\s*iframe\\s*>/ig, \"\");\n\t}\n\treturn fTxt;\n};\n\n\nvar msgCache = {};\n\nvar bundleCache = {};\n\nvar urlBundleCache = {};\n\nvar getCurrentBrowserLocale = function() {\n\treturn navigator.languages && navigator.languages.length ? navigator.languages[0] : (navigator.language || navigator.userLanguage);\n};\n\n/**\n\t@name getTimezoneFromBrowser\n\t@function\n\t@desc Function to try and return the timezone string from the browser.  This output will vary browser to browser,\n\tas it is extracted from the date object's full string.\n*/\nvar getTimezoneFromBrowser = function() {\n\tvar date = new Date();\n\n\t// Some of this logic is conceptually derived from the Dojo Toolkit\n\t// in how it looked up the date timezone but reworked for brevity.\n\tvar str = date.toString();\n\tvar tz = \"\";\n\n\t// The Timezone is almost always in parenthesis\n\tstr.replace(/\\(.+\\)/gi, function(m) {\n\t\ttz = m;\n\t\tif (tz && tz.length > 1) {\n\t\t\ttz = tz.substring(1, tz.length - 1);\n\t\t}\n\t\treturn m;\n\t});\n\n\tif (!tz) {\n\t\t// Older IE versions (Prior to 11) have the timezone before the date\n\t\t// so the lookup is annoying\n\t\tvar tzBeforeYear = /([A-Z\\/]+) \\d{4}$/;\n\t\tvar match;\n\t\tif ((match = str.match(tzBeforeYear))) {\n\t\t\ttz = match[1];\n\t\t}\n\t}\n\n\t// Make sure we are returning a timezone, not a meridian marker.\n\tif (tz !== \"AM\" && tz !== \"PM\") {\n\t\ttz = \"\";\n\t}\n\treturn tz;\n};\n\nvar messageBundleRegistry = {};\n\nvar registerMessageBundle = function(service, url, locale) {\n\tif (!service || !url) {\n\t\treturn;\n\t}\n\tif (!locale) {\n\t\tlocale = \"root\";\n\t}\n\tif (!messageBundleRegistry[service]) {\n\t\tmessageBundleRegistry[service] = {};\n\t}\n\tif (!messageBundleRegistry[service][locale]) {\n\t\tmessageBundleRegistry[service][locale] = {};\n\t}\n\tmessageBundleRegistry[service][locale].url = url;\n};\n\nvar hasRegisteredMessageBundle = function(service) {\n\tvar hasBundle = false;\n\tif (service) {\n\t\tif (messageBundleRegistry[service]) {\n\t\t\thasBundle = true;\n\t\t}\n\t}\n\treturn hasBundle;\n};\n\nmodule.service('skI18nService', [\"$rootScope\", \"_\", \"$localStorage\", \"$q\", \"$http\", \"localeList\", \"currencyList\", \"$timeout\",\n\tfunction($rootScope, _, $localStorage, $q, $http, localeList, currencyListService, $timeout) {\t\t\n\t\tconst substitute = function(msg, map) {\n\t\t\tmsg = msg || \"\";\n\t\t\tmap = map || {};\n\t\t\treturn msg.replace(/\\$\\{([^\\s\\:\\}]+)(?:\\:([^\\s\\:\\}]+))?\\}/g, function(match, key) {\n\t\t\t\treturn map[key] === undefined ? \"${\" + key + \"}\" : map[key];\n\t\t\t});\n\t\t};\n\t\t\n\t\tvar getCurrentLocale = function() {\n\t\t\tvar locale = \"\";\n\t\t\tif($localStorage.locale){\n\t\t\t\tlocale = $localStorage.locale;\n\t\t\t}else{\n\t\t\t\tlocale = getCurrentBrowserLocale();\n\t\t\t}\n\t\t\tlocale = locale.toLowerCase().replace(/_/gi, \"-\");\n\t\t\tvar locArray = locale.split(\"_\");\n\t\t\tif(locArray.length === 2){\n\t\t\t\tlocArray[1] = locArray[1].toUpperCase();\n\t\t\t\tlocale = locArray.join(\"_\");\n\t\t\t}\n\t\t\tlocArray = locale.split(\"-\");\n\t\t\tif(locArray.length === 2){\n\t\t\t\tlocArray[1] = locArray[1].toUpperCase();\n\t\t\t\tlocale = locArray.join(\"_\");\n\t\t\t}\n\t\t\treturn locale;\n\t\t};\n\n\t\tvar self = this;\n\t\tvar loadedI18nServices = [];\n\t\t\n\t\tvar generateModifiedResources = function(data) {\n\t\t\tvar returnArray = [{}, {}, {}];\n\t\t\t_.forEach(data || [], function(val, key){\n\t\t\t\treturnArray[0][key] = val;\n\t\t\t\treturnArray[1][key] = key;\n\t\t\t\treturnArray[2][key] = val + \" (\" + key + \")\";\n\t\t\t});\n\t\t\treturn returnArray;\n\t\t};\t\t\t\n\n\t\tvar loadRegisteredMessageBundle = function(service, localeList) {\n\t\t\tvar defer = $q.defer();\n\n\t\t\tif (!service) {\n\t\t\t\tdefer.resolve({});\n\t\t\t\treturn defer.promise;\n\t\t\t}\n\n\t\t\tif(_.indexOf(loadedI18nServices, service) < 0){\n\t\t\t\tloadedI18nServices.push(service);\n\t\t\t}\n\n\t\t\tif (!localeList) {\n\t\t\t\tlocaleList = [];\n\t\t\t}\n\n\t\t\tif (!bundleCache[service]) {\n\t\t\t\tbundleCache[service] = {};\n\t\t\t}\n\n\t\t\tvar handleLocaleLoad = function(locale){\n\t\t\t\tvar d = $q.defer();\n\t\t\t\tif (!bundleCache[service][locale]) {\n\t\t\t\t\tif (!messageBundleRegistry[service] || !messageBundleRegistry[service][locale] || !messageBundleRegistry[service][locale].url) {\n\t\t\t\t\t\t// No registered URL, and it hasn't been resolved, then set it empty and resolve it.\n\t\t\t\t\t\tif (locale !== \"en_US\" && locale !== \"en\") {\n\t\t\t\t\t\t\t// en_US is the default/root locale, so we don't need to emit an error on it.\n\t\t\t\t\t\t\tconsole[\"warn\"](\"There is no registered JSON resource bundle for service: [\" + service + \"] and locale: \" + locale + \"]\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\td.resolve({});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// We also want to handle locales all pointing to the same bundle, and only\n\t\t\t\t\t\t// loading it once.\n\t\t\t\t\t\tbundleCache[service][locale] = {\n\t\t\t\t\t\t\tcache: null,\n\t\t\t\t\t\t\tpromise: d.promise\n\t\t\t\t\t\t};\n\t\t\t\t\t\tvar url = messageBundleRegistry[service][locale].url + \"?v=\" + FILE_VERSIONING;\n\t\t\t\t\t\tif(urlBundleCache[url]){\n\t\t\t\t\t\t\tif(urlBundleCache[url].then){\n\t\t\t\t\t\t\t\turlBundleCache[url].then(function(data){\n\t\t\t\t\t\t\t\t\td.resolve(data);\n\t\t\t\t\t\t\t\t},function(err){\n\t\t\t\t\t\t\t\t\td.reject(err);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\td.resolve(urlBundleCache[url]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\tvar httpdd = $.ajax({\n\t\t\t\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\t\t\tasync: true\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t.then(function(resp) {\n\t\t\t\t\t\t\t\t\t// We successfully got back data from the server\n\t\t\t\t\t\t\t\t\tvar JSON = window[\"JSON\"];\n\t\t\t\t\t\t\t\t\tvar data = resp.data || resp;\n\t\t\t\t\t\t\t\t\tif (typeof data === \"string\") {\n\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\t\t\t\t} catch (err) {\n\t\t\t\t\t\t\t\t\t\t\tconsole[\"error\"](\"There was an error in processing the I18N load bundle url: [\" + url + \"].  Error was: \", err);\n\t\t\t\t\t\t\t\t\t\t\tdata = {};\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (data && data.root != null && typeof data.root !== \"string\") {\n\t\t\t\t\t\t\t\t\t\tvar rootBundle = data;\n\t\t\t\t\t\t\t\t\t\tdata = data.root;\n\t\t\t\t\t\t\t\t\t\tvar key, tKey, kArray;\n\t\t\t\t\t\t\t\t\t\tvar rootFile = messageBundleRegistry[service][\"root\"].url;\n\t\t\t\t\t\t\t\t\t\tvar jsonIndex = rootFile.indexOf(\".json\");\n\t\t\t\t\t\t\t\t\t\tif(jsonIndex > -1){\n\t\t\t\t\t\t\t\t\t\t\trootFile = rootFile.substring(0, jsonIndex);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tfor(key in rootBundle){\n\t\t\t\t\t\t\t\t\t\t\ttKey = key;\n\t\t\t\t\t\t\t\t\t\t\tif(tKey && tKey != \"root\" && rootBundle[tKey]){\n\t\t\t\t\t\t\t\t\t\t\t\t// Registering bundles for a locale.\n\t\t\t\t\t\t\t\t\t\t\t\tkArray = tKey.split(\"_\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(kArray.length === 2){\n\t\t\t\t\t\t\t\t\t\t\t\t\tkArray[1] = kArray[1].toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t\t\ttKey = kArray.join(\"_\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tkArray = tKey.split(\"-\");\n\t\t\t\t\t\t\t\t\t\t\t\tif(kArray.length === 2){\n\t\t\t\t\t\t\t\t\t\t\t\t\tkArray[1] = kArray[1].toUpperCase();\n\t\t\t\t\t\t\t\t\t\t\t\t\ttKey = kArray.join(\"_\");\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\tregisterMessageBundle(service, rootFile + \"_\" + tKey + \".json\", tKey);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tbundleCache[service][locale].cache = data;\n\t\t\t\t\t\t\t\t\turlBundleCache[url] = data;\n\t\t\t\t\t\t\t\t\td.resolve(data);\n\t\t\t\t\t\t\t\t}, function(err) {\n\t\t\t\t\t\t\t\t\tconsole[\"error\"](\"An error occurred loading: [\" + url + \"] for locale: [\" + locale + \"]\", err);\n\t\t\t\t\t\t\t\t\tbundleCache[service][locale].cache = {};\n\t\t\t\t\t\t\t\t\turlBundleCache[url] = {};\n\t\t\t\t\t\t\t\t\td.resolve({});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\turlBundleCache[url] = httpdd;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\treturn bundleCache[service][locale].promise;\n\t\t\t\t}\n\t\t\t\treturn d.promise;\n\t\t\t};\n\n\t\t\tvar bundle = {};\n\t\t\tvar rootLocaleDef = handleLocaleLoad(\"root\");\n\t\t\trootLocaleDef.then(function(data){\n\t\t\t\tbundle = $.extend(bundle, data);\n\t\t\t});\n\t\t\trootLocaleDef[\"finally\"](function(){\n\t\t\t\tvar loadNextLocale = function(list){\n\t\t\t\t\tvar def = $q.defer();\n\t\t\t\t\tif(list && list.length){\n\t\t\t\t\t\tvar locale = list.pop();\n\t\t\t\t\t\tif(locale.indexOf(\"_\") > 0){\n\t\t\t\t\t\t\tvar ll = locale.split(\"_\");\n\t\t\t\t\t\t\tvar sublocale = ll[0];\n\t\t\t\t\t\t\thandleLocaleLoad(sublocale).then(function(bData){\n\t\t\t\t\t\t\t\tbundle = $.extend(bundle, bData);\n\t\t\t\t\t\t\t\thandleLocaleLoad(locale).then(function(bData2){\n\t\t\t\t\t\t\t\t\tbundle = $.extend(bundle, bData2);\n\t\t\t\t\t\t\t\t\tloadNextLocale(list).then(function(){\n\t\t\t\t\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\thandleLocaleLoad(locale).then(function(bData){\n\t\t\t\t\t\t\t\tbundle = $.extend(bundle, bData);\n\t\t\t\t\t\t\t\tloadNextLocale(list).then(function(){\n\t\t\t\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t}\n\t\t\t\t\treturn def.promise;\n\t\t\t\t};\n\n\t\t\t\t// Kick off the locale loading.\n\t\t\t\tloadNextLocale(localeList.slice(0).reverse())[\"finally\"](function() {\n\t\t\t\t\tdefer.resolve(bundle);\n\t\t\t\t});\n\t\t\t\tif(!localeList.length){\n\t\t\t\t\tdefer.resolve(bundleCache[service][\"root\"].cache || {});\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn defer.promise;\n\t\t};\n\n\t\tvar GATEWAY_URL = window[\"GATEWAY_URL\"];\n\n\t\t// This function tests that the access token is still valid, and if it is not,\n\t\t// then all the access stuff in local storage is cleared.\n\t\tvar checkAccessToken = function() {\n\t\t\tvar def = $q.defer();\n\t\t\tif ($localStorage.Authorization != null) {\n\t\t\t\t$http({\n\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\turl: GATEWAY_URL + \"/idm/api/v1/isTokenValid\"\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(resp) {\n\t\t\t\t\t\tvar status = resp.status;\n\t\t\t\t\t\tif (status != 200) {\n\t\t\t\t\t\t\tdef.resolve(false);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\tdef.resolve(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdef.resolve(false);\n\t\t\t}\n\t\t\treturn def.promise;\n\t\t};\n\n\t\tvar currentlyLoadingPromise;\n\n\t\tvar changeLoadedLanguage = function(locale){\n\t\t\tvar def = $q.defer();\n\t\t\tif(currentlyLoadingPromise){\n\t\t\t\t// If we're already in a lnguage swap, then wait\n\t\t\t\t// until it is done, then load the next one.\n\t\t\t\tcurrentlyLoadingPromise.then(function(){\n\t\t\t\t\tchangeLoadedLanguage(locale).then(function(){\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tcurrentlyLoadingPromise = def.promise;\n\t\t\t\treturn def.promise;\n\t\t\t}else if($localStorage.locale === locale) {\n\t\t\t\tdef.resolve($localStorage.msg);\n\t\t\t\treturn def.promise;\n\t\t\t}\n\t\t\tcurrentlyLoadingPromise = def.promise;\n\t\t\t// The requested locale hasn't loaded yet, so we need to load it!\n\t\t\tvar isAuthenticatedDef = checkAccessToken();\n\t\t\tvar isAuth = false;\n\t\t\tisAuthenticatedDef.then(function(resp){\n\t\t\t\tisAuth = resp;\n\t\t\t\tvar waitFor = [];\n\t\t\t\tvar combinedI18n = {};\n\n\t\t\t\t// Iterate over all the currently loaded languages, and then stitch it together when\n\t\t\t\t// all the loads finish.\n\t\t\t\t_.forEach(loadedI18nServices, function(svc){\n\t\t\t\t\tif(svc){\n\t\t\t\t\t\twaitFor.push(loadRegisteredMessageBundle(svc, [locale]));\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar mergedDef = $q.defer();\n\t\t\t\tif(waitFor.length){\n\t\t\t\t\t$q.all(waitFor).then(function(bundles){\n\t\t\t\t\t\t_.forEach(bundles, function(bundle){\n\t\t\t\t\t\t\tcombinedI18n = $.extend(combinedI18n, bundle);\n\t\t\t\t\t\t});\n\t\t\t\t\t\tmergedDef.resolve(true);\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tmergedDef.resolve(true);\n\t\t\t\t}\n\t\t\t\tmergedDef.promise.then(function(){\n\t\t\t\t\t// Okay, we have all the SP bundles and I18n, lets call the serverside API\n\t\t\t\t\t// to get strings that over-ride are there;\n\t\t\t\t\tvar url = GATEWAY_URL + \"/administration/api/v1/resourcestring/?filter=UI&locale=\" + locale;\n\t\t\t\t\tif(!isAuth){\n\t\t\t\t\t\turl = GATEWAY_URL + \"/administration/api/v1/resourcestring/ui/public?locale=\" + locale;\n\t\t\t\t\t}\n\t\t\t\t\t$http.get(url)\n\t\t\t\t\t\t.then(function(resp) {\n\t\t\t\t\t\t\tvar data = resp.data || {};\n\t\t\t\t\t\t\tvar msgs = $rootScope.msg || $localStorage.msg || {};\n\t\t\t\t\t\t\t$localStorage.i18nOverideStrings = data;\n\t\t\t\t\t\t\tmsgs = $.extend({}, msgs, combinedI18n, data);\n\t\t\t\t\t\t\t$rootScope.msg = msgs;\n\t\t\t\t\t\t\t$localStorage.msg = msgs;\n\t\t\t\t\t\t\t$localStorage.msgModified = generateModifiedResources(msgs);\n\t\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t}, function(resp) {\n\t\t\t\t\t\t\tconsole[\"error\"](\"Unable to load data from the public ui resource strings: \", resp);\n\t\t\t\t\t\t\tvar msgs = $rootScope.msg || $localStorage.msg || {};\n\t\t\t\t\t\t\tmsgs = $.extend({}, msgs, combinedI18n);\n\t\t\t\t\t\t\t$rootScope.msg = msgs;\n\t\t\t\t\t\t\t$localStorage.msg = msgs;\n\t\t\t\t\t\t\t$localStorage.msgModified = generateModifiedResources(msgs);\n\t\t\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t});\n\n\t\t\t\tdef.promise.then(function(){\n\t\t\t\t\t// Clear the currently loading promise, as at this point it has finished\n\t\t\t\t\t// this load pass.\n\t\t\t\t\t$rootScope.$broadcast(\"updated-active-language\", {\n\t\t\t\t\t\tlocale: locale\n\t\t\t\t\t});\n\t\t\t\t\t$localStorage.locale = locale;\n\t\t\t\t\tself.localeChangeSubject.next(locale);\n\t\t\t\t\tcurrentlyLoadingPromise = null;\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn def.promise;\n\t\t};\n\n\t\tvar loadEnabledLanguagesList = function(){\n\t\t\tvar defer = $q.defer();\n\t\t\tvar pub = null;\n\t\t\tvar priv = null;\n\t\t\tvar platform = {\n\t\t\t\tpub: null,\n\t\t\t\tpriv: null\n\t\t\t};\n\t\t\tvar pd = $http.get($localStorage.API_GATEWAY_HOSTNAME + '/administration/api/v2/resourcestrings/types/public/locales').then(function(resp) {\n\t\t\t\tpub = resp.data.responseObject || [];\n\t\t\t}, function() {\n\t\t\t\tpub = [];\n\t\t\t});\n\t\t\tvar pvd = $http.get($localStorage.API_GATEWAY_HOSTNAME + '/administration/api/v2/resourcestrings/types/ui/locales').then(function(resp) {\n\t\t\t\tpriv = resp.data.responseObject || [];\n\t\t\t}, function() {\n\t\t\t\tpriv = [];\n\t\t\t});\t\t\n\t\t\tvar ddp = self.getLocaleListByService(\"msx-ui-platform-public\");\n\t\t\tddp.then(function(langList){\n\t\t\t\tplatform.pub = langList;\n\t\t\t});\n\t\t\tvar ddvp = self.getLocaleListByService(\"msx-ui-platform-private\");\n\t\t\tddvp.then(function(langList){\n\t\t\t\tplatform.priv = langList;\n\t\t\t});\t\t\t\t\n\t\t\t$q.all([pd, pvd, ddp, ddvp])[\"finally\"](function(){\n\t\t\t\tvar uniqLang = _.uniq(pub,priv);\n\t\t\t\tuniqLang = _.map(uniqLang, function(locale){\n\t\t\t\t\treturn {\n\t\t\t\t\t\tlabel: localeList.getLanguageKey(locale),\n\t\t\t\t\t\tvalue: locale,\n\t\t\t\t\t\tlocale: locale,\n\t\t\t\t\t\tcurrency: currencyListService.getDefaultCurrencyForLocale(locale)\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tvar mergeLocales = function(listA, listB){\n\t\t\t\t\tvar fl;\n\t\t\t\t\tvar largeList = listA.length >= listB.length ? listA : listB;\n\t\t\t\t\tvar smallList = listA.length <= listB.length ? listA : listB;\n\t\t\t\t\tvar currentList = largeList;\n\t\t\t\t\t_.forEach(smallList, function(li){\n\t\t\t\t\t\tif(!li.currency){\n\t\t\t\t\t\t\tli.currency = currencyListService.getDefaultCurrencyForLocale(li.locale);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrentList = _.filter(currentList, function(cli){\n\t\t\t\t\t\t\tif(!cli.currency){\n\t\t\t\t\t\t\t\tcli.currency = currencyListService.getDefaultCurrencyForLocale(cli.locale);\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tvar l0 = cli.locale;\n\t\t\t\t\t\t\tvar l1 = li.locale;\n\t\t\t\t\t\t\tif(l1 === \"en_US\"){\n\t\t\t\t\t\t\t\tl1 = \"en\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(l0 === \"en_US\"){\n\t\t\t\t\t\t\t\tl0 = \"en\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(l0 === l1){\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\t// Only unique languages\n\t\t\t\t\tfl = smallList.concat(currentList);\n\t\t\t\t\treturn fl;\n\t\t\t\t};\n\t\t\t\tvar finalList = mergeLocales(uniqLang, platform.pub);\n\t\t\t\tfinalList = mergeLocales(finalList, platform.priv);\n\t\t\t\tvar ll = [];\n\t\t\t\t_.forEach(finalList, function(fi){\n\t\t\t\t\tif(fi.locale === \"en\"){\n\t\t\t\t\t\tll.push($.extend({}, fi, {\"locale\": \"en_US\", \"value\": \"en_US\"}));\n\t\t\t\t\t}else{\n\t\t\t\t\t\tll.push(fi);\n\t\t\t\t\t}\n\t\t\t\t\tll[ll.length - 1].enabled = true;\n\t\t\t\t});\n\t\t\t\tvar finalData = {entities: ll};\n\t\t\t\tdefer.resolve(finalData);\n\t\t\t});\n\t\t\t\n\t\t\treturn defer.promise;\n\t\t};\n\t\t\n\t\tvar setMessages = function(data) {\n\t\t\tvar $ = angular.element;\n\t\t\t$localStorage.msg = $.extend({}, $localStorage.msg || {}, data);\n\t\t\t$rootScope.msg = $.extend({}, $localStorage.msg || {}, data);\n\t\t\t$rootScope.$broadcast(\"updated-active-language\", {locale: $localStorage.locale});\n\t\t};\n\n\t\tthis.localeChangeSubject = new Subject();\n\n\t\t// Make this into `get localeChange$` if service is rewritten.\n\t\tthis.getLocaleStream = function() {\n\t\t\treturn this.localeChangeSubject.asObservable();\n\t\t};\n\n\t\t/**\n\t\t\t@name getCurrentLocale\n\t\t\t@function\n\t\t\t@desc Returns current locale (language mode) as reported by the browser.  The value will be something like en_US, ja_JP, and so on.\n\t\t*/\n\t\tthis.getCurrentBrowserLocale = getCurrentLocale;\n\n\t\t/**\n\t\t\t@name getCurrentLocale\n\t\t\t@function\n\t\t\t@desc Returns current locale (language mode) as reported by either localStorage or the browser.  The value will be something like en_US, ja_JP, and so on.\n\t\t*/\n\t\tthis.getCurrentLocale = getCurrentLocale;\n\n\n\t\t/**\n\t\t\t@name getTimezoneFromBrowser\n\t\t\t@function\n\t\t\t@desc Function to try and return the timezone string from the browser.  This output will vary browser to browser,\n\t\t\tas it is extracted from the date object's full string.\n\t\t*/\n\t\tthis.getTimezoneFromBrowser = getTimezoneFromBrowser;\n\n\t\t/**\n\t\t\t@name registerMessageBundle\n\t\t\t@function\n\t\t\t@desc Register a message bundle for a service.\n\t\t*/\n\t\tthis.registerMessageBundle = registerMessageBundle;\n\n\t\t/**\n\t\t\t@name loadRegisteredMessageBundle\n\t\t\t@function\n\t\t\t@desc Function to try and load a message bundle set and add it to the NLS/String cache.\n\t\t*/\n\t\tthis.loadRegisteredMessageBundle = loadRegisteredMessageBundle;\n\n\t\t/**\n\t\t\t@name hasRegisteredMessageBundle\n\t\t\t@function\n\t\t\t@desc function to tell you if a service has a registered message bundle, or not.\n\t\t*/\n\t\tthis.hasRegisteredMessageBundle = hasRegisteredMessageBundle;\n\n\t\t/**\n\t\t\t@name getTranslatedString\n\t\t\t@function\n\t\t\t@desc Function to use the currently loaded message bundles and get a translated string from it (as well as substitute any properties if requested)\n\t\t*/\n\t\tthis.getTranslatedString = function(keyOrString, props) {\n\t\t\tvar str = msgCache[keyOrString] || keyOrString;\n\t\t\tif (str && props) {\n\t\t\t\tstr = substitute(unescapeText(str), props);\n\t\t\t}\n\t\t\treturn str;\n\t\t};\n\n\t\t/**\n\t\t\t@name changeLoadedLanguage\n\t\t\t@function\n\t\t\t@desc function to change the currently loaded language.  Just pass in the locale, and it will reload platform\n\t\t\tpublic, private, and all servicepack string files.\n\t\t*/\n\t\tthis.changeLoadedLanguage = changeLoadedLanguage;\n\n\t\t/**\n\t\t\t@name loadEnabledLanguagesList\n\t\t\t@function\n\t\t\t@desc function to load all the enabled languages from the server.\n\t\t*/\n\t\tthis.loadEnabledLanguagesList = loadEnabledLanguagesList;\n\n\t\t/**\n\t\t\t@name setMessages\n\t\t\t@function\n\t\t\t@desc function to set the messages strings to another set of keys/values\n\t\t*/\n\t\tthis.setMessages = setMessages;\t\t\t\n\t\t\n\t\tvar require = window[\"require\"];\n\t\tvar define = window[\"define\"];\n\t\t\n\t\tvar getDojoNumberLocalization = function(locale){\n\t\t\tvar def = $q.defer();\n\t\t\tif(require && define){\n\t\t\t\trequire([\"dojo/i18n\"], function(i18n){\n\t\t\t\t\tlocale = locale || $localStorage.locale || \"en_US\";\n\t\t\t\t\tlocale = locale.toLowerCase().replace(/_/gi, \"-\");\n\t\t\t\t\tvar number = i18n.getLocalization(\"dojo/cldr\", \"number\", locale);\n\t\t\t\t\tdef.resolve({\n\t\t\t\t\t\tnumber: number\n\t\t\t\t\t});\n\t\t\t\t});\t\t\t\t\t\n\t\t\t}else{\n\t\t\t\tdef.resolve({});\n\t\t\t}\n\t\t\treturn def.promise;\n\t\t};\n\t\t\n\t\tif (require && define) {\n\t\t\t/**\n\t\t\t * The normalize options function helps correct any inputs to match the API\n\t\t\t * expectation.  This is mainly to map the en_US style locales into the en-us\n\t\t\t * format the underlying apis actually use.\n\t\t\t */\n\t\t\tvar normalizeOpts = function(opts) {\n\t\t\t\tif (opts) {\n\t\t\t\t\tif (opts.locale) {\n\t\t\t\t\t\topts.locale = opts.locale.toLowerCase().replace(/_/gi, \"-\");\n\t\t\t\t\t} else if ($localStorage.locale) {\n\t\t\t\t\t\topts.locale = $localStorage.locale.toLowerCase().replace(/_/gi, \"-\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn opts;\n\t\t\t};\n\t\t\trequire([\"dojo/date\", \"dojo/date/locale\", \"dojo/currency\", \"dojo/number\", \"dojo/date/stamp\"], function(dDate, dLocale, dCurrency, dNumber, stamp) {\n\t\t\t\tself.date = dDate;\n\t\t\t\tself.date.locale = {\n\t\t\t\t\tformat: function(date, opts) {\n\t\t\t\t\t\treturn dLocale.format(date, normalizeOpts(opts));\n\t\t\t\t\t},\n\t\t\t\t\tparse: function(str, opts) {\n\t\t\t\t\t\treturn dLocale.parse(str, normalizeOpts(opts));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tself.currency = {\n\t\t\t\t\tformat: function(cur, opts) {\n\t\t\t\t\t\treturn dCurrency.format(cur, normalizeOpts(opts));\n\t\t\t\t\t},\n\t\t\t\t\tparse: function(str, opts) {\n\t\t\t\t\t\treturn dCurrency.parse(str, normalizeOpts(opts));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tself.number = {\n\t\t\t\t\tformat: function(num, opts) {\n\t\t\t\t\t\treturn dNumber.format(num, normalizeOpts(opts));\n\t\t\t\t\t},\n\t\t\t\t\tparse: function(str, opts) {\n\t\t\t\t\t\treturn dNumber.parse(str, normalizeOpts(opts));\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tself.date.stamp = stamp;\n\t\t\t});\n\t\t}\n\n\t\t// This function handles the baseic I18n initialization with (or without) a user being defined\n\t\tthis.initI18N = function() {\n\n\t\t\tif (self.initPromise) {\n\t\t\t\t// There's an init going on, don't call twice.\n\t\t\t\treturn self.initPromise;\n\t\t\t}\n\n\t\t\tvar def = $q.defer();\n\t\t\tself.initPromise = def.promise;\n\n\t\t\tvar GATEWAY_URL = window[\"GATEWAY_URL\"];\n\n\t\t\t// First, we need to stub in the resolver so that it won't cause widgets\n\t\t\tif (!$rootScope.resolveResourceString) {\n\t\t\t\t$rootScope.resolveResourceString = function(element, map) {\n\t\t\t\t\tif (element == null) {\n\t\t\t\t\t\telement = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof element !== \"string\") {\n\t\t\t\t\t\telement = \"\" + element;\n\t\t\t\t\t}\n\t\t\t\t\tvar element_array = element.split(\" \");\n\t\t\t\t\tvar key_array = [];\n\t\t\t\t\tvar msg = ($rootScope && $rootScope.msg) || $localStorage.msg || {};\n\t\t\t\t\t_.each(element_array, function(key) {\n\t\t\t\t\t\tkey = stripInsecure(key);\n\t\t\t\t\t\tkey_array.push(stripInsecure(msg[key]) || key);\n\t\t\t\t\t});\n\t\t\t\t\tvar res = key_array.join(\" \");\n\t\t\t\t\tres = $('<p/>').html(res).text();\n\t\t\t\t\tres = unescapeText(res);\n\t\t\t\t\tif (map && typeof map === \"object\") {\n\t\t\t\t\t\tres = substitute(res, map);\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\tif(!$rootScope.change){\n\t\t\t\t// Used by the shift-click display of keys.\n\t\t\t\t$rootScope.change = function(key, targetElement, dataValue) {\n\t\t\t\t\tif (targetElement) {\n\t\t\t\t\t\tdataValue = $(targetElement).data('translationObj') || dataValue || null;\n\t\t\t\t\t}\n\t\t\t\t\tif(key && targetElement){\n\t\t\t\t\t\tvar isResourceString = !!$(targetElement).data(\"isResourceString\");\n\t\t\t\t\t\t$(targetElement).data(\"isResourceString\", !isResourceString);\n\t\t\t\t\t\tif (isResourceString) {\n\t\t\t\t\t\t\treturn key;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tvar changed = $rootScope.resolveResourceString(key, dataValue);\n\t\t\t\t\treturn changed;\n\t\t\t\t};\n\t\t\t}\t\t\t\t\t\n\n\t\t\t// We are going to initialize public strings first\n\t\t\tvar locale = $localStorage.locale || \"en_US\";\n\t\t\tvar bLocale = getCurrentLocale() || locale;\n\t\t\tbLocale = localeList.normalizeLocale(bLocale);\n\t\t\t\n\t\t\t$localStorage.locale = $localStorage.locale || bLocale || locale;\n\t\t\tbLocale = $localStorage.locale;\n\n\t\t\tself.loadRegisteredMessageBundle(\"msx-ui-platform-public\", [\"root\", bLocale]).then(function(bundle){\n\t\t\t\tbundle = bundle || {};\n\t\t\t\tif(!$localStorage.msg){\n\t\t\t\t\t$localStorage.msg = {};\n\t\t\t\t\t$localStorage.msgModified = {};\n\t\t\t\t}\n\t\t\t\t$localStorage.msg = $.extend({}, $localStorage.msg, bundle);\n\t\t\t\t$localStorage.msgModified = generateModifiedResources($localStorage.msg);\n\t\t\t})[\"finally\"](function(){\n\t\t\t\t$http.get(GATEWAY_URL + '/administration/api/v1/resourcestring/ui/public?&locale=' + bLocale)\n\t\t\t\t\t.then(function(resp) {\n\t\t\t\t\t\tvar data = resp.data || {};\n\t\t\t\t\t\tvar msgs = $rootScope.msg || $localStorage.msg || {};\n\t\t\t\t\t\tmsgs = $.extend(msgs, data);\n\t\t\t\t\t\t$localStorage.msg = msgs;\n\t\t\t\t\t\t$rootScope.msg = msgs;\n\t\t\t\t\t\t$localStorage.msgModified = generateModifiedResources($localStorage.msg);\n\t\t\t\t\t\tdelete self.initPromise;\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t\t$rootScope.$broadcast(\"updated-active-language\", {\n\t\t\t\t\t\t\tlocale: bLocale\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$rootScope.__i18nServiceInitialized = true;\n\t\t\t\t\t}, function(resp) {\n\t\t\t\t\t\tconsole[\"error\"](\"Unable to load data from the public ui resource strings: \", resp);\n\t\t\t\t\t\t$rootScope.$broadcast(\"updated-active-language\", {\n\t\t\t\t\t\t\tlocale: bLocale\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$rootScope.__i18nServiceInitialized = true;\n\t\t\t\t\t\tdelete self.initPromise;\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t});\n\t\t\t});\n\t\t\treturn def.promise;\n\t\t};\n\n\t\tthis.initPrivateI18N = function() {\n\t\t\tif (self.initPrivatePromise) {\n\t\t\t\t// There's an init going on, don't call twice.\n\t\t\t\treturn self.initPrivatePromise;\n\t\t\t}\n\n\t\t\tvar def = $q.defer();\n\t\t\tself.initPrivatePromise = def.promise;\n\n\t\t\tvar GATEWAY_URL = window[\"GATEWAY_URL\"];\n\n\t\t\t// First, we need to stub in the resolver so that it won't cause widgets\n\t\t\tif (!$rootScope.resolveResourceString) {\n\t\t\t\t$rootScope.resolveResourceString = function(element, map) {\n\t\t\t\t\tif (element == null) {\n\t\t\t\t\t\telement = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tif (typeof element !== \"string\") {\n\t\t\t\t\t\telement = \"\" + element;\n\t\t\t\t\t}\n\t\t\t\t\tvar element_array = element.split(\" \");\n\t\t\t\t\tvar key_array = [];\n\t\t\t\t\tvar msg = ($rootScope && $rootScope.msg) || $localStorage.msg || {};\n\t\t\t\t\t_.each(element_array, function(key) {\n\t\t\t\t\t\tkey = stripInsecure(key);\n\t\t\t\t\t\tkey_array.push(stripInsecure(msg[key]) || key);\n\t\t\t\t\t});\n\t\t\t\t\tvar res = key_array.join(\" \");\n\t\t\t\t\tres = $('<p/>').html(res).text();\n\t\t\t\t\tres = unescapeText(res);\n\t\t\t\t\tif (map && typeof map === \"object\") {\n\t\t\t\t\t\tres = substitute(res, map);\n\t\t\t\t\t}\n\t\t\t\t\treturn res;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// We are going to initialize public strings first\n\t\t\tvar locale = $localStorage.locale || \"en_US\";\n\t\t\tvar bLocale = getCurrentLocale() || locale;\n\t\t\tbLocale = localeList.normalizeLocale(bLocale);\n\t\t\tself.loadRegisteredMessageBundle(\"msx-ui-platform-private\", [\"root\", bLocale]).then(function(bundle){\n\t\t\t\tbundle = bundle || {};\n\t\t\t\tif(!$localStorage.msg){\n\t\t\t\t\t$localStorage.msg = {};\n\t\t\t\t}\n\t\t\t\t$localStorage.msg = $.extend({}, $localStorage.msg, bundle);\n\t\t\t\t$rootScope.msg = $localStorage.msg;\n\t\t\t})[\"finally\"](function(){\n\t\t\t\t$http.get(GATEWAY_URL + '/administration/api/v1/resourcestring/?filter=UI&locale=' + bLocale)\n\t\t\t\t\t.then(function(resp) {\n\t\t\t\t\t\tvar data = resp.data || {};\n\t\t\t\t\t\tvar msgs = $rootScope.msg || $localStorage.msg || {};\n\t\t\t\t\t\t$localStorage.i18nOverideStrings = data;\n\t\t\t\t\t\tmsgs = $.extend(msgs, data);\n\t\t\t\t\t\t$localStorage.msg = msgs;\n\t\t\t\t\t\t$rootScope.msg = msgs;\n\t\t\t\t\t\tself.initPrivatePromise = null;\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t\t$rootScope.$broadcast(\"updated-active-language\", {\n\t\t\t\t\t\t\tlocale: bLocale\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$rootScope.__i18nServiceInitialized = true;\n\t\t\t\t\t}, function(resp) {\n\t\t\t\t\t\tconsole[\"error\"](\"Unable to load data from the public ui resource strings: \", resp);\n\t\t\t\t\t\t$rootScope.$broadcast(\"updated-active-language\", {\n\t\t\t\t\t\t\tlocale: bLocale\n\t\t\t\t\t\t});\n\t\t\t\t\t\t$rootScope.__i18nServiceInitialized = true;\n\t\t\t\t\t\tself.initPrivatePromise = null;\n\t\t\t\t\t\tdef.resolve(true);\n\t\t\t\t\t});\n\t\t\t});\n\t\t\treturn def.promise;\n\t\t};\n\t\t\n\t\tthis.getLocaleListByService = function(service){\n\t\t\tvar def = $q.defer();\n\t\t\tvar key;\n\t\t\tvar bundleSet = messageBundleRegistry[service] || {};\n\t\t\tvar ll = [{\n\t\t\t\tlabel: localeList.getLanguageKey(\"en\"),\n\t\t\t\tvalue: localeList.normalizeLocale(\"en\"),\n\t\t\t\tlocale: localeList.normalizeLocale(\"en\")\n\t\t\t}];\n\t\t\tfor (key in bundleSet){\n\t\t\t\tif(key !== \"root\" && bundleSet[key]){\n\t\t\t\t\tll.push({\n\t\t\t\t\t\tlabel: localeList.getLanguageKey(key),\n\t\t\t\t\t\tvalue: key,\n\t\t\t\t\t\tlocale: localeList.normalizeLocale(key)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tll.sort(function(a, b){\n\t\t\t\tif(!a){\n\t\t\t\t\ta = {};\n\t\t\t\t}\n\t\t\t\tif(!b){\n\t\t\t\t\tb = {};\n\t\t\t\t}\n\t\t\t\tvar aLang = $rootScope.resolveResourceString(a.label);\n\t\t\t\tvar bLang = $rootScope.resolveResourceString(b.label);\n\t\t\t\tif(aLang){\n\t\t\t\t\taLang = aLang.toLowerCase();\n\t\t\t\t}\n\t\t\t\tif(bLang){\n\t\t\t\t\tbLang = bLang.toLowerCase();\n\t\t\t\t}\n\t\t\t\tif(aLang > bLang){\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\t\t\t\tif(aLang < bLang){\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\t\t\t\treturn 0;\n\t\t\t});\n\t\t\tdef.resolve(ll);\n\t\t\treturn def.promise;\n\t\t};\n\t\t\n\t\tthis.getKnownLocaleList = function(){\n\t\t\tvar def = $q.defer();\n\t\t\tvar locale = $localStorage.locale || \"en_US\";\n\t\t\tvar bLocale = getCurrentLocale() || locale;\n\t\t\tbLocale = localeList.normalizeLocale(bLocale);\n\t\t\t// The public bundle includes the known locales, so that's what we need to load here\n\t\t\tself.loadRegisteredMessageBundle(\"msx-ui-platform-public\", [\"root\", bLocale]).then(function(bundle){\n\t\t\t\tbundle = bundle || {};\n\t\t\t\tvar locales = [];\n\t\t\t\tvar locale, key;\n\t\t\t\tfor (key in bundle) {\n\t\t\t\t\tif (key.indexOf(\"public.cisco.i18n.language.\") === 0) {\n\t\t\t\t\t\tlocale = key.substring(key.lastIndexOf(\".\") + 1, key.length);\n\t\t\t\t\t\tlocales.push({\n\t\t\t\t\t\t\tlabel: bundle[key],\n\t\t\t\t\t\t\tvalue: locale,\n\t\t\t\t\t\t\tlocale: locale,\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlocales.sort(function(a, b){\n\t\t\t\t\tif(!a){\n\t\t\t\t\t\ta = {};\n\t\t\t\t\t}\n\t\t\t\t\tif(!b){\n\t\t\t\t\t\tb = {};\n\t\t\t\t\t}\n\t\t\t\t\tvar aLang = $rootScope.resolveResourceString(a.label);\n\t\t\t\t\tvar bLang = $rootScope.resolveResourceString(b.label);\n\t\t\t\t\tif(aLang){\n\t\t\t\t\t\taLang = aLang.toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\tif(bLang){\n\t\t\t\t\t\tbLang = bLang.toLowerCase();\n\t\t\t\t\t}\n\t\t\t\t\tif(aLang > bLang){\n\t\t\t\t\t\treturn 1;\n\t\t\t\t\t}\n\t\t\t\t\tif(aLang < bLang){\n\t\t\t\t\t\treturn -1;\n\t\t\t\t\t}\n\t\t\t\t\treturn 0;\n\t\t\t\t});\n\t\t\t\tdef.resolve(locales);\n\t\t\t});\n\t\t\treturn def.promise;\n\t\t};\t\t\t\n\t\tthis.getCurrentLocaleBundle = function(){\n\t\t\tvar def = $q.defer();\n\t\t\tvar bundle = $.extend({}, $rootScope.msg);\n\t\t\tdef.resolve(bundle);\n\t\t\treturn def.promise;\n\t\t};\n\t\t\n\t\tthis.setLanguageCache = function(data) {\n\t\t\t$localStorage.msg = $.extend({}, $localStorage.msg || {}, data);\n\t\t\t$rootScope.msg = $.extend({}, $localStorage.msg || {}, data);\n\t\t\t$rootScope.$broadcast(\"updated-active-language\", {locale: $localStorage.locale});\n\t\t};\n\t\t\n\t\tthis.fetchResources = function(locale, currency) {\n\t\t\t$http.defaults.headers.common.locale = locale;\n\t\t\t$http.defaults.headers.common.currency = currency;\n\t\t\t\n\t\t\t// We first want to try and load all the service NLS bundles, if they exist.\n\t\t\tvar defList = [];\n\t\t\tvar VMS_SERVICES = window[\"VMS_SERVICES\"];\n\t\t\tvar bundles = [];\n\t\t\tdefList.push($q.defer());\n\t\t\tdefList[defList.length - 1].resolve({});\n\t\t\tif(VMS_SERVICES){\n\t\t\t\t_.forEach(VMS_SERVICES, function(svc) {\n\t\t\t\t\tdefList.push($q.defer());\n\t\t\t\t\t// Before we are done, lets see if there are any language bundles to load \n\t\t\t\t\t// that were registered by the service pack for the root locale and current locale.\n\t\t\t\t\tvar i18nDef;\n\t\t\t\t\tvar def = defList[defList.length - 1];\n\t\t\t\t\tvar localeList = [\"root\"];\n\t\t\t\t\tif ($localStorage.locale) {\n\t\t\t\t\t\tlocaleList = localeList.concat([locale || $localStorage.locale]);\n\t\t\t\t\t}\n\t\t\t\t\tif (self.hasRegisteredMessageBundle(svc)) {\n\t\t\t\t\t\ti18nDef = self.loadRegisteredMessageBundle(svc, localeList);\n\t\t\t\t\t\tvar defer = $q.defer();\n\t\t\t\t\t\tvar defP = defer.promise;\n\t\t\t\t\t\ti18nDef.then(function(bundle) {\n\t\t\t\t\t\t\tdefer.resolve(bundle);\n\t\t\t\t\t\t}, function(error) {\n\t\t\t\t\t\t\tdefer.reject(error);\n\t\t\t\t\t\t});\n\t\t\t\t\t\t// Wait on the promise to resolve before we signal bundle load for this locale is done.\n\t\t\t\t\t\tdefP.then(function(bundle) {\n\t\t\t\t\t\t\t// Load I18n first.\n\t\t\t\t\t\t\tconsole[\"log\"](\"Load attempt for I18n for service [\" + svc + \"] for the localeList: \", localeList, \" finished.\");\n\t\t\t\t\t\t\tvar msg = $rootScope.msg || $localStorage.msg || {};\n\t\t\t\t\t\t\tvar newMsg = angular.element.extend({}, msg, bundle);\n\t\t\t\t\t\t\tbundles.push(newMsg);\n\t\t\t\t\t\t\tdef.resolve(newMsg);\n\t\t\t\t\t\t}, function() {\n\t\t\t\t\t\t\tconsole[\"error\"](\"There were errrors trying to load i18n bundle for service: [\" + svc + \"] for locale list: \", localeList);\n\t\t\t\t\t\t\tconsole[\"error\"](\"Only resources already loaded to the database will be used for service: [\" + svc + \"].\");\n\t\t\t\t\t\t\tdef.resolve({});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdef.resolve({});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}else{\n\t\t\t\tdefList.push($q.defer());\n\t\t\t\tdefList[0].resolve({});\n\t\t\t}\n\t\t\tvar newDList = _.map(defList, function(dd){\n\t\t\t\treturn dd.promise;\n\t\t\t});\n\t\t\tvar p = $q.all(newDList);\n\t\t\tvar defer = $q.defer();\n\t\t\tp[\"finally\"](function(){\n\t\t\t\tvar additionalParams = \"\";\n\t\t\t\t$http.get($localStorage.API_GATEWAY_HOSTNAME + '/administration/api/v1/resourcestring/?filter=UI&locale=' + $localStorage.locale)\n\t\t\t\t\t.then(function(resp) {\n\t\t\t\t\t\tvar data = resp.data || {};\n\t\t\t\t\t\tif(bundles){\n\t\t\t\t\t\t\t_.forEach(bundles, function(bundle){\n\t\t\t\t\t\t\t\tdata = $.extend({}, bundle, data);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdefer.resolve(data);\n\t\t\t\t\t}, function(resp) {\n\t\t\t\t\t\tdefer.reject(resp.data);\n\t\t\t\t\t});\n\t\t\t});\n\t\t\treturn defer.promise;\n\t\t};\n\t\t\t\n\t\tthis.fetchModifiedResources = function(data) {\n\t\t\t$localStorage.resourceStrings = $localStorage.resourceStrings || {};\n\t\t\t$localStorage.resourceStrings.currentValue = $localStorage.resourceStrings.currentValue || 0;\n\t\t\tvar returnArray = [{}, {}, {}];\n\t\t\t_.each(data, function(elm, index) {\n\t\t\t\treturnArray[0][index] = elm;\n\t\t\t\treturnArray[1][index] = index;\n\t\t\t\treturnArray[2][index] = elm + \" (\" + index + \")\";\n\t\t\t});\n\t\t\treturn returnArray;\n\t\t};\n\t\t\n\t\tthis.getDojoNumberLocalization = getDojoNumberLocalization;\n\t}\n]);\n\nmodule.run([\"$rootScope\", \"$localStorage\", \"skI18nService\", function($rootScope, $localStorage, skI18nService){\n\t$rootScope.$on(\"change-current-language\", function(evt, data){\n\t\tvar locale = data ? (data.locale || $localStorage.locale || \"en_US\") : ($localStorage.locale || \"en_US\");\n\t\tskI18nService.changeLoadedLanguage(locale);\n\t});\n}]);\n\n/**\n * This is an implementation of a date localization filter.  It accepts by default a date in the VMS format of 'yyyy-mm-dd hh:nn:ssZ' and will\n * then format it properly for the target locale.  It accepts the following options:\n * formatLength - an identifier of short, mendium, long, or full.   These specify what date style from the target locale should be used.  The default\n *                is medium.\n * targetLocale - The locale to format the date to.  If not specified, it will use the locale defined in localStorage for the user.\n * datePattern - If the date section of the timestamp does not follow VMS's pattern, the pattern should be passed as this value.\n * timePattern - If the time section of the time does not follow VMS's pattern, the pattern should be passed as this value.\n * outputSelector - any custom output ops to pass to the underlyout output, for example 'date' will just render the date, 'time' will render just time, and 'datetime' render both.\n */\nmodule.filter('skDateLocalizationFilter', [\"$rootScope\", \"$localStorage\", \"skI18nService\", \"_\", function($rootScope, $localStorage, skI18nService, _) {\n\treturn function(dateString, formatLength, targetLocale, datePattern, timePattern, outputSelector) {\n\t\tif (!dateString) {\n\t\t\treturn \"\";\n\t\t}\n\n\t\tvar utcRegExp = /^\\d+$/i;\n\t\tif(typeof dateString === \"string\" && utcRegExp.test(dateString)){\n\t\t\tdateString = parseInt(dateString, 10);\n\t\t}\n\t\tif(typeof dateString === \"number\"){\n\t\t\t// Only numbers, assume UTC value, convert to ISO-8601\n\t\t\tdateString = (new Date(dateString)).toISOString();\n\t\t}\t\t\t\n\t\t\n\t\t// Correct weird date input coming from microservice version info.\n\t\tvar iso8601RegExp = /^\\d{4}-\\d\\d-\\d\\dT\\d\\d:\\d\\d:\\d\\d(\\.\\d+)?(([+-]\\d\\d:\\d\\d)|Z)?$/i;\t\t\t\n\t\tif(/\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}/.test(dateString) && !iso8601RegExp.test(dateString)){\n\t\t\tdateString = dateString.replace(/T/, \" \");\n\t\t\tdateString = dateString.replace(/[a-z]*/gi, \"\");\n\t\t\tvar tzOffset = new Date().getTimezoneOffset();\n\t\t\ttzOffset = tzOffset/60;\n\t\t\tdateString = _.trim(dateString);\t\t\t\t\n\t\t\tif(tzOffset > 9){\n\t\t\t\ttzOffset = \"-\" + tzOffset + \"00\"; \n\t\t\t}else if (tzOffset >= 0){\n\t\t\t\ttzOffset = \"-0\" + tzOffset + \"00\"; \n\t\t\t}else if(tzOffset < -9){\n\t\t\t\ttzOffset = Math.abs(tzOffset) + \"00\"; \n\t\t\t}else if (tzOffset <= -1){\n\t\t\t\ttzOffset = \"0\" + Math.abs(tzOffset) + \"00\"; \n\t\t\t}\n\t\t\tdateString = dateString + tzOffset;\n\t\t}\n\n\t\tvar useDefaultDate = true;\n\t\tvar useDefaultTime = true;\n\t\tvar inputOpts = {};\n\t\tif (datePattern) {\n\t\t\tinputOpts.datePattern = datePattern;\n\t\t\tuseDefaultDate = false;\n\t\t} else {\n\t\t\tinputOpts.datePattern = \"yyyy-MM-dd\";\n\t\t}\n\t\tif (timePattern) {\n\t\t\tinputOpts.timePattern = timePattern;\n\t\t\tuseDefaultTime = false;\n\t\t} else {\n\t\t\tinputOpts.timePattern = \"HH:mm:ssZ\";\n\t\t}\n\t\tif (timePattern) {\n\t\t\tinputOpts.timePattern = timePattern;\n\t\t}\n\t\tinputOpts.locale = \"en-us\";\n\t\tinputOpts.selector = \"date\";\n\n\t\tvar outputOpts = {};\n\t\tif (targetLocale) {\n\t\t\toutputOpts.locale = targetLocale;\n\t\t} else {\n\t\t\toutputOpts.locale = $localStorage.locale;\n\t\t}\n\t\tif (formatLength) {\n\t\t\toutputOpts.formatLength = formatLength;\n\t\t} else {\n\t\t\toutputOpts.formatLength = \"medium\";\n\t\t}\n\t\tif (outputSelector) {\n\t\t\toutputOpts.selector = outputSelector.toLowerCase();\n\t\t}\n\n\t\tvar jsDate, tz, dateStrings;\n\t\tvar locale = skI18nService.date.locale;\n\t\tif (useDefaultDate && useDefaultTime) {\n\t\t\tif (typeof dateString === \"object\" && dateString instanceof Date) {\n\t\t\t\tjsDate = dateString;\n\t\t\t} else {\n\t\t\t\tif(iso8601RegExp.test(dateString)){\n\t\t\t\t\tjsDate = skI18nService.date.stamp.fromISOString(dateString);\n\t\t\t\t}else{\n\t\t\t\t\tdateStrings = dateString.split(\" \");\n\t\t\t\t\tvar isoDateString = dateStrings.join(\"T\");\n\t\t\t\t\ttz = isoDateString.substring(isoDateString.length - 5, isoDateString.length);\n\t\t\t\t\t// Make sure we've converted the format into the IAO8601 format so we can parse it out\n\t\t\t\t\t// correctly.\n\t\t\t\t\tisoDateString = isoDateString.substring(0, isoDateString.length - 5);\n\t\t\t\t\tisoDateString += tz.substring(0, 3) + \":\";\n\t\t\t\t\tisoDateString += tz.substring(3, tz.length);\n\t\t\t\t\tjsDate = skI18nService.date.stamp.fromISOString(isoDateString);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// TODO:  Handle GMT offset.  This whole path needs some work.\n\t\t\tif (typeof dateString === \"object\" && dateString instanceof Date) {\n\t\t\t\tjsDate = dateString;\n\t\t\t} else {\n\t\t\t\tif(iso8601RegExp.test(dateString)){\n\t\t\t\t\tjsDate = skI18nService.date.stamp.fromISOString(dateString);\n\t\t\t\t}else{\n\t\t\t\t\tdateStrings = dateString.split(\" \");\n\t\t\t\t\ttz = dateString.substring(dateString.length - 5, dateString.length);\n\t\t\t\t\tvar newDate = locale.parse(dateStrings[0], inputOpts);\n\t\t\t\t\tinputOpts.selector = \"time\";\n\t\t\t\t\tvar newTime = locale.parse(dateString[1], inputOpts);\n\t\t\t\t\tif (newDate && newTime) {\n\t\t\t\t\t\tnewDate.setHours(newTime.getHours(), newTime.getMinutes(), newTime.getSeconds(), newTime.getMilliseconds());\n\t\t\t\t\t\tjsDate = newDate;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (jsDate) {\n\t\t\treturn locale.format(jsDate, outputOpts) || \" \";\n\t\t}\n\t\treturn \"\";\n\t};\n}]);\t\n\n/**\n * This is an implementation of a currency localization filter.  It takes a number and will then format it properly for the target locale.\n * It accepts the following options:\n * currencyCode - The ISO standard currency identifier.  This instructs the parser to emit the proper currency symbol for the value.  If none is\n *                provided, then it will use the currency definition in localStorage to look up the currency symbol information.\n * targetLocale - The locale to format the currency to.  The locale specifies where in the formatted string the currency symbol should appear, and\n *                what to use for the separators in the currency string itself.  If not specified, it will use the locale defined in localStorage\n *                for the user.\n */\nmodule.filter('skCurrencyLocalizationFilter', [\"$rootScope\", \"$localStorage\", \"skI18nService\", function($rootScope, $localStorage, skI18nService) {\n\treturn function(num, currencyCode, targetLocale) {\n\t\tif (num == null) {\n\t\t\treturn \"\";\n\t\t}\n\t\tnum = parseFloat(num, 10);\n\n\t\tvar outputOpts = {};\n\t\tif (targetLocale) {\n\t\t\toutputOpts.locale = targetLocale;\n\t\t} else {\n\t\t\toutputOpts.locale = $localStorage.locale;\n\t\t}\n\t\tif (currencyCode) {\n\t\t\toutputOpts.currency = currencyCode;\n\t\t} else {\n\t\t\toutputOpts.currency = $localStorage.currency;\n\t\t}\n\t\treturn skI18nService.currency.format(num, outputOpts) || \" \";\n\t};\n}]);\n\n/**\n * This is an implementation of a number localization filter.  It takes a number and will then format it properly for the target locale.\n * It accepts the following options:\n * targetLocale - The locale to format the number to.  The locale specifies what to use for the separators in the number localized string.\n *                If not specified, it will use the locale defined in localStorage for the user.\n */\nmodule.filter('skNumberLocalizationFilter', [\"$rootScope\", \"$localStorage\", \"skI18nService\", function($rootScope, $localStorage, skI18nService) {\n\treturn function(num, targetLocale) {\n\t\tif (num == null) {\n\t\t\treturn \"\";\n\t\t}\n\t\tnum = parseFloat(num, 10);\n\n\t\tvar outputOpts = {};\n\t\tif (targetLocale) {\n\t\t\toutputOpts.locale = targetLocale;\n\t\t} else {\n\t\t\toutputOpts.locale = $localStorage.locale;\n\t\t}\n\t\treturn skI18nService.number.format(num, outputOpts) || \" \";\n\t};\n}]);\n\nmodule.filter('skUseFilterByName', function($filter) {\n\treturn function() {\n\t\tvar filterName = [].splice.call(arguments, 1, 1)[0];\n\t\tif (filterName == null) {\n\t\t\treturn arguments[0];\n\t\t} else {\n\t\t\treturn $filter(filterName).apply(null, arguments);\n\t\t}\n\t};\n});\n\n","// Copyright  2020 Cisco Systems, Inc.  All Rights Reserved.\n\nimport module from \"./module\";\n\nmodule.service(\"msx.i18nMixins\", [\"msx.translateService\", function(translateService){\n\tconst obj = {};\n\tconst angular = window[\"angular\"];\n\tconst $ = angular.element;\n\tobj.getTranslation = function(str, props) {\n\t\treturn translateService(str || \"\", props);\n\t};\n\t\n\tobj.mixinTo = function(tObj){\n\t\tconst newObj = {};\n\t\t$.extend(newObj, obj);\n\t\tdelete newObj.mixinTo;\n\t\t$.extend(tObj, newObj); \n\t};\n\treturn obj;\n}]);","// Copyright  2020 Cisco Systems, Inc.  All Rights Reserved.\n\nconst angular = window[\"angular\"];\nconst moduleName = 'msx.platform.constants';\nlet module;\ntry {\n\tmodule = angular.module(moduleName);\n} catch (err) {\n\t// named module does not exist, so create one\n\tmodule = angular.module(moduleName, ['ng', 'ngStorage']);\n}\nexport default module;","// Copyright  2017, 2020 Cisco Systems, Inc.  All Rights Reserved.\n\nimport module from \"./module\";\n\nconst keys = {\n\t// Meta keys\n\tBACKSPACE: 8,\n\tTAB: 9,\n\tCLEAR: 12,\n\tENTER: 13,\n\tSHIFT: 16,\n\tCTRL: 17,\n\tALT: 18,\n\tESCAPE: 27,\n\tSPACE: 32,\n\tINSERT: 45,\n\tDELETE: 46,\n\tNUM_LOCK: 144,\n\tSCROLL_LOCK: 145,\n\tPAUSE: 19,\n\tCAPS_LOCK: 20,\n\n\t// Directional Keys\n\tPAGE_UP: 33,\n\tPAGE_DOWN: 34,\n\tEND: 35,\n\tHOME: 36,\n\tLEFT_ARROW: 37,\n\tUP_ARROW: 38,\n\tRIGHT_ARROW: 39,\n\tDOWN_ARROW: 40\n};\nmodule.constant('skKeyConstants', keys);\nmodule.constant('msx.keys', keys);","// Copyright  2020 Cisco Systems, Inc.  All Rights Reserved.\n\nconst angular = window[\"angular\"];\nconst moduleName = 'skPlatformBootPrereqs';\nlet module;\ntry {\n\tmodule = angular.module(moduleName);\n} catch (err) {\n\t// named module does not exist, so create one\n\tmodule = angular.module(moduleName, ['ng']);\n}\nexport default module;","// Copyright  2017, 2020 Cisco Systems, Inc.  All Rights Reserved.\n \nimport module from \"../../core/eventListeners/module_bootPrereqs\";\n \nmodule.directive('skResourceString', ['$rootScope', '$localStorage', \"_\", \"skSafeTextSvc\", function($rootScope, $localStorage, _, skSafeTextSvc) {\n\tconst angular = window[\"angular\"];\n\tconst $ = angular.element;\n\tconst substituteMsgString = function(msg, map) {\n\t\tmsg = msg || \"\";\n\t\tmap = map || {};\n\t\treturn msg.replace(/\\$\\{([^\\s\\:\\}]+)(?:\\:([^\\s\\:\\}]+))?\\}/g, function(match, key) {\n\t\t\treturn map[key] === undefined ? \"${\" + key + \"}\" : map[key];\n\t\t});\n\t};\n\n\t$rootScope.$watch('msg', function() {\n\t\t// Resolve Resource String now uses safe HTML cleaning so html can now be used here.\n\t\t$rootScope.$broadcast(\"msx-root-message-obj-changed\", {});\n\t});\n\t\n\t// Define this only once on rootScope, not each time the directive is used.\n\t$rootScope.resolveResourceString = function(element, map) {\n\t\tif(element == null){\n\t\t\telement = \"\";\n\t\t}\n\t\tif(typeof element !== \"string\"){\n\t\t\telement = \"\" + element;\n\t\t}\n\t\tif(element === \"\"){\n\t\t\treturn \"\";\n\t\t}\n\t\tconst element_array = element.split(\" \");\n\t\tconst key_array = [];\n\t\tconst msg = ($rootScope && $rootScope.msg) || $localStorage.msg || {};\n\t\t\n\t\t_.each(element_array, function(key) {\n\t\t\tkey_array.push(msg[key] || key);\n\t\t});\n\t\t// SafeText removes bad HTML, script injects, etc, so we can safely inject the text/html.\n\t\tlet res = (skSafeTextSvc.render(key_array.join(\" \")) || \"\").toString();\n\t\tif (map && typeof map === \"object\") {\n\t\t\tres = substituteMsgString(res, map);\n\t\t}\n\t\t// Check for branded-theme custom strings\n\t\tif($localStorage.themeCustomResourceStrings && $localStorage.themeCustomResourceStrings[$localStorage.locale] && $localStorage.themeCustomResourceStrings[$localStorage.locale][element]) {\n\t\t\tres = $localStorage.themeCustomResourceStrings[$localStorage.locale][element];\n\t\t}\n\t\t// Check for theme preview custom strings\n\t\tif($localStorage.themePreviewResourceStrings && $localStorage.themePreviewResourceStrings[$localStorage.locale] && $localStorage.themePreviewResourceStrings[$localStorage.locale][element]) {\n\t\t\tres = $localStorage.themePreviewResourceStrings[$localStorage.locale][element];\n\t\t}\n\t\treturn res;\n\t};\n\n\tif(!$rootScope.change){\n\t\t// Used by the shift-click display of keys.\n\t\t$rootScope.change = function(key, targetElement, dataValue) {\n\t\t\tif (targetElement) {\n\t\t\t\tdataValue = $(targetElement).data('translationObj') || dataValue || null;\n\t\t\t}\n\t\t\tif(key && targetElement){\n\t\t\t\tvar isResourceString = !!$(targetElement).data(\"isResourceString\");\n\t\t\t\t$(targetElement).data(\"isResourceString\", !isResourceString);\n\t\t\t\tif (isResourceString) {\n\t\t\t\t\treturn key;\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar changed = $rootScope.resolveResourceString(key, dataValue);\n\t\t\treturn changed;\n\t\t};\n\t}\n\t\t\t\n\treturn {\n\t\trestrict: 'AE',\n\t\tscope: {\n\t\t\tskResourceString: \"@\",\n\t\t\tskResourceSubstitutions: \"=?\",\n\t\t\tskResourceStringSetTitle: \"@\"\n\t\t},\n\t\ttemplate: \"{{ resourceStringValue }}\",\n\t\tcontroller: ['$scope', function($scope) {\n\t\t\t$scope.resourceStringValue = \"binding\";\n\t\t\t$scope._setTitle = false;\n\t\t}],\n\t\tlink: function(scope, element) {\n\t\t\tlet elem = element;\n\t\t\tscope.resourceStringValue = $rootScope.change(scope.skResourceString, elem, scope.skResourceSubstitutions);\n\t\t\tif(!elem.context){\n\t\t\t\telem = $(elem[0]);\n\t\t\t}\n\t\t\tscope.$on(\"change-current-language\", function(){\n\t\t\t\t// Resolve Resource String now uses safe HTML cleaning so html can now be used here.\n\t\t\t\tvar subs = scope.skResourceSubstitutions;\n\t\t\t\telem.html($rootScope.resolveResourceString(elem.attr('sk-resource-string'), subs || null));\n\t\t\t});\n\t\t\t\n\t\t\tscope.$on('msx-root-message-obj-changed', function() {\n\t\t\t\t// Resolve Resource String now uses safe HTML cleaning so html can now be used here.\n\t\t\t\tconst subs = scope.skResourceSubstitutions || $(elem).data('translationObj') || null;\n\t\t\t\telem.html($rootScope.resolveResourceString(elem.attr('sk-resource-string'), subs || null));\n\t\t\t});\n\t\n\t\t\tscope.$watchCollection('skResourceSubstitutions', function(newValue, oldValue, scope) {\n\t\t\t\t// Resolve Resource String now uses safe HTML cleaning so html can now be used here.\n\t\t\t\tif (newValue) {\n\t\t\t\t\t$(elem).data('translationObj', newValue);\n\t\t\t\t}\n\t\t\t\tvar str = $rootScope.resolveResourceString(elem.attr('sk-resource-string'), newValue || null).toString();\n\t\t\t\telem.html(str);\n\t\t\t\tif(scope._setTitle){\n\t\t\t\t\telem.attr(\"title\", str);\n\t\t\t\t}\n\t\t\t\t$(elem.contents()).css(\"color\", \"\");\n\t\t\t}, false);\n\t\t\tscope.$watch('skResourceString', function(newValue, oldValue) {\n\t\t\t\t// Resolve Resource String now uses safe HTML cleaning so html can now be used here.\n\t\t\t\tif(newValue === oldValue){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst subs = scope.skResourceSubstitutions || $(elem).data('translationObj') || null;\n\t\t\t\tconst str = $rootScope.resolveResourceString(elem.attr('sk-resource-string'), subs || null).toString();\n\t\t\t\telem.html(str);\n\t\t\t\t$(elem.contents()).css(\"color\", \"\");\n\t\t\t\tif(scope._setTitle && !scope._setTitleValue){\n\t\t\t\t\telem.attr(\"title\", str);\n\t\t\t\t}\n\t\t\t}, false);\n\t\t\tscope.$watch(\"skResourceStringSetTitle\", function(newVal){\n\t\t\t\tif(newVal){\n\t\t\t\t\tconst subs = scope.skResourceSubstitutions;\n\t\t\t\t\tif(newVal.toLowerCase() === \"false\"){\n\t\t\t\t\t\tscope._setTitle = false;\n\t\t\t\t\t\tscope._setTitleValue = false;\n\t\t\t\t\t}else if(newVal.toLowerCase() === \"true\"){\n\t\t\t\t\t\tscope._setTitle = true;\n\t\t\t\t\t\telem.attr(\"title\", $rootScope.resolveResourceString(elem.attr('sk-resource-string'), subs || null).toString());\n\t\t\t\t\t}else{\n\t\t\t\t\t\tscope._setTitle = false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tscope._setTitle = false;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n}]);\n","import module from \"../../../module_platformBoot\";\nimport TEMPLATE from \"./Login-template.html\";\n\n/**\n@name _testStorage_localstorage\n@function\n@private\n@desc Function to see if local storage is supported.\n*/\nconst _testStorage_localstorage = function() {\n\tlet ret = false;\n\ttry {\n\t\tconst ls = window[\"localStorage\"];\n\t\tif (ls) {\n\t\t\tret = true;\n\t\t}\n\t} catch (ignore) {}\n\treturn ret;\n};\n\nmodule.component(\"msxLogin\", {\n\tbindings: {},\n\ttemplate: TEMPLATE,\n\tcontroller: [\"$rootScope\", \"$sce\", \"$scope\", \"$http\", \"$state\", \"$location\",\n\t\t\"$window\", \"$element\", \"skKeyConstants\", \"$localStorage\", \"$timeout\", \"$stateParams\", \"skI18nService\",\n\t\t\"msx.translateService\", \"msx.i18nMixins\",\n\t\tfunction($rootScope, $sce, $scope, $http, $state, $location, $window, $element, keys, $localStorage,\n\t\t\t$timeout, $stateParams, skI18nService, translateService, i18nMixins) {\n\t\t\tconst self = this;\n\t\t\tconst angular = window[\"angular\"];\n\t\t\tconst $ = angular.element;\n\t\t\ti18nMixins.mixinTo(self);\n\n\t\t\tconst GATEWAY_URL = window[\"GATEWAY_URL\"];\n\n\t\t\t$element.addClass(\"auth-page login-page sk-font-standard-text\");\n\n\t\t\tconst SAML_LOGOUT_CONFIG = $localStorage.SAML_LOGOUT_CONFIG;\n\n\t\t\tif(SAML_LOGOUT_CONFIG){\n\t\t\t\t// Corner case, someone tried to go to the login page\n\t\t\t\t// by changing the URL.  Kick them back to the SAML\n\t\t\t\t// login.\n\t\t\t\tconst slc = $localStorage.SAML_LOGOUT_CONFIG;\n\t\t\t\t$localStorage.SAML_LOGOUT_CONFIG = null;\n\t\t\t\t$timeout(function(){\n\t\t\t\t\t$state.go(\"auth.samlRedirect\", {\n\t\t\t\t\t\tobj: {\n\t\t\t\t\t\t\tSAML_CONFIG: slc.SAML_CONFIG,\n\t\t\t\t\t\t\ttargetUrl: window[\"LOGIN_URL\"]\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 0);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.csrfToken = window[\"csrfToken\"] || \"\";\n\t\t\tself.contextPath = window[\"contextPath\"] || \"\";\n\t\t\tself.errorMessage = window[\"authErrors\"] || \"\";\n\t\t\tself.endPoint = window[\"authEndpoint\"] || \"\";\n\t\t\tself.csrfParameterName = window[\"csrfParameterName\"] || \"\";\n\n\t\t\tself.loginAction = self.contextPath + self.endPoint;\n\n\t\t\t// Remove this state.\n\t\t\tself.__rememberMeStateRestore = true;\n\t\t\tself.busy = true; // Busy Indicator on by default\n\n\t\t\t//Check to see if Validate OTP page has to be displayed by checking if first factor is done or not.\n\t\t\tif (!$localStorage.twoFactorAuthenticationComplete) {\n\t\t\t\tself.twoFactorAuthenticationRequired = false;\n\t\t\t}\n\n\t\t\tif (self.twoFactorAuthenticationRequired && !$localStorage.twoFactorAuthenticationComplete) {\n\t\t\t\t$state.go(\"auth.login\");\n\t\t\t}\n\n\t\t\t$scope.$on(\"updated-active-language\", function() {\n\t\t\t\tself.busy = false;\n\t\t\t\tself.i18nLoaded = true;\n\t\t\t});\n\n\t\t\tself.version = window[\"MSX_VERSION\"] || \"v4.0.0\";\n\n\t\t\t$localStorage.API_GATEWAY_HOSTNAME = GATEWAY_URL;\n\t\t\t$localStorage.twoFactorAuthenticationComplete = false;\n\n\t\t\tself.login = function(username, password, evt) {\n\t\t\t\tif(self.loading){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tself.errorMessage = \"\";\n\t\t\t\tusername = username || self.username;\n\t\t\t\tpassword = password || self.password;\n\t\t\t\tif(evt){\n\t\t\t\t\tif(evt.preventDefault){\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tif(evt.stopPropagation){\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// If we\"re logging in, clear the auth token before calling.\n\t\t\t\t$http.defaults.headers.common.Authorization = \"\";\n\t\t\t\tself.loading = true;\n\t\t\t\tdelete $localStorage.Authorization;\n\t\t\t\t$localStorage.timedout = false;\n\t\t\t\tlet form = $(\".form-signin\");\n\t\t\t\t$(form).attr(\"action\", self.loginAction);\n\t\t\t\tif(form && form.length){\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tform[0].submit();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.forgotPassword = function() {\n\t\t\t\t$state.go(\"auth.forgotPassword\", {\n\t\t\t\t\tusername: self.username\n\t\t\t\t});\n\t\t\t};\n\n\t\t\t/**\n\t\t\t\t@name _saveRememberMe\n\t\t\t\t@function\n\t\t\t\t@private\n\t\t\t\t@desc Function to store the value of the rememberMe flag.  If it is cleared, then the username is also cleared.\n\t\t\t*/\n\t\t\tlet _saveUsername = function() {\n\t\t\t\tif (self.__rememberMeStateRestore) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet u = self.username || \"\";\n\t\t\t\tlet cName = \"vmsLoginScreen_\" + \"_username\";\n\t\t\t\tcName = cName.replace(/ /gi, \"_\");\n\t\t\t\tif (_testStorage_localstorage()) {\n\t\t\t\t\tlet ls = window[\"localStorage\"];\n\t\t\t\t\tif (ls && ls.setItem) {\n\t\t\t\t\t\tls.setItem(cName, u);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t@name _restoreUsername\n\t\t\t@function\n\t\t\t@private\n\t\t\t@desc Function to restore the username from local storage, if any.\n\t\t\t*/\n\t\t\tself._restoreUsername = function() {\n\t\t\t\ttry {\n\t\t\t\t\tlet cName = \"vmsLoginScreen_\" + \"_username\";\n\t\t\t\t\tcName = cName.replace(/ /gi, \"_\");\n\t\t\t\t\tlet c;\n\t\t\t\t\tlet empty = false;\n\t\t\t\t\t$(\"#username\", $($element)).each(function() {\n\t\t\t\t\t\tlet hasAutoFillNode;\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\thasAutoFillNode = $(\"input:-webkit-autofill\", $($element));\n\t\t\t\t\t\t} catch (ignore) {\n\t\t\t\t\t\t\thasAutoFillNode = [];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ($(this).val() === \"\" && !hasAutoFillNode.length) {\n\t\t\t\t\t\t\tempty = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (empty) {\n\t\t\t\t\t\tif (_testStorage_localstorage()) {\n\t\t\t\t\t\t\tlet ls = window[\"localStorage\"];\n\t\t\t\t\t\t\tif (ls && ls.getItem) {\n\t\t\t\t\t\t\t\tc = ls.getItem(cName);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (c) {\n\t\t\t\t\t\t\tself.username = c;\n\t\t\t\t\t\t\tlet pElem = $(\"#password\", $($element))[0];\n\t\t\t\t\t\t\tif (pElem && pElem.focus) {\n\t\t\t\t\t\t\t\tpElem.focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole[\"warn\"](this.id + \": An error occurred while trying to restore the user name from localstorage.\", e);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t@name _saveRememberMe\n\t\t\t@function\n\t\t\t@private\n\t\t\t@desc Function to store the value of the rememberMe flag.  If it is cleared, then the username is also cleared.\n\t\t\t*/\n\t\t\tself._saveRememberMe = function() {\n\t\t\t\tif (self.__rememberMeStateRestore) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tlet rm = self.rememberMe;\n\t\t\t\tlet cName = \"vmsLoginScreen_\" + \"_rememberme\";\n\t\t\t\tlet cName2 = \"vmsLoginScreen_\" + \"_username\";\n\t\t\t\tcName = cName.replace(/ /gi, \"_\");\n\t\t\t\tcName2 = cName2.replace(/ /gi, \"_\");\n\t\t\t\tif (_testStorage_localstorage()) {\n\t\t\t\t\tlet ls = window[\"localStorage\"];\n\t\t\t\t\tif (ls && ls.setItem) {\n\t\t\t\t\t\tls.setItem(cName, rm + \"\");\n\t\t\t\t\t\t_saveUsername();\n\t\t\t\t\t}\n\t\t\t\t\tif (!rm) {\n\t\t\t\t\t\t// Clear the old user name from storage.\n\t\t\t\t\t\t// Timeout needed. no idea why.\n\t\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\t\tls.removeItem(cName2);\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t/**\n\t\t\t@name _restoreRememberMe\n\t\t\t@function\n\t\t\t@private\n\t\t\t@desc Function to restore the value of the rememberMe flag\n\t\t\t*/\n\t\t\tself._restoreRememberMe = function() {\n\t\t\t\ttry {\n\t\t\t\t\tlet cName = \"vmsLoginScreen_\" + \"_rememberme\";\n\t\t\t\t\tcName = cName.replace(/ /gi, \"_\");\n\t\t\t\t\tlet c;\n\t\t\t\t\tif (_testStorage_localstorage()) {\n\t\t\t\t\t\tlet ls = window[\"localStorage\"];\n\t\t\t\t\t\tif (ls && ls.getItem) {\n\t\t\t\t\t\t\tc = ls.getItem(cName);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (c && c === \"true\") {\n\t\t\t\t\t\tself.rememberMe = true;\n\t\t\t\t\t\t_saveUsername();\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {\n\t\t\t\t\tconsole[\"warn\"](\"An error occurred while trying to restore the remember me state from the browser local storage.\", e);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t$scope.$watch(\"$ctrl.rememberMe\", function() {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tself._saveRememberMe();\n\t\t\t\t}, 100);\n\t\t\t});\n\n\t\t\t$scope.$watch(\"$ctrl.username\", function() {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tself._saveRememberMe();\n\t\t\t\t}, 100);\n\t\t\t});\n\n\t\t\tself.hasLocalStorage = function() {\n\t\t\t\treturn _testStorage_localstorage();\n\t\t\t};\n\n\t\t\tself.toggleRememberMeValue = function(evt) {\n\t\t\t\tif (evt && evt.target) {\n\t\t\t\t\t// Handle the space key, redirect it to a click.\n\t\t\t\t\tif (evt.charCode === keys.SPACE || evt.keyCode === keys.ENTER) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\tself.rememberMe = !self.rememberMe;\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.checkForEnter = function(evt) {\n\t\t\t\tif (evt && evt.target) {\n\t\t\t\t\t// Handle the space key, redirect it to a click.\n\t\t\t\t\tif (evt.keyCode === keys.ENTER) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t$(\"#__login-view-submit-button\").focus();\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\t$(\"#__login-view-submit-button\").trigger(\"click\");\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif ((!$localStorage.initialBoot || $localStorage.timedout) && ($localStorage.Authorization || $http.defaults.headers.common.Authorization)) {\n\t\t\t\t// If we\"re not in the initial boot cycle, we need to check to see if the\n\t\t\t\t// auth token we already have is valid or not, and if not,\n\t\t\t\t// clear it.\n\n\t\t\t\t$localStorage.timedout = null;\n\t\t\t\tif ($rootScope.sessionPoller) {\n\t\t\t\t\tclearInterval($rootScope.sessionPoller);\n\t\t\t\t\tdelete $rootScope.sessionPoller;\n\t\t\t\t}\n\t\t\t\tconst i18nLoadHandler = function(){\n\t\t\t\t\t$rootScope.__i18nServiceInitialized = true;\n\t\t\t\t\tself.busy = false;\n\t\t\t\t\tself.i18nLoaded = true;\n\t\t\t\t};\n\t\t\t\t$http({\n\t\t\t\t\t\tmethod: \"GET\",\n\t\t\t\t\t\turl: $localStorage.API_GATEWAY_HOSTNAME + \"/idm/api/v1/isTokenValid\"\n\t\t\t\t\t})\n\t\t\t\t\t.then(function(resp) {\n\t\t\t\t\t\tconst status = resp.status;\n\t\t\t\t\t\tif (status != 200) {\n\t\t\t\t\t\t\t// No valid token, throw to login.\n\t\t\t\t\t\t\t$http.defaults.headers.common.Authorization = \"\";\n\t\t\t\t\t\t\t$localStorage.Authorization = null;\n\t\t\t\t\t\t\tif ($stateParams.username && $stateParams.password) {\n\t\t\t\t\t\t\t\tself.username = $stateParams.username;\n\t\t\t\t\t\t\t\tself.password = $stateParams.password;\n\t\t\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\t\t\tself.login();\n\t\t\t\t\t\t\t\t}, 100);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!$localStorage.msg || !$rootScope.msg) {\n\t\t\t\t\t\t\tskI18nService.initI18N()[\"finally\"](i18nLoadHandler);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, function() {\n\t\t\t\t\t\t// Definitely wasn\"t a valid request, so kill the tokens in\n\t\t\t\t\t\t// local storage and the header so that new login is required.\n\t\t\t\t\t\t$http.defaults.headers.common.Authorization = \"\";\n\t\t\t\t\t\tdelete $localStorage.Authorization;\n\t\t\t\t\t\tif (!$localStorage.msg || !$rootScope.msg) {\n\t\t\t\t\t\t\tskI18nService.initI18N()[\"finally\"](i18nLoadHandler);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdelete $localStorage.initialBoot;\n\t\t\t\tif (!$localStorage.msg || !$rootScope.msg) {\n\t\t\t\t\tskI18nService.initI18N();\n\t\t\t\t}\n\t\t\t\tif ($stateParams.username && $stateParams.password) {\n\t\t\t\t\tself.username = $stateParams.username;\n\t\t\t\t\tself.password = $stateParams.password;\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tself.login();\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tself.$postLink = function(){\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tself._restoreRememberMe();\n\t\t\t\t\tif (self.rememberMe) {\n\t\t\t\t\t\tself._restoreUsername();\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\t$(\"#username\").focus();\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tdelete self.__rememberMeStateRestore;\n\t\t\t\t\t}, 500);\n\t\t\t\t}, 50);\n\t\n\t\t\t\tconst setPageTitle = function(){\n\t\t\t\t\tlet pageTitle = translateService(\"public.cisco.login.app.title\");\n\t\t\t\t\tif (pageTitle !== \"public.cisco.login.app.title\") {\n\t\t\t\t\t\tdocument.title = pageTitle;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpageTitle = translateService(\"cisco.application.title\");\n\t\t\t\t\t\tif(pageTitle !== \"cisco.application.title\"){\n\t\t\t\t\t\t\tdocument.title = pageTitle;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tsetPageTitle();\n\t\t\t\t$scope.$on(\"updated-active-language\", function() {\n\t\t\t\t\tsetPageTitle();\n\t\t\t\t});\n\t\t\t\t// Check to see if i18n is loaded, it affects if a main loader is shown or not.\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tif ($rootScope.__i18nServiceInitialized) {\n\t\t\t\t\t\tself.busy = false;\n\t\t\t\t\t\tself.i18nLoaded = true;\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\t\t\t};\n\t\t}\n\t]\n});","import module from \"../../../module_platformBoot\";\nimport TEMPLATE from \"./AuthFailure-template.html\";\n\nmodule.component(\"msxAuthFailure\", {\n\tbindings: {},\n\ttemplate: TEMPLATE,\n\tcontroller: [\"$rootScope\", \"$localStorage\", \"$timeout\", \"$sce\", \"$scope\", \"$state\", \"$location\",\n\t\t\"$window\", \"$element\", \"skKeyConstants\", \"msx.translateService\",\n\t\tfunction($rootScope, $localStorage, $timeout, $sce, $scope, $state, $location, $window, $element, keys, translateService) {\n\t\t\tconst self = this;\n\t\t\tconst GATEWAY_URL = window[\"GATEWAY_URL\"];\n\t\t\tconst UIROOTURL = window[\"UIROOTURL\"];\n\t\t\tself.csrfToken = window[\"csrfToken\"] || \"\";\t\t\t\t\t\t\n\t\t\tself.contextPath = window[\"contextPath\"] || \"\";\n\t\t\tself.errorMessage = window[\"authErrors\"] || \"\";\n\t\t\t$element.addClass(\"auth-page login-page sk-font-standard-text\");\n\t\t\t\n\t\t\tconst angular = window[\"angular\"];\n\t\t\tconst $ = angular.element;\n\n\t\t\tself.busy = true; // Busy Indicator on by default\n\t\t\t\n\t\t\tconst checkI18n = function(){\n\t\t\t\t// Check to see if i18n is loaded, it affects if a main loader is shown or not.\n\t\t\t\tif ($rootScope.__i18nServiceInitialized || self.i18nLoaded) {\n\t\t\t\t\tself.busy = false;\n\t\t\t\t\tself.i18nLoaded = true;\n\t\t\t\t}else{\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t\tcheckI18n();\n\t\t\t\t\t}, 333);\n\t\t\t\t}\n\t\t\t};\n\t\t\tcheckI18n();\n\t\t\t$scope.$on(\"updated-active-language\", function() {\n\t\t\t\tself.busy = false;\n\t\t\t\tself.i18nLoaded = true;\n\t\t\t});\n\n\t\t\tself.version = window[\"MSX_VERSION\"] || \"v4.0.0\";\n\n\t\t\t// compose parameters from query url\n\t\t\t$localStorage.API_GATEWAY_HOSTNAME = GATEWAY_URL;\n\n\t\t\tself.returnToLogin = function(event) {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\twindow.location=UIROOTURL;\n\t\t\t\t}, 100);\n\t\t\t\tif(event && event.preventDefault){\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tif(event && event.stopPropagation){\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tself.checkForEnter = function(evt) {\n\t\t\t\tif (evt && evt.target) {\n\t\t\t\t\t// Handle the space key, redirect it to a click.\n\t\t\t\t\tif (evt.keyCode === keys.ENTER) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t$(\"#__otp-view-return-button\").focus();\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\t$(\"#__otp-view-return-button\").trigger(\"click\");\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tself.$postLink = function() {\n\t\t\t\tcheckI18n();\n\t\t\t\tconst setPageTitle = function(){\n\t\t\t\t\tvar pageTitle = translateService(\"public.cisco.login.app.title\");\n\t\t\t\t\tif (pageTitle !== \"public.cisco.login.app.title\") {\n\t\t\t\t\t\tdocument.title = pageTitle;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpageTitle = translateService(\"cisco.application.title\");\n\t\t\t\t\t\tif(pageTitle !== \"cisco.application.title\"){\n\t\t\t\t\t\t\tdocument.title = pageTitle;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tsetPageTitle();\n\t\t\t\t$scope.$on(\"updated-active-language\", function() {\n\t\t\t\t\tsetPageTitle();\n\t\t\t\t});\n\t\t\t};\n\t\t}\n\t]\n});\n","import module from \"../../../module_platformBoot\";\nimport TEMPLATE from \"./Otp-template.html\";\n\nmodule.component(\"msxOtp\", {\n\tbindings: {},\n\ttemplate: TEMPLATE,\n\tcontroller: [\"$rootScope\", \"$timeout\", \"$localStorage\", \"$sce\", \"$scope\", \"$state\", \"$location\",\n\t\t\"$window\", \"_\", \"$element\", \"skKeyConstants\", \"msx.translateService\",\n\t\tfunction($rootScope, $timeout, $localStorage, $sce, $scope, $state, $location, $window, _, $element, keys, translateService) {\n\t\t\tconst self = this;\n\t\t\tconst angular = window[\"angular\"];\n\t\t\tconst $ = angular.element;\n\t\t\tconst GATEWAY_URL = window[\"GATEWAY_URL\"];\n\t\t\t\n\t\t\t$element.addClass(\"auth-page login-page otp-page sk-font-standard-text\");\n\n\t\t\tself.csrfToken = window[\"csrfToken\"] || \"\";\t\t\t\t\t\t\n\t\t\tself.contextPath = window[\"contextPath\"] || \"\";\n\t\t\tself.errorMessage = window[\"authErrors\"] || \"\";\n\t\t\tself.optResendEndpoint = window[\"optResendEndpoint\"] || \"\";\n\t\t\tself.optVerifyEndpoint = window[\"optVerifyEndpoint\"] || \"\";\n\t\t\tself.csrfParameterName = window[\"csrfParameterName\"] || \"\";\n\t\t\tself.otpParam = window[\"otpParam\"] || \"\";\n\t\t\t\n\t\t\tself.resendAction = self.contextPath + self.optResendEndpoint;\n\t\t\tself.verifyAction = self.contextPath + self.optVerifyEndpoint;\n\t\t\t\n\t\t\tself.busy = true; // Busy Indicator on by default\n\n\t\t\t$scope.$on(\"updated-active-language\", function() {\n\t\t\t\tself.busy = false;\n\t\t\t\tself.i18nLoaded = true;\n\t\t\t});\n\n\t\t\tself.version = window[\"MSX_VERSION\"] || \"v4.0.0\";\n\n\t\t\t$localStorage.API_GATEWAY_HOSTNAME = GATEWAY_URL;\n\t\t\t$localStorage.twoFactorAuthenticationComplete = false;\n\n\t\t\tself.resendotp = function() {\n\t\t\t\tself.loading = true;\n\t\t\t\tconst form = $(\".form-opt-resend\");\n\t\t\t\tform.attr(\"action\", self.resendAction);\n\t\t\t\tself.loading = true;\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tform.submit();\n\t\t\t\t}, 100);\n\t\t\t};\n\n\t\t\tself.otpLogin = function(password, evt) {\n\t\t\t\tself.errorMessage = \"\";\n\t\t\t\tself.password = password || self.password;\n\t\t\t\tif(evt){\n\t\t\t\t\tif(evt.preventDefault){\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tif(evt.stopPropagation){\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\t\t\t\t\t\n\t\t\t\tconst form = $(\".form-otp-verify\");\n\t\t\t\tform.attr(\"action\", self.verifyAction);\n\t\t\t\tself.loading = true;\n\t\t\t\t$timeout(function() {\n\t\t\t\t\tform.submit();\n\t\t\t\t}, 100);\n\t\t\t};\n\n\t\t\tself.checkForEnter = function(evt) {\n\t\t\t\tif (evt && evt.target) {\n\t\t\t\t\t// Handle the space key, redirect it to a click.\n\t\t\t\t\tif (evt.keyCode === keys.ENTER) {\n\t\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t\t$(\"#__otp-view-submit-button\").focus();\n\t\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\t\t$(\"#__otp-view-submit-button\").trigger(\"click\");\n\t\t\t\t\t\t}, 0);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t\t\n\t\t\tself.$postLink = function(){\n\t\t\t\tconst setPageTitle = function(){\n\t\t\t\t\tvar pageTitle = translateService(\"public.cisco.login.app.title\");\n\t\t\t\t\tif (pageTitle !== \"public.cisco.login.app.title\") {\n\t\t\t\t\t\tdocument.title = pageTitle;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpageTitle = translateService(\"cisco.application.title\");\n\t\t\t\t\t\tif(pageTitle !== \"cisco.application.title\"){\n\t\t\t\t\t\t\tdocument.title = pageTitle;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tsetPageTitle();\n\t\t\t\t$scope.$on(\"updated-active-language\", function() {\n\t\t\t\t\tsetPageTitle();\n\t\t\t\t});\n\t\t\t\t// Check to see if i18n is loaded, it affects if a main loader is shown or not.\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tif ($rootScope.__i18nServiceInitialized) {\n\t\t\t\t\t\tself.busy = false;\n\t\t\t\t\t\tself.i18nLoaded = true;\n\t\t\t\t\t}\n\t\t\t\t}, 100);\n\t\t\t};\n\t\t}\n\t]\n});\n","// Copyright  2019 Cisco Systems, Inc.  All Rights Reserved.\n\nconst angular = window[\"angular\"];\nconst moduleName = 'skPlatformBoot';\nlet module;\ntry {\n\tmodule = angular.module(moduleName);\n} catch (err) {\n\t// named module does not exist, so create one\n\tmodule = angular.module(moduleName, ['ng', 'ngStorage']);\n}\nexport default module;","import module from \"../../../core/systemServices/module_platformBoot\";\nimport TEMPLATE from \"./Auth-template.html\";\n\nmodule.component('msxAuth', {\n\tbindings: {},\n\ttemplate: TEMPLATE,\n\tcontroller: [function(){}]\n});","import module from \"../../../core/systemServices/module_platformBoot\";\nimport TEMPLATE from \"./ForgotPassword-template.html\";\n\nmodule.component(\"msxForgotPassword\", {\n\tbindings: {},\n\ttemplate: TEMPLATE,\n\tcontroller: [\"$http\", \"$state\", \"$stateParams\", \"$timeout\", \"$element\",\n\t\tfunction($http, $state, $stateParams, $timeout, $element) {\n\t\t$element.addClass(\"auth-page forgot-password-page\");\n\t\tconst self = this;\n\t\tconst GATEWAY_URL = window[\"GATEWAY_URL\"];\n\t\tconst url = GATEWAY_URL + \"/idm/api/v1/users/identity\";\n\t\tconst angular = window[\"angular\"];\n\t\tconst $ = angular.element;\n\t\tlet backTimeout = null;\n\n\t\tself.username = $stateParams.username || \"\";\n\n\t\tself.returnToLogin = function() {\n\t\t\tif (backTimeout) {\n\t\t\t\t$timeout.cancel(backTimeout);\n\t\t\t}\n\t\t\tbackTimeout = null;\n\t\t\t$state.go(\"auth.login\");\n\t\t};\n\n\t\tself.sendReset = function(username) {\n\t\t\t$http({\n\t\t\t\t\tmethod: \"PUT\",\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t\"action\": \"SEND_PASSWORD_RESET_NOFICATION\",\n\t\t\t\t\t\t\"token\": \"\",\n\t\t\t\t\t\t\"payload\": {\n\t\t\t\t\t\t\t\"userId\": username,\n\t\t\t\t\t\t\t\"password\": \"\",\n\t\t\t\t\t\t\t\"confirmPassword\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(function() {\n\t\t\t\t\tself.successMessage = \"public.cisco.forgotpassword.success\";\n\t\t\t\t\tbackTimeout = $timeout(function() {\n\t\t\t\t\t\tself.returnToLogin();\n\t\t\t\t\t}, 5000);\n\t\t\t\t}, function() {\n\t\t\t\t\tself.errorMessage = \"public.cisco.forgotpassword.failure\";\n\t\t\t\t\tbackTimeout = $timeout(function() {\n\t\t\t\t\t\tself.returnToLogin();\n\t\t\t\t\t}, 5000);\n\t\t\t\t});\n\t\t};\n\t\tself.$postLink = function(){\n\t\t\t$(\".sk-auth-hidden\").removeClass(\"sk-auth-hidden\");\n\t\t};\t\t\n\t}]\n});","import module from \"../../../core/systemServices/module_platformBoot\";\nimport TEMPLATE from \"./ResetPassword-template.html\";\n\nmodule.component('msxResetPassword', {\n\tbindings: {}, // Create new isolate scope.\n\ttemplate: TEMPLATE,\n\tcontroller: ['$element', '$localStorage', '$scope', '$http', '$rootScope', '$state', '$stateParams', 'skKeyConstants', \n\t'$timeout', \"$uuid\", \"$q\", \"msx.translateService\", \"msx.a11yMixins\",\n\tfunction($element, $localStorage, $scope, $http, $rootScope, $state, $stateParams, keys, $timeout, $uuid, $q, translateService, a11yMixins) {\n\t\tconst self = this;\n\t\t$element.addClass(\"auth-page reset-password-page\");\n\t\tconst angular = window[\"angular\"];\n\t\tconst $ = angular.element;\n\t\tlet backTimeout = null;\n\t\ta11yMixins.mixinTo(self);\n\n\t\tself.username = $stateParams.username || \"\";\n\t\tself.userId = $stateParams.userId || \"\";\n\t\tself.resetToken = $stateParams.token;\n\t\tself.type = $stateParams.type;\n\t\tself.email = $stateParams.userId;\n\t\tself.showCharctersCheck = false;\n\t\tself.invalidPasswordMatch = false;\n\t\tself.invalidPassword = false;\n\t\tself.randomPasswordFieldSuffix = $uuid();\n\t\t\n\t\tself.password = \"\";\n\t\t// These are the original default rules used in the password\n\t\t// suggestion dialog.\n\t\tself.rules = [\n\t\t\t\"public.cisco.resetpassword.characteristics.rule1\",\n\t\t\t\"public.cisco.resetpassword.characteristics.rule2\",\n\t\t\t\"public.cisco.resetpassword.characteristics.rule3\",\n\t\t\t\"public.cisco.resetpassword.characteristics.rule4\",\n\t\t\t\"public.cisco.resetpassword.characteristics.rule5\"\n\t\t];\n\n\t\tself.returnToLogin = function(params) {\n\t\t\tif (backTimeout) {\n\t\t\t\t$timeout.cancel(backTimeout);\n\t\t\t}\n\t\t\tbackTimeout = null;\n\n\t\t\tif ($localStorage.SAML_CONFIG &&\n\t\t\t\t$localStorage.SAML_CONFIG.loginMethod &&\n\t\t\t\t$localStorage.SAML_CONFIG.loginMethod.toLowerCase() === \"saml\") {\n\n\t\t\t\t$state.go(\"auth.samlRedirect\", {\n\t\t\t\t\tobj: {\n\t\t\t\t\t\tSAML_CONFIG: $localStorage.SAML_CONFIG,\n\t\t\t\t\t\ttargetUrl: window[\"LOGIN_URL\"]\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t$state.go(\"auth.login\", params);\n\t\t\t}\n\t\t};\n\n\t\tlet url = \"\";\n\t\tlet GATEWAY_URL = window[\"GATEWAY_URL\"];\n\t\t\n\t\tif (self.type === 'EU') {\n\t\t\turl = GATEWAY_URL + '/idm/api/v1/users/identity';\n\t\t} else if (self.type === 'RU') {\n\t\t\turl = GATEWAY_URL + '/manage/api/v1/serviceinstances/remoteusers/identity';\n\t\t} else if (self.type === 'ASDMADMIN') {\n\t\t\turl = GATEWAY_URL + '/cgps/api/v1/serviceinstances/cgpsadmin/identity';\n\t\t} else {\n\t\t\tself.linkExpired = true;\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Function to get a suggested password from the server.\n\t\tlet getPasswordSuggestion = function(){\t\t\t\t\n\t\t\tif(self.__pwDef){\n\t\t\t\treturn self.__pwDef;\n\t\t\t}\n\t\t\t\n\t\t\tconst def = $q.defer();\n\t\t\tself.__pwDef = def;\n\t\t\t\n\t\t\t$http({\n\t\t\t\tmethod: \"GET\",\n\t\t\t\turl: GATEWAY_URL + \"/idm/api/v1/users/suggestPassword/\" + self.userId + \"/token/\" + self.resetToken\n\t\t\t}).then(function(resp){\n\t\t\t\tlet pw = resp && resp.data ? resp.data.responseObject || \"ERROR\" : \"ERROR\";\n\t\t\t\tif(pw === \"ERROR\"){\n\t\t\t\t\tself.errorMessage = \"public.cisco.reset.password.reload.suggested.failure.label\";\n\t\t\t\t}\n\t\t\t\tdef.resolve(pw);\n\t\t\t\tself.__pwDef = null;\n\t\t\t},function(error){\n\t\t\t\tif(error && error.status){\n\t\t\t\t\tif(error.status == 400){\n\t\t\t\t\t\t// Token expired.\n\t\t\t\t\t\tself.errorMessage = \"public.cisco.reset.password.token.expired.failure.label\";\n\t\t\t\t\t}else if (error.status == 404){\n\t\t\t\t\t\t// User not found or not associated to the user.\n\t\t\t\t\t\tself.errorMessage = \"public.cisco.reset.password.token.mismatch.failure.label\";\n\t\t\t\t\t}else if (error.status == 406){\n\t\t\t\t\t\t// Problem on the back end.\n\t\t\t\t\t\tself.errorMessage = \"public.cisco.reset.password.reload.suggested.failure.label\";\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.errorMessage = \"public.cisco.reset.password.reload.suggested.failure.label\";\n\t\t\t\t\t}\n\t\t\t\t\tdef.resolve(\"\");\n\t\t\t\t\tself.__pwDef = null;\n\t\t\t\t}else{\n\t\t\t\t\tdef.resolve(\"ERROR\");\n\t\t\t\t\tself.errorMessage = \"public.cisco.reset.password.reload.suggested.failure.label\";\n\t\t\t\t\tself.__pwDef = null;\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\treturn def.promise;\n\t\t};\t\t\t\t\t\t\n\t\t\n\t\t// Load the rules from the backend ...\n\t\tconst rulesUrl = GATEWAY_URL + \"/idm/api/v1/pwdpolicy/userId/\" + self.userId + \"/token/\" + self.resetToken;\n\t\t$http({\n\t\t\t\tmethod: 'GET',\n\t\t\t\turl: rulesUrl\n\t\t\t})\n\t\t\t.then(function(resp) {\n\t\t\t\tlet rules = resp && resp.data && resp.data.responseObject ? resp.data.responseObject.validRules || [] : [];\n\t\t\t\tself.rules = rules;\n\t\t\t}, function(resp) {\n\t\t\t\tconsole[\"error\"](\"There was an issue getting the rules from the back end.  Default guidelines will be displayed.   Error was: \", resp);\n\t\t\t});\n\n\t\tself.resetPasswordText = translateService(\"public.cisco.resetpassword.text\", {\n\t\t\tusername: $stateParams.userId\n\t\t});\n\n\t\t$http({\n\t\t\t\tmethod: 'PUT',\n\t\t\t\turl: url,\n\t\t\t\tdata: {\n\t\t\t\t\t'action': 'SHOW_ACCEPT_NEW_PASSWORD',\n\t\t\t\t\t'token': self.resetToken,\n\t\t\t\t\t'payload': {\n\t\t\t\t\t\t'userId': self.email\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then(function(resp) {\n\t\t\t\tself.userId = resp.data && resp.data.responseObject ? resp.data.responseObject.userId || \"\" : \"\";\n\t\t\t}, function(resp) {\n\t\t\t\tlet status = resp.status;\n\t\t\t\tif (status != 404) {\n\t\t\t\t\tself.linkExpired = true;\n\t\t\t\t\tself.errorMessage = translateService(\"public.cisco.resetpassword.linkexpired.error\");\n\t\t\t\t}\n\n\t\t\t});\n\t\t\t\n\t\tself.showRecomendation = function() {\n\t\t\tif (self.displayRecomendation) {\n\t\t\t\tself.displayRecomendation = false;\n\t\t\t} else {\n\t\t\t\tself.displayRecomendation = true;\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t$(\".remote-user-info-close\").focus();\n\t\t\t\t}, 100);\n\t\t\t}\n\t\t};\n\n\t\tself.closeInfo = function() {\n\t\t\tself.displayRecomendation = false;\n\t\t\t$timeout(function() {\n\t\t\t\t$(\".show-recommendations-icon\").focus();\n\t\t\t}, 100);\n\t\t};\n\n\t\tself.loginRedirect = function() {\n\t\t\t$state.go('auth.login');\n\t\t};\n\n\t\tself.clearPassword = function() {\n\t\t\tself.password = null;\n\t\t\tself.confirmPassword = null;\n\t\t};\n\n\t\t// This function implements basic A11Y redirect.  It will translate an enter or a space\n\t\t// on a tab-able element into a click.\n\t\tself.customA11yHandler = function(evt) {\n\t\t\tif (evt && evt.target) {\n\t\t\t\tlet tag = evt.target.tagName ? evt.target.tagName.toLowerCase() : \"\";\n\t\t\t\tif (tag == 'input' && evt.keyCode == keys.ENTER) {\n\t\t\t\t\tself.resetPassword(self.password, self.confirmPassword);\n\t\t\t\t}\n\t\t\t\tself.a11yHandler(evt);\n\t\t\t}\n\t\t};\n\n\t\tself.toggleShowPassword = function(evt) {\n\t\t\tif (evt && evt.target) {\n\t\t\t\t// Handle the space key, redirect it to a click.\n\t\t\t\tif (evt.charCode === keys.SPACE || evt.keyCode === keys.ENTER) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\tevt.stopPropagation();\n\t\t\t\t\t$timeout(function() {\n\t\t\t\t\t\tself.showCharctersCheck = !self.showCharctersCheck;\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tself.resetPassword = function(pass, confPass) {\n\t\t\tself.successMessage = \"\";\n\t\t\tself.errorMessage = \"\";\n\n\t\t\tif (!pass || !confPass) {\n\t\t\t\tself.errorMessage = \"public.cisco.resetpassword.label.confirmpassword.missing.error\";\n\t\t\t\tself.confirmPassword = null;\n\t\t\t\t$(\"#password\", $element[0]).focus();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (pass !== confPass) {\n\t\t\t\tself.invalidPasswordMatch = true;\n\t\t\t\tself.errorMessage = \"public.cisco.resetpassword.label.confirmpassword.error\";\n\t\t\t\tself.confirmPassword = null;\n\t\t\t\t$(\"#password\", $element[0]).focus();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t$http({\n\t\t\t\t\tmethod: 'PUT',\n\t\t\t\t\turl: url,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\t\"action\": \"RESET_PASSWORD\",\n\t\t\t\t\t\t\"token\": self.resetToken,\n\t\t\t\t\t\t\"payload\": {\n\t\t\t\t\t\t\t\"userId\": self.userId,\n\t\t\t\t\t\t\t\"password\": pass,\n\t\t\t\t\t\t\t\"confirmPassword\": confPass\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(function() {\n\t\t\t\t\tself.successMessage = \"public.cisco.resetpassword.success\";\n\t\t\t\t\tbackTimeout = $timeout(function() {\n\t\t\t\t\t\tself.returnToLogin();\n\t\t\t\t\t}, 5000);\n\t\t\t\t}, function(resp) {\n\t\t\t\t\tconst data = resp.data;\n\t\t\t\t\tlet msg = data.message;\n\t\t\t\t\tmsg = msg.replace(/, /gi, \"<br>&nbsp;&nbsp;&nbsp;\");\n\t\t\t\t\tmsg = msg.replace(/\\[/gi, \"<br>&nbsp;&nbsp;&nbsp;\");\n\t\t\t\t\tmsg = msg.replace(/\\]/gi, \"\");\n\t\t\t\t\tself.errorMessage = msg;\n\t\t\t\t\tself.confirmPassword = null;\n\t\t\t\t\t$(\"#password\", $element[0]).focus();\n\t\t\t\t});\n\t\t};\n\t\t\n\t\tself.focusHandler = function(fieldId){\n\t\t\tconst field = $(\"#\" + fieldId);\n\t\t\tif(field && field.length){\n\t\t\t\tconst v = $(field).val();\n\t\t\t\tif(!v){\n\t\t\t\t\t// This may seem weird, but it serves a purpose.  It prevents\n\t\t\t\t\t// the browser from popping its native password suggest dialog from\n\t\t\t\t\t// its password manager.  The browsers don't prompt for a readonly field\n\t\t\t\t\t// on focus.  So, setting readonly, and clearing it a little later\n\t\t\t\t\t// prevents it.\n\t\t\t\t\t$(field).attr(\"readonly\", true);\n\t\t\t\t\t$timeout(function(){\n\t\t\t\t\t$(field).removeAttr(\"readonly\");\n\t\t\t\t\t}, 10);\n\t\t\t\t}\n\t\t\t\tif(fieldId === \"password\" && !v){\n\t\t\t\t\tself.showPasswordSuggest = true;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tself.blurHandler = function(fieldId){\n\t\t\tif(fieldId === \"password\"){\n\t\t\t\t$timeout(function(){\n\t\t\t\t\tconst ae = document.activeElement;\n\t\t\t\t\tif(ae){\n\t\t\t\t\t\tif(!$(ae).closest(\".auto-suggest-password-box\").length){\n\t\t\t\t\t\t\tself.showPasswordSuggest = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.showPasswordSuggest = false;\n\t\t\t\t\t}\n\t\t\t\t}, 10);\n\t\t\t}else{\n\t\t\t\tself.showPasswordSuggest = false;\n\t\t\t}\n\t\t};\n\t\tself.passwordInput = function(){\n\t\t\t$timeout(function(){\n\t\t\t\tlet pw = self.password || $(\"#password\").val();\n\t\t\t\tconsole.log(self, self.password);\n\t\t\t\tif(pw && pw !== \"\"){\n\t\t\t\t\tself.showPasswordSuggest = false;\n\t\t\t\t}\n\t\t\t}, 100);\n\t\t};\t\t\t\t\t\n\t\tself.handleSuggestionReload = function(){\n\t\t\t$timeout(function(){\n\t\t\t\tself.suggestedPassword = null;\n\t\t\t\tgetPasswordSuggestion().then(function(pw){\n\t\t\t\t\tself.suggestedPassword = pw;\n\t\t\t\t});\n\t\t\t\t$(\"#password\").focus();\n\t\t\t}, 0);\n\t\t};\n\t\t\n\t\tself.selectSuggestion = function(){\n\t\t\tif(self.suggestedPassword){\n\t\t\t\tself.password = self.suggestedPassword;\n\t\t\t\tself.confirmPassword = self.suggestedPassword;\n\t\t\t}\n\t\t\t$(\"#password\").focus();\n\t\t};\n\t\t\n\t\t$scope.$watch(\"$ctrl.password\", function(newVal){\n\t\t\tif(newVal){\n\t\t\t\tself.showPasswordSuggest = false;\n\t\t\t}\n\t\t});\n\t\t$scope.$watch('$ctrl.password', function() {\n\t\t\tself.invalidPasswordMatch = false;\n\t\t\tself.invalidPassword = false;\n\t\t});\n\t\t$scope.$watch('$ctrl.confirmPassword', function() {\n\t\t\tself.invalidPasswordMatch = false;\n\t\t\tself.invalidPassword = false;\n\t\t});\n\t\t\n\t\t\n\t\tself.handleSuggestionReload();\n\t\t\n\t\t$scope.$onDestroy = function() {\n\t\t\tif (backTimeout) {\n\t\t\t\t$timeout.cancel(backTimeout);\n\t\t\t\tbackTimeout = null;\n\t\t\t}\n\t\t};\n\t\t\n\t\tself.$postLink = function(){\n\t\t\t$(\".sk-auth-hidden\").removeClass(\"sk-auth-hidden\");\n\t\t};\n\t\t\n\t\t// Bind to any update events we need to be aware of.\n\t\t$scope.$on(\"updated-active-language\", function() {\n\t\t\tif (self.linkExpired) {\n\t\t\t\tself.errorMessage = translateService(\"public.cisco.resetpassword.linkexpired.error\");\n\t\t\t}\n\t\t\t// Update the password text too on any language change\n\t\t\tself.resetPasswordText = translateService(\"public.cisco.resetpassword.text\", {\n\t\t\t\tusername: $stateParams.userId\n\t\t\t});\n\t\t});\t\t\n\t}]\n});\n\n","import module from \"../../../core/systemServices/module_platformBoot\";\nimport TEMPLATE from \"./AppLoading-template.html\";\n\nmodule.component('msxAppLoading', {\n\tbindings: {},\n\ttemplate: TEMPLATE,\n\tcontroller: [\"msx.loggerService\", \"$state\", \"$localStorage\", \"$timeout\", \"$window\", \"$location\", \"$element\",\n\t\tfunction(loggerService, $state, $localStorage, $timeout, $window, $location, $element){\n\t\tconst angular = window[\"angular\"];\n\t\tconst $ = angular.element;\n\t\t$element.addClass(\"app-loading\");\n\t\t$(\"body\").removeClass(\"slide-menu-state-expanded\");\n\t\tvar loadLimit = 1000 * (60 * 3); // Five minutes is our limit for sitting omn loading before the UI tries to recover.\n\t\t$timeout(function(){\n\t\t\tvar currentState = $state.current;\n\t\t\tvar reloadCount = $localStorage.__reloadCount || 0;\n\t\t\tif(currentState.name === \"auth.appLoading\"){\n\t\t\t\tif(reloadCount < 5){\n\t\t\t\t\treloadCount++;\n\t\t\t\t\tloggerService.warn(\"We have been stuck in loading a long time; there may be network issues causing problems with load.  Triggering a reload/transition force.  Current Reload attempt: \" + reloadCount);\n\t\t\t\t\t$localStorage.__reloadCount = reloadCount;\n\t\t\t\t\tconst deeplinkUrl = $localStorage.loadingScreenDeeplinkUrl || null;\n\t\t\t\t\t$location.url(deeplinkUrl);\n\t\t\t\t\t$window.location.reload();\n\t\t\t\t}else{\n\t\t\t\t\tloggerService.error(\"Unable to log in.  Something is wrong in the back end causing the UI to be unable to get past loading required information for the initialization.\");\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\t$localStorage.__reloadCount = null;\n\t\t\t\t$localStorage.loadingScreenDeeplinkUrl = null;\n\t\t\t}\n\t\t}, loadLimit);\n\t}]\n});\n\n","// Copyright  2019 Cisco Systems, Inc.  All Rights Reserved.\n\nconst angular = window[\"angular\"];\nconst moduleName = 'msx.systemServices';\nlet module;\ntry {\n\tmodule = angular.module(moduleName);\n} catch (err) {\n\t// named module does not exist, so create one\n\tmodule = angular.module(moduleName, ['ng', 'ngStorage']);\n}\nexport default module;","/*\n * @name /skBrowserDetectionService.js\n * @fileOverview Contains skBrowserDetectionService\n * This module is a browser detection utility.  It should only be used for things like\n * checking browser support (as in app tested and verifying if supported list].  It should\n * not generally be used to branch code, but just generally to inform the user what browser\n * they seem to be on if needed to do so in an application\n */\nimport module from \"./module_systemServices\";\nvar $ = angular.element;\nvar bd = {\n\tisWebkit: undefined,\n\tisTrident: undefined,\n\tisEdge: undefined,\n\tisIE: undefined,\n\tisGecko: undefined,\n\tisFirefox: undefined,\n\tisChrome: undefined,\n\tisOpera: undefined,\n\tisSafari: undefined\n};\n\nvar n;\ntry {\n\tn = navigator;\n} catch (ignore) {}\n\nif (n) {\n\tvar ua = n.userAgent;\n\tvar av = n.appVersion;\n\tvar tv = parseFloat(av);\n\tvar uaKeys = [\"Gecko\", \"Firefox\", \"Konqueror\", \"WebKit\", \"Trident\", \"Edge\", \"Minefield\", \"Chrome\", \"OPR\", \"MSIE\", \"Safari\"];\n\tvar i, key;\n\tvar matchMap = {};\n\tvar verMap = {};\n\tfor (i = 0; i < uaKeys.length; i++) {\n\t\tkey = uaKeys[i];\n\t\tmatchMap[key] = ua.indexOf(key) >= 0;\n\t}\n\tvar browsers = {\n\t\t\"Firefox\": matchMap[\"Firefox\"] && !matchMap[\"Konqueror\"] &&\n\t\t\t!matchMap[\"WebKit\"] && !matchMap[\"Trident\"] &&\n\t\t\t!matchMap[\"Edge\"] && matchMap[\"Firefox\"] &&\n\t\t\t(parseFloat(ua.split(\"Firefox/\")[1] || ua.split(\"Minefield/\")[1]) || undefined),\n\t\t\"Gecko\": matchMap[\"Gecko\"] && !matchMap[\"Konqueror\"] && !matchMap[\"WebKit\"] &&\n\t\t\t!matchMap[\"Trident\"] && !matchMap[\"Edge\"] &&\n\t\t\t(parseFloat(ua.split(\"Gecko/\")[1]) || undefined),\n\t\t\"Webkit\": matchMap[\"WebKit\"] && !matchMap[\"Trident\"] &&\n\t\t\t!matchMap[\"Edge\"] &&\n\t\t\t(parseFloat(ua.split(\"WebKit/\")[1]) || undefined),\n\t\t\"Chrome\": matchMap[\"Chrome\"] && matchMap[\"WebKit\"] && !matchMap[\"Trident\"] &&\n\t\t\t!matchMap[\"Edge\"] && !matchMap[\"OPR\"] &&\n\t\t\t(parseFloat(ua.split(\"Chrome/\")[1]) || undefined),\n\t\t\"Edge\": matchMap[\"WebKit\"] & matchMap[\"Chrome\"] && matchMap[\"Edge\"] &&\n\t\t\t(Math.floor(parseFloat(ua.split(\"Edge/\")[1])) || undefined),\n\t\t\"Safari\": matchMap[\"WebKit\"] && matchMap[\"Safari\"] && !matchMap[\"Trident\"] &&\n\t\t\t!matchMap[\"Chrome\"] && !matchMap[\"Edge\"] &&\n\t\t\t(parseFloat(ua.split(\"Version/\")[1]) || undefined),\n\t\t\"IE\": matchMap[\"MSIE\"] && !matchMap[\"Gecko\"] && !matchMap[\"Edge\"] &&\n\t\t\t(parseFloat(ua.split(\"MSIE \")[1]) || undefined),\n\t\t\"Opera\": matchMap[\"WebKit\"] && matchMap[\"OPR\"] && matchMap[\"Chrome\"] &&\n\t\t\t(parseFloat(ua.split(\"OPR/\")[1]) || undefined),\n\t\t\"Trident\": matchMap[\"Trident\"] && matchMap[\"Gecko\"] && !matchMap[\"Edge\"] &&\n\t\t\t(parseFloat(ua.split(\"Trident/\")[1]) || undefined)\n\t};\n\tfor (key in browsers) {\n\t\tvar browser = key.toLowerCase();\n\t\tbrowser = browser.charAt(0).toUpperCase() + browser.substring(1, browser.length);\n\t\tif (browser === \"Ie\") {\n\t\t\tbrowser = \"IE\";\n\t\t}\n\t\tbd[\"is\" + browser] = browsers[key] || undefined;\n\t}\n}\n\nvar isBrowser = function(browserName) {\n\tbrowserName = browserName ? browserName.toLowerCase() : \"\";\n\tvar isB = false;\n\tswitch (browserName) {\n\t\tcase \"ff\":\n\t\tcase \"firefox\":\n\t\t\tif (bd.isFirefox) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"gecko\":\n\t\t\tif (bd.isGecko) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"safari\":\n\t\t\tif (bd.isSafari) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"chrome\":\n\t\t\tif (bd.isChrome) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"webkit\":\n\t\t\tif (bd.isWebkit) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"trident\":\n\t\t\tif (bd.isTrident) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"edge\":\n\t\t\tif (bd.isEdge) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"ie\":\n\t\tcase \"internet explorer\":\n\t\t\tif (bd.isIE) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"opera\":\n\t\t\tif (bd.isOpera) {\n\t\t\t\tisB = true;\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tisB = false;\n\t}\n\treturn isB;\n};\n\n// Attach a high contrast mode CSS class to HTML, in case\n// we need to support specific styles for High Contrast mode later.\n$(document).ready(function() {\n\ttry {\n\t\tif (document.documentElement) {\n\t\t\t// Lets go ahead and add in some browser specific selectors on <html> just in\n\t\t\t// case we need to special case a browser some day.  Ideally we will not need\n\t\t\t// to, but this helps out.\n\t\t\tvar classes = \"\";\n\t\t\tif (isBrowser(\"chrome\")) {\n\t\t\t\tclasses += \" vms-bd-chrome\";\n\t\t\t}\n\t\t\tif (isBrowser(\"webkit\")) {\n\t\t\t\tclasses += \" vms-bd-webkit\";\n\t\t\t}\n\t\t\tif (isBrowser(\"safari\")) {\n\t\t\t\tclasses += \" vms-bd-safari\";\n\t\t\t}\n\t\t\tif (isBrowser(\"opera\")) {\n\t\t\t\tclasses += \" vms-bd-opera\";\n\t\t\t}\n\t\t\tif (isBrowser(\"ff\")) {\n\t\t\t\tclasses += \" vms-bd-ff\";\n\t\t\t}\n\t\t\tif (isBrowser(\"ie\")) {\n\t\t\t\tclasses += \" vms-bd-ie\";\n\t\t\t}\n\t\t\tif (isBrowser(\"trident\")) {\n\t\t\t\tclasses += \" vms-bd-trident\";\n\t\t\t}\n\t\t\tif (isBrowser(\"edge\")) {\n\t\t\t\tclasses += \" vms-bd-edge\";\n\t\t\t}\n\t\t\tif (classes) {\n\t\t\t\t$(document.documentElement).addClass(classes);\n\t\t\t}\n\t\t}\n\t} catch (ignore) {}\n});\n\nmodule.service('skBrowserDetectionService', [function($q, $localStorage, $http) {\n\tthis.isBrowser = isBrowser;\n\t// This function returns the version for the requested browser, if the current environment matches\n\t// the noted browser.  For example, Webkit and Chrome will both be true in the Chrome browser.\n\t// So, you can ask for which one, if you want.  If none are specified, it just returns the first\n\t// one that denotes a version\n\tthis.getBrowserVersion = function(browser) {\n\t\tif (browser) {\n\t\t\tbrowser = browser.toLowerCase();\n\t\t\tswitch (browser) {\n\t\t\t\tcase \"ff\":\n\t\t\t\tcase \"firefox\":\n\t\t\t\t\treturn bd.isFirefox;\n\t\t\t\tcase \"gecko\":\n\t\t\t\t\treturn bd.isGecko;\n\t\t\t\tcase \"safari\":\n\t\t\t\t\treturn bd.isSafari;\n\t\t\t\tcase \"chrome\":\n\t\t\t\t\treturn bd.isChrome;\n\t\t\t\tcase \"webkit\":\n\t\t\t\t\treturn bd.isWebkit;\n\t\t\t\tcase \"trident\":\n\t\t\t\t\treturn bd.isTrident;\n\t\t\t\tcase \"edge\":\n\t\t\t\t\treturn bd.isEdge;\n\t\t\t\tcase \"ie\":\n\t\t\t\tcase \"internet explorer\":\n\t\t\t\t\treturn bd.isIE;\n\t\t\t\tcase \"opera\":\n\t\t\t\t\treturn bd.isOpera;\n\t\t\t\tdefault:\n\t\t\t\t\treturn null;\n\t\t\t}\n\t\t} else {\n\t\t\t// No browser specified\n\t\t\tlet key, ver;\n\t\t\tfor (key in bd) {\n\t\t\t\tver = bd[key];\n\t\t\t\tif (ver != null) {\n\t\t\t\t\treturn ver;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t};\n\tthis.browserFlags = bd;\n}]);","// Copyright  2017, 2020 Cisco Systems, Inc.  All Rights Reserved.\nimport module from \"../../../core/systemServices/module_platformBoot\";\nimport TEMPLATE from \"./PasswordExpiryDialog-template.html\";\n\nmodule.component(\"msxPasswordExpiryDialog\", {\n\ttemplate: TEMPLATE,\n\tbindings: {\n\t\tmodalInstance: \"<?\",\n\t\tresolve: \"<?\"\n\t},\n\tcontroller: [function(){\n\t\tconst self = this;\n\t\tself.ok = function(){\n\t\t\tif(typeof self.resolve.handler === \"function\"){\n\t\t\t\tself.resolve.handler();\n\t\t\t\tself.modalInstance.close();\n\t\t\t}\t\t\n\t\t};\n\t\tself.$onChanges = function(changes){\n\t\t\tconst resolve = changes[\"resolve\"];\n\t\t\tif(resolve && resolve.currentValue && resolve.currentValue.message){\n\t\t\t\tself.expirationMessage = resolve.currentValue.message;\n\t\t\t}\n\t\t};\n\t}]\n});","import TEMPLATE from \"./BusyIndicator-template.html\";\n// In this component, we need module to be Platform Boot level so don't use this shared module\n//import module from \"../index.js\";\n//module.component('msxBusyIndicator', {\n\nconst angular = window[\"angular\"];\nangular.module('skPlatformBoot').component('msxBusyIndicator', {\n\tbindings: {\n\t\ttype: \"@?\",\n\t\tstroke: \"@?\",\n\t\tradius: \"@?\",\n\t\tspeed: \"@?\",\n\t\tdelay: \"@?\"\n\t},\n\ttemplate: TEMPLATE,\n\tcontroller: ['$scope', '$element', '$timeout', function($scope, $element, $timeout) {\n\t\tvar $ = angular.element;\n\t\tvar self = this;\n\t\t\n\t\tvar active = true; // Used to turn animation loop on/off\n\t\t\n\t\tself.$postLink = function(){\n\t\t\t// ***********************************\n\t\t\tvar templateBuilder = function(htmltemplate, data) {\n\t\t\t\t// Jeff's nifty mini-templater. Loop through data object and replace any {{tags}} that have the same names as the object fields\n\t\t\t\t// ex: templateBuilder(\"<div id='{{ID}}'>{{STR}}</div>\", { ID: 'myDiv', STR: 'Hello' }) returns \"<div id='myDiv'>Hello</div>\"\n\t\t\t\tfor (var key in data) {\n\t\t\t\t\thtmltemplate = htmltemplate.replace(new RegExp('{{' + key + '}}', 'g'), data[key]);\n\t\t\t\t}\n\t\t\t\treturn htmltemplate;\n\t\t\t};\n\t\n\t\t\t// ***********************************\n\t\t\tvar easeInOutQuad = function(t) {\n\t\t\t\treturn t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n\t\t\t};\n\t\n\t\t\tvar radiusConstants = {\n\t\t\t\tmicro: 0.4,\n\t\t\t\tsmall: 0.8,\n\t\t\t\tmedium: 1.2,\n\t\t\t\tlarge: 2.8,\n\t\t\t\thuge: 3.2,\n\t\t\t\tgigantic: 6.4\n\t\t\t};\n\t\t\t\n\t\t\t// Set defaults or accept overrides\n\t\t\tself._type = angular.isDefined(self.type) ? self.type : 'ease'; // option 'linear'\n\t\t\tself._stroke = angular.isDefined(self.stroke) ? parseFloat(self.stroke, 10) : 0.4; // in rems\n\t\t\tself._radius = angular.isDefined(self.radius) ? radiusConstants[self.radius] || parseFloat(self.radius, 10) : 3.2; // in rems\n\t\t\tself._delay = angular.isDefined(self.delay) ? parseInt(self.delay, 10) : 0;\n\t\t\tself._speed = angular.isDefined(self.speed) ? parseFloat(self.speed, 10) : 1;\n\t\n\t\t\t// SVG HTML template\n\t\t\tvar html = '' +\n\t\t\t\t'<svg class=\"vms-busy\" width=\"{{size}}\" height=\"{{size}}\" viewBox=\"0 0 {{size}} {{size}}\">' +\n\t\t\t\t'   <circle class=\"vms-busy-meter\" cx=\"{{center}}\" cy=\"{{center}}\" r=\"{{radius}}\" stroke-width=\"{{stroke}}\"></circle>' +\n\t\t\t\t'   <circle class=\"vms-busy-value\" cx=\"{{center}}\" cy=\"{{center}}\" r=\"{{radius}}\" stroke-width=\"{{stroke}}\"></circle>' +\n\t\t\t\t'</svg>';\n\t\t\t\t\n\t\t\tvar modifier = $(\"body\").parent().css(\"font-size\") || 10;\n\t\t\tif(typeof modifier == \"string\"){\n\t\t\t\tif(modifier.indexOf(\"px\") > -1){\n\t\t\t\t\tmodifier = parseInt(modifier, 10);\n\t\t\t\t}else{\n\t\t\t\t\tmodifier = 10;\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Replace all {{}} macros in the HTML string with values from object\n\t\t\tvar absoluteValue = function(remVal){\n\t\t\t\treturn remVal * modifier;\n\t\t\t};\n\t\n\t\t\thtml = templateBuilder(html, {\n\t\t\t\tstroke: absoluteValue(self._stroke),\n\t\t\t\tradius: absoluteValue(self._radius),\n\t\t\t\tcenter: absoluteValue(self._radius) + absoluteValue(self._stroke),\n\t\t\t\tsize: (absoluteValue(self._radius) + absoluteValue(self._stroke)) * 2\n\t\t\t});\n\t\n\t\t\tvar busyValueElem;\n\t\t\tvar startTimeStamp = 0;\n\t\n\t\t\t// Macro Values\n\t\t\tvar CIRCUMFERENCE = (2 * Math.PI * absoluteValue(self._radius)); // *10 converts rems to pixels)\n\t\n\t\t\t// ********************************\n\t\t\tvar raf = window.requestAnimationFrame;\n\t\t\tvar parentCtx = this;\n\t\t\tvar doAnim = function(t) {\n\t\t\t\tif (!startTimeStamp) {\n\t\t\t\t\tstartTimeStamp = t;\n\t\t\t\t}\n\t\n\t\t\t\t// elapsed delta 0.0 - 1.0 advances the filled snake, >1.0 - 2.0 retreats it\n\t\t\t\tvar delta = ((t - startTimeStamp) / 1000) * parentCtx._speed;\n\t\t\t\t// default animation lasts for 2 seconds (2000ms | delta 2.0) at which point we reset to 0\n\t\t\t\tif (delta > 2.0) {\n\t\t\t\t\tstartTimeStamp = t;\n\t\t\t\t\tdelta = 0;\n\t\t\t\t}\n\t\n\t\t\t\tvar indicatorOffset = delta; // linear\n\t\t\t\tif (parentCtx._type === 'ease') {\n\t\t\t\t\tindicatorOffset = (delta <= 1.0) ? easeInOutQuad(delta) : easeInOutQuad(delta - 1.0) + 1.0;\n\t\t\t\t}\n\t\n\t\t\t\t// Position the animated snake\n\t\t\t\tbusyValueElem.style.strokeDashoffset = CIRCUMFERENCE * (1 - (indicatorOffset));\n\t\n\t\t\t\t// Kick off the next animation frame unless we've been hidden or destroyed\n\t\t\t\tif (active) {\n\t\t\t\t\traf(doAnim);\n\t\t\t\t}\n\t\t\t};\n\t\n\t\t\t// Delayed start of animation if specified\n\t\t\t$timeout(function() {\n\t\t\t\t// Make sure it hasn't been turned off during the timeout period\n\t\t\t\tif (active) {\n\t\t\t\t\t// Manually insert the SVG code into the Angular wrapper (extra step to avoid initial errors reported when Angular tries to do injection to SVG)\n\t\t\t\t\t$element.html(html);\n\t\t\t\t\tbusyValueElem = $('.vms-busy-value', $element)[0];\n\t\t\t\t\tbusyValueElem.style.strokeDasharray = CIRCUMFERENCE; // Set initial animation size parameter\n\t\t\t\t\tdoAnim(0); // Kick off the animation\n\t\t\t\t}\n\t\n\t\t\t}, self._delay);\n\t\t};\n\n\t\t// Stop the animation loop if the element is removed\n\t\tself.$onDestroy = function() {\n\t\t\tactive = false;\n\t\t};\n\t}]\n});\n","const angular = window[\"angular\"];\nconst moduleName = \"msx.components.formfields\";\nlet module = null;\ntry {\n    module = angular.module(moduleName);\n} catch (ex) {\n\tmodule = angular.module(moduleName, [\"ng\", \"vms.i18n\"]);\n}\n\nexport default module;","import TEMPLATE from \"./InputBox-template.html\";\nimport module from \"../index.js\";\n\n// This is an internal cached variable used to assign an fieldId if it is not already assigned.\nvar inputFieldCounter = 0;\n\nvar defaultPlaceholders = {\n\tcidr: \"127.0.0.1/24\",\n\tcidrip: \"127.0.0.1/24\",\n\tcidripv4: \"127.0.0.1/24\",\n\tcidripv6: \"2001:DB8:C003:1::F00D/64\",\n\temail: \"cisco.common.placeholders.email\",\n\tfqdn: \"cisco.common.placeholders.fqdn\",\n\tip: \"127.0.0.1\",\n\tipaddr: \"127.0.0.1\",\n\tipaddress: \"127.0.0.1\",\n\tipv4: \"127.0.0.1\",\n\tipv6: \"2001:DB8:C003:1::F00D\",\n\tlatitude: \"45.3413\",\n\tlongitude: \"-75.9278\",\n\tphone: \"+0 123 456-7890\",\n\tphonenumber: \"+0 123 456-7890\",\n\tsubnet: \"255.255.255.0\",\n\tnetmask: \"255.255.255.0\",\n\turl: \"cisco.common.placeholders.url\"\n};\n\nmodule.component(\"msxInputBox\", {\n\ttemplate: TEMPLATE,\n\tbindings: {\n\t\ttype: \"@?\",\n\t\tinputType: \"@?\",\n\t\tfieldId: \"@?\",\n\t\tname: \"@?\",\n\t\tautofocus: \"@?\",\n\t\tautocomplete: \"@?\",\n\t\tplaceholder: \"@?\",\n\t\tmsxModel: \"=?\",\n\t\tmsxClass: \"@?\",\n\t\tmaxlength: \"@?\",\n\t\tminlength: \"@?\",\n\t\tmax: \"@?\",\n\t\tmin: \"@?\",\n\t\tmsxPattern: \"@?\",\n\t\tformname: \"@?\",\n\t\tlabel: \"@?\",\n\t\tinputErrorMessage: \"@?\",\n\t\tmsxRequired: \"<?\",\n\t\tmsxDisabled: \"<?\",\n\t\tmsxReadonly: \"<?\",\n\t\tmsxFocus: \"&?\",\n\t\tmsxBlur: \"&?\",\n\t\tmsxChange: \"&?\",\n\t\tmsxTooltip: \"@?\",\n\t\tmsxInvalid: \"<?\",\n\t\tmsxTrim: \"<?\",\n\t\tshowLabel: \"<?\",\n\t\tmsxTabindex: \"@?\",\n\t\tmsxForceShowErrorMessage:\"<?\",\n\t\tallowInvalid: \"@\",\n\t\tallowPasswordReveal: \"<?\",\n\t\tpasswordRetrievalFunc: \"=?\",\n\t\tshowCopy: \"<?\"\n\t},\n\tcontroller: [\"$timeout\", \"_\", \"$rootScope\", \"$scope\", \"$localStorage\", \"$element\", \"msx.i18nMixins\", \"msx.a11yMixins\", \"msx.loggerService\",\n\t\tfunction($timeout, _, $rootScope, $scope, $localStorage, $element, i18nMixins, a11yMixins, loggerService) {\n\t\tconst self = this;\n\t\tconst $ = window[\"jQuery\"];\n\t\t$element.addClass(\"msx-input-box\");\n\n\t\ti18nMixins.mixinTo(self);\n\t\ta11yMixins.mixinTo(self);\n\t\tconst translate = $rootScope.resolveResourceString;\n\n\t\tconst getModelController = function(){\n\t\t\tif(!self.inputData){\n\t\t\t\tvar elem = $(\"input\", $element)[0];\n\t\t\t\tif(elem){\n\t\t\t\t\tvar key, obj;\n\t\t\t\t\tfor(key in elem){\n\t\t\t\t\t\tobj = elem[key];\n\t\t\t\t\t\tif(typeof obj === \"object\"){\n\t\t\t\t\t\t\tif(obj != null && obj.$ngModelController){\n\t\t\t\t\t\t\t\tself.inputData = obj.$ngModelController;\n\t\t\t\t\t\t\t\tif(self.msxInvalid){\n\t\t\t\t\t\t\t\t\tself.inputData.$setValidity(\"\", false);\n\t\t\t\t\t\t\t\t\tself.inputData.$setDirty(\"\", true);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn self.inputData;\n\t\t};\n\n\t\tconst checkAndSetFieldState = function(changes){\n\t\t\tconst isTrue = function(val){\n\t\t\t\tif(val != null && typeof val === \"string\"){\n\t\t\t\t\tif(val.toLowerCase() === \"true\"){\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\t// Allow to set trim to false so onChange gets called when whitespace character is entered\n\t\t\tself._msxTrim = self.msxTrim !== undefined ? self.msxTrim : true;\n\n\t\t\tconst msxDisabled = changes[\"msxDisabled\"] ? changes[\"msxDisabled\"] : {currentValue: self.msxDisabled};\n\t\t\tconst msxReadonly = changes[\"msxReadonly\"] ? changes[\"msxReadonly\"] : {currentValue: self.msxReadonly};\n\t\t\tconst msxRequired = changes[\"msxRequired\"] ? changes[\"msxRequired\"] : {currentValue: self.msxRequired};\n\t\t\tconst msxDF = function(){\n\t\t\t\treturn msxDisabled ? Boolean(msxDisabled.currentValue) : false;\n\t\t\t};\n\t\t\tconst msxROF = function(){\n\t\t\t\treturn msxReadonly ? Boolean(msxReadonly.currentValue) : false;\n\t\t\t};\n\t\t\tconst msxReqF = function(){\n\t\t\t\treturn msxRequired ? Boolean(msxRequired.currentValue) : false;\n\t\t\t};\n\t\t\tself._msxDisabled = msxDF();\n\t\t\tself._msxReadonly = msxROF();\n\t\t\tself._msxRequired = msxReqF();\n\n\t\t\tif (isTrue(msxDF()) || isTrue(msxROF())) {\n\t\t\t\t$element.blur();\n\t\t\t\tself.msxTabindex = -1;\n\t\t\t\tif(isTrue(msxDF())){\n\t\t\t\t\t$($element).addClass(\"vms-input-disabled\");\n\t\t\t\t}\n\t\t\t\tif(isTrue(msxROF())){\n\t\t\t\t\t$($element).addClass(\"vms-input-readonly\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.msxTabindex = 0;\n\t\t\t\t$($element).removeClass(\"vms-input-readonly\");\n\t\t\t\t$($element).removeClass(\"vms-input-disabled\");\n\t\t\t}\n\t\t};\n\n\t\tself.showStarWithoutLabel = function() {\n\t\t\treturn Boolean(self.msxRequired) && !self._showLabel;\n\t\t};\n\n\t\tself.showStarWithLabel = function(){\n\t\t\treturn Boolean(self.msxRequired) && self._showLabel;\n\t\t};\n\n\t\tvar errTypes = {\n\t\t\t\"cidr\": \"cidr_ip\",\n\t\t\t\"cidrip\": \"cidr_ip\",\n\t\t\t\"cidripv4\": \"cidr_ipv4\",\n\t\t\t\"cidripv6\": \"cidr_ipv6\",\n\t\t\t\"email\": \"email\",\n\t\t\t\"fqdn\": \"fqdn\",\n\t\t\t\"integer\": \"integer\",\n\t\t\t\"ip\": \"ip_address\",\n\t\t\t\"ipaddr\": \"ip_address\",\n\t\t\t\"ipaddress\": \"ip_address\",\n\t\t\t\"ipv4\": \"ipv4\",\n\t\t\t\"ipv6\": \"ipv6\",\n\t\t\t\"latitude\": \"latitude\",\n\t\t\t\"longitude\": \"longitude\",\n\t\t\t\"phone\": \"phone_number\",\n\t\t\t\"phonenumber\": \"phone_number\",\n\t\t\t\"encsserial\": \"encs_serial\",\n\t\t\t\"sitename\": \"site_name\",\n\t\t\t\"subnet\": \"subnet\",\n\t\t\t\"netmask\": \"subnet\",\n\t\t\t\"url\": \"url\"\n\t\t};\n\n\t\tself.resolveError = function(errObj){\n\t\t\tlet message = \"\";\n\t\t\t_.forIn(errTypes, function(value, key){\n\t\t\t\tif(errObj[key]){\n\t\t\t\t\tif(message.length){\n\t\t\t\t\t\tmessage += \" \";\n\t\t\t\t\t}\n\t\t\t\t\tmessage += translate(\"cisco.common.validation.\" + value);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn message;\n\t\t};\n\n\t\tself.$onChanges = function(changes){\n\n\t\t\t// Handle states.\n\t\t\tcheckAndSetFieldState(changes);\n\n\t\t\t// Handle other properties.\n\t\t\tconst msxTooltip = changes[\"msxTooltip\"] ? changes[\"msxTooltip\"].currentValue || \"\" : self.msxTooltip;\n\t\t\t$(\"[data-toggle='tooltip']\", $element).each(function() {\n\t\t\t\tconst title = translate(msxTooltip);\n\t\t\t\t$(this).attr(\"data-original-title\", title || \"\");\n\t\t\t\t$(this).attr(\"title\", \"\");\n\t\t\t});\n\n\t\t\tconst autocomplete = changes[\"autocomplete\"] ? changes[\"autocomplete\"].currentValue || \"\" : self.autocomplete;\n\t\t\t$element.find(\"input\").attr(\"autocomplete\", autocomplete);\n\n\t\t\tconst msxPattern = changes[\"msxPattern\"] ? changes[\"msxPattern\"].currentValue || \"\" : self.msxPattern;\n\t\t\tif (typeof msxPattern === \"string\" && msxPattern !== \"\") {\n\t\t\t\tif (msxPattern.charAt(0) === \"/\" && msxPattern.charAt(msxPattern.length - 1) === \"/\") {\n\t\t\t\t\tself.__msxPattern = new RegExp(msxPattern.substring(1, msxPattern.length - 1));\n\t\t\t\t} else if (msxPattern === \"'\\\\\\\\d+'\") {\n\t\t\t\t\t// Work around odd escape issue.\n\t\t\t\t\tself.__msxPattern = new RegExp(\"^\\\\d+$\");\n\t\t\t\t} else {\n\t\t\t\t\tself.__msxPattern = new RegExp(msxPattern);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.__msxPattern = null;\n\t\t\t}\n\n\t\t\t// Allow to force the error state if msxInvalid is not undefined\n\t\t\tif (changes['msxInvalid'] && changes['msxInvalid'].currentValue !== undefined) {\n\t\t\t\tif (self.inputData) {\n\t\t\t\t\tconst isValid = !changes['msxInvalid'].currentValue;\n\t\t\t\t\tself.inputData.$setValidity(\"\", isValid);\n\t\t\t\t\tif(!isValid){\n\t\t\t\t\t\tself.inputData.$setDirty(\"\", true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself._msxTrim = (changes['msxTrim'] || {}).currentValue !== undefined ? changes['msxTrim'].currentValue : self._msxTrim;\n\n\t\t\tconst placeholder = changes[\"placeholder\"] ? changes[\"placeholder\"].currentValue ||\n\t\t\t\t(defaultPlaceholders[self.type] && translate(defaultPlaceholders[self.type])) ||\n\t\t\t\t// If no changes default to the placeholder we've already resolved\n\t\t\t\t\"\" : self._placeholder;\n\n\t\t\tself._placeholder = placeholder ? translate(placeholder) : \"\";\n\n\t\t\tconst showLabel = changes[\"showLabel\"] ? changes[\"showLabel\"].currentValue : self.showLabel;\n\t\t\tif (showLabel == null) {\n\t\t\t\t// By default, we show the label.\n\t\t\t\tself._showLabel = true;\n\t\t\t} else {\n\t\t\t\t// Users can turn off showlabel if they want by\n\t\t\t\t// passing \"false\"\n\t\t\t\tif (typeof showLabel === \"string\") {\n\t\t\t\t\tconst s = self._showLabel.toLowerCase();\n\t\t\t\t\tif (s === \"false\") {\n\t\t\t\t\t\tself._showLabel = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself._showLabel = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof showLabel == \"boolean\") {\n\t\t\t\t\tself._showLabel = showLabel;\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tself._valueChanged = function(value){\n\t\t\tself.copyBtnTooltip = 'cisco.common.inputbox.copy.button.tooltip.copy';\n\t\t\tif(self.msxChange){\n\t\t\t\tconst mController = getModelController();\n\t\t\t\tself.msxChange({\"$value\": value, \"inputDataStatus\": {\"$valid\": mController ? mController.$valid : true, \"$pristine\": mController ? mController.$pristine : true, \"$dirty\": mController ? mController.$dirty : false}});\n\t\t\t}\n\t\t};\n\n\t\tself._getFieldType = function(){\n\t\t\treturn self._forcedType || self.inputType || self.type;\n\t\t};\n\n\t\tself._showPassword = function(){\n\t\t\tif(self.type === \"password\" && !self._gettingPassword){\n\t\t\t\tconst showPassword = function(password){\n\t\t\t\t\tself.msxModel = password;\n\t\t\t\t\tself._forcedType = \"text\";\n\t\t\t\t};\n\t\t\t\tif(self.passwordRetrievalFunc && typeof self.passwordRetrievalFunc === \"function\"){\n\t\t\t\t\tself._loadingPassword = true;\n\t\t\t\t\tconst res = self.passwordRetrievalFunc();\n\t\t\t\t\tif(typeof res === \"string\"){\n\t\t\t\t\t\tself._loadingPassword = false;\n\t\t\t\t\t\tshowPassword(res);\n\t\t\t\t\t}else if(res && res.then){\n\t\t\t\t\t\tres.then(function(password){\n\t\t\t\t\t\t\tshowPassword(password);\n\t\t\t\t\t\t})[\"finally\"](function(){\n\t\t\t\t\t\t\tself._loadingPassword = false;\n\t\t\t\t\t\t});\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself._loadingPassword = false;\n\t\t\t\t\t}\n\t\t\t\t}else{\n\t\t\t\t\tshowPassword(self.msxModel);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tself._hidePassword = function(){\n\t\t\tself._forcedType = null;\n\t\t};\n\n\t\tself._copyInput = function(text){\n\t\t\tlet result = \"\";\n\t\t\ttry {\n\t\t\t\tlet $tmpCopyElement = $('<textarea />');\n\t\t\t\t$tmpCopyElement.val(text).css({ top: \"-10000px\", position: \"absolute\", height: \"100px\", width: \"100px\" }).appendTo('body');\n\t\t\t\t$tmpCopyElement.select();\n\t\t\t\tresult = document.execCommand('copy');\n\t\t\t\t$tmpCopyElement.remove();\n\t\t\t} catch(err){\n\t\t\t\tloggerService.log(\"### Unable to copy Input value: \" + err);\n\t\t\t\tresult = \"\";\n\t\t\t}\n\t\t\tself.copyBtnTooltip = 'cisco.common.inputbox.copy.button.tooltip.copied';\n\t\t\treturn result;\n\t\t};\n\n\t\tif (!self.msxPattern) {\n\t\t\t$element.find(\"input\").removeAttr(\"ng-pattern\");\n\t\t\tself.__msxPattern = null;\n\t\t} else {\n\t\t\tif (typeof self.msxPattern === \"string\" && self.msxPattern !== \"\") {\n\t\t\t\tif (self.msxPattern.charAt(0) === \"/\" && self.msxPattern.charAt(self.msxPattern.length - 1) === \"/\") {\n\t\t\t\t\tself.__msxPattern = new RegExp(self.msxPattern.substring(1, self.msxPattern.length - 1));\n\t\t\t\t} else if (self.msxPattern === \"'\\\\\\\\d+'\") {\n\t\t\t\t\t// Work around odd escape issue.\n\t\t\t\t\tself.__msxPattern = new RegExp(\"^\\\\d+$\");\n\t\t\t\t} else {\n\t\t\t\t\tself.__msxPattern = new RegExp(self.msxPattern);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.__msxPattern = self.msxPattern;\n\t\t\t}\n\t\t}\n\n\t\tself.$postLink = function(){\n\t\t\t// Establish the toolkit link on the icon, and watch the value\n\t\t\t// so that the original title can be updated when the property is.\n\n\t\t\tself._placeholder = self.placeholder ? translate(self.placeholder) : (defaultPlaceholders[self.type] && translate(defaultPlaceholders[self.type]));\n\t\t\tself.copyBtnTooltip = 'cisco.common.inputbox.copy.button.tooltip.copy';\n\n\t\t\tif (self.msxTooltip) {\n\t\t\t\tif (!self.msxTooltipLocation) {\n\t\t\t\t\tself.msxTooltipLocation = \"right\";\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tvar ngModelOptions = {updateOn: 'default blur click', debounce: { 'default': 500, 'blur': 0 }};\n\t\t\tif(self.allowInvalid === \"true\"){\n\t\t\t\tngModelOptions[\"allowInvalid\"] = true;\n\t\t\t}\n\t\t\tself.ngModelOptions = ngModelOptions;\n\n\t\t\tif (self.showLabel == null) {\n\t\t\t\t// By default, we show the label.\n\t\t\t\tself._showLabel = true;\n\t\t\t} else {\n\t\t\t\t// Users can turn off showlabel if they want by\n\t\t\t\t// passing \"false\"\n\t\t\t\tif (typeof self.showLabel === \"string\") {\n\t\t\t\t\tconst s = self._showLabel.toLowerCase();\n\t\t\t\t\tif (s === \"false\") {\n\t\t\t\t\t\tself._showLabel = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself._showLabel = true;\n\t\t\t\t\t}\n\t\t\t\t} else if (typeof self.showLabel == \"boolean\") {\n\t\t\t\t\tself._showLabel = self.showLabel;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (self.ariaInputlabel) {\n\t\t\t\t$timeout(function() {\n\t\t\t\t\t// execuring async, otherwise the change doesn\"t always apply.\n\t\t\t\t\tself.ariaInputlabel = translate(self.ariaInputlabel) || self.ariaInputlabel;\n\t\t\t\t}, 0);\n\t\t\t}\n\n\t\t\tif (!self.ariaInputlabel && self.label) {\n\t\t\t\tself.ariaInputlabel = translate(self.label);\n\t\t\t}\n\n\t\t\tif (!self.fieldId) {\n\t\t\t\t// If we don\"t have an element id defined, compute a unique one.  This is so the label and the\n\t\t\t\t// input field can properly map for accessibiliry with for=inputFieldId on the label.\n\t\t\t\t// This should always be unique as it has an incrementor, and it is basing off time, the two\n\t\t\t\t// combined should always be unique.\n\t\t\t\tself.fieldId = \"msx-input-box-\" + inputFieldCounter++ + \"-\" + new Date().getTime();\n\t\t\t}\n\n\t\t\t$(\"[data-toggle='tooltip']\", $element).each(function() {\n\t\t\t\tconst title = translate(self.msxTooltip);\n\t\t\t\t$(this).attr(\"title\", title || \"\");\n\t\t\t});\n\t\t\t$(\"[data-toggle='tooltip']\", $element).tooltip({\n\t\t\t\tcontainer: \"body\"\n\t\t\t});\n\t\t\t$(\"[data-toggle='tooltip']\", $element).each(function() {\n\t\t\t\tconst title = translate(self.msxTooltip);\n\t\t\t\t$(this).attr(\"title\", \"\");\n\t\t\t});\n\n\t\t\t$element.find(\"input\").attr(\"autocomplete\", self.autocomplete);\n\t\t\t$scope.$on(\"updated-active-language\", function() {\n\t\t\t\tvar update = (self.placeholder && translate(self.placeholder)) || \"\";\n\t\t\t\tself._placeholder = update;\n\t\t\t});\n\t\t\tlet count = 0;\n\t\t\tconst findController = function(){\n\t\t\t\tcount++;\n\t\t\t\tif(getModelController() == null){\n\t\t\t\t\t$timeout(findController, 10 + (count*10));\n\t\t\t\t}\n\t\t\t};\n\t\t\t$timeout(findController, 10);\n\t\t};\n\t}]\n});","const angular = window[\"angular\"];\nconst moduleName = \"msx.components.dialogs\";\nlet module = null;\ntry {\n    module = angular.module(moduleName);\n} catch (ex) {\n\tmodule = angular.module(moduleName, [\"ng\", \"msx.platform.statushelpers\", \"vms.i18n\"]);\n}\n\nexport default module;","/**\n *   Component to simplify/unify dialog displays\n *       <msx-modal-dialog\n *          template=\"/views/someview/templates/someTemplate.html\"\n *          controller-name=\"someController\"\n *          control-event=\"some.dialog.event.name\"\n *          dialog-name=\"device\"\n *          dialog-resolutions=\"somePropertyResolverObject\">\n *       </msx-modal-dialog>\n */\nimport TEMPLATE from \"./Dialog-template.html\";\n\nimport module from \"../index\";\n\nmodule.component('msxModalDialog', {\n\tbindings: {\n\t\ttemplate: \"@\",\n\t\ttemplateString: \"<?\",\n\t\tcomponent: \"@\",\n\t\tshow: \"=?\",\n\t\tcontrollerName: \"@\",\n\t\tdialogResolutions: \"=?\",\n\t\tdialogWindowName: \"@?\",\n\t\tcontrolEvent: '@'\n\t},\n\ttemplate: TEMPLATE,\n\tcontroller: ['$scope', '$uibModal', '$rootScope', function($scope, $uibModal, $rootScope) {\n\t\tconst self = this;\n\t\tconst angular = window[\"angular\"];\n\t\tconst $ = angular.element;\n\n\t\t// This function handles showing the modal if not already shown.\n\t\tvar showModal = function(options) {\n\t\t\tif (!self._mInst) {\n\t\t\t\tlet inst;\n\t\t\t\tif(self.component){\n\t\t\t\t\tinst = $uibModal.open({\n\t\t\t\t\t\tanimation: false,\n\t\t\t\t\t\tcomponent: self.component,\n\t\t\t\t\t\tresolve: options.resolutions || self.dialogResolutions,\n\t\t\t\t\t\twindowClass: self.dialogWindowName ? self.dialogWindowName + \"-modalBox\" : \"\",\n\t\t\t\t\t\tbackdrop: 'static'\n\t\t\t\t\t});\n\t\t\t\t}else if(self.templateString){\n\t\t\t\t\tinst = $uibModal.open({\n\t\t\t\t\t\tanimation: false,\n\t\t\t\t\t\ttemplate: self.templateString,\n\t\t\t\t\t\tcontroller: self.controllerName,\n\t\t\t\t\t\tresolve: options.resolutions || self.dialogResolutions,\n\t\t\t\t\t\twindowClass: self.dialogWindowName ? self.dialogWindowName + \"-modalBox\" : \"\",\n\t\t\t\t\t\tbackdrop: 'static'\n\t\t\t\t\t});\n\t\t\t\t}else{\n\t\t\t\t\tinst = $uibModal.open({\n\t\t\t\t\t\tanimation: false,\n\t\t\t\t\t\ttemplateUrl: self.template,\n\t\t\t\t\t\tcontroller: self.controllerName,\n\t\t\t\t\t\tresolve: options.resolutions || self.dialogResolutions,\n\t\t\t\t\t\twindowClass: self.dialogWindowName ? self.dialogWindowName + \"-modalBox\" : \"\",\n\t\t\t\t\t\tbackdrop: 'static'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t$rootScope.$broadcast(\"msx.dialog.opened\", {});\n\t\t\t\tinst.closed.then(function() {\n\t\t\t\t\tself._mInst = null;\n\t\t\t\t});\n\t\t\t\tif(inst.rendered && inst.rendered.then){\n\t\t\t\t\tinst.rendered.then(function(){\n\t\t\t\t\t\tconst wrapper = $(\"[uib-modal-window='modal-window']\");\n\t\t\t\t\t\tconst dialog = $(\".modal-dialog\", wrapper);\n\t\t\t\t\t\tif(dialog && dialog.length === 1){\n\t\t\t\t\t\t\tconst focusableElements = $(\"[tabIndex='0']\", dialog).filter(\":visible\");\n\t\t\t\t\t\t\tif(focusableElements && focusableElements.length){\n\t\t\t\t\t\t\t\t$(focusableElements[0]).focus();\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t$(dialog).focus();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\t\t\t\t\n\t\t\t\tself._mInst = inst;\n\t\t\t}\n\t\t\treturn self._mInst;\n\t\t};\n\n\t\t// This function closes the modal if not closed.\n\t\tvar closeModal = function() {\n\t\t\tif (self._mInst) {\n\t\t\t\tself._mInst.close();\n\t\t\t}\n\t\t};\n\n\t\tself.$postLink = function() {\n\t\t\t// This allows listening for user defined events to control the show or hide\n\t\t\t// of a dialog, allowing it to be controlled specifically by controllers within the dialog\n\t\t\t// contents.\n\t\t\tif (self.controlEvent) {\n\t\t\t\t$scope.$on(self.controlEvent, function(evt, data) {\n\t\t\t\t\tif (data && data.show != null) {\n\t\t\t\t\t\tif (data.show === true) {\n\t\t\t\t\t\t\tshowModal({\n\t\t\t\t\t\t\t\tresolutions: data.resolutions\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcloseModal();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tself.$onChanges = function(changes) {\n\t\t\tconst v = changes[\"show\"];\n\t\t\tif (v) {\n\t\t\t\tif (v.currentValue === true) {\n\t\t\t\t\tshowModal({});\n\t\t\t\t} else {\n\t\t\t\t\tcloseModal();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t// If this gets destroyed on a route or the like, make\n\t\t// sure the dialog is closed.\n\t\tself.$onDestroy = function() {\n\t\t\tcloseModal();\n\t\t};\n\t}]\n});","// Copyright  2019 Cisco Systems, Inc.  All Rights Reserved.\n\nconst angular = window[\"angular\"];\nconst moduleName = 'msx.platform.statushelpers';\nlet module;\ntry {\n\tmodule = angular.module(moduleName);\n} catch (err) {\n\t// named module does not exist, so create one\n\tmodule = angular.module(moduleName, ['ng', 'ngStorage']);\n}\nexport default module;","\nimport module from \"./module_systemServices\";\n\nmodule.factory('rbacService', ['_', '$http', '$localStorage', '$q', function(_, $http, $localStorage, $q) {\n\tfunction retrieve() {\n\t\tvar deferred = $q.defer();\n\t\t$localStorage.capabilities = [];\n\t\t// Changed IDM_URL to GATEWAY_URL\n\t\t$http.get($localStorage.API_GATEWAY_HOSTNAME + '/idm/api/v1/users/capabilities')\n\t\t\t.then(function(resp) {\n\t\t\t\tdeferred.resolve(resp.data);\n\t\t\t}, function(resp) {\n\t\t\t\tdeferred.reject({\n\t\t\t\t\tmessage: \"Failed to extract authorizations (user capabilities).\"\n\t\t\t\t});\n\t\t\t});\n\t\treturn deferred.promise;\n\t}\n\n\tfunction ifAllow(capability) {\n\t\tcapability = capability || \"\";\n\t\tif(!$localStorage || !$localStorage.capabilities){\n\t\t\tconsole[\"warn\"](\"RBAC:  Local storage of capabilities is not initialized, defaulting to false\");\n\t\t\treturn false;\n\t\t}\n\t\tvar capabilityArray = capability.split(' ');\n\t\t// We need to check for ! capabilities, to allow for specific it is NOT an operator for example\n\t\t// So split the contents into teo parts, the positives, and the negatives.\n\t\tvar newCapabilities = [];\n\t\tvar notCapabilities = [];\n\t\t_.each(capabilityArray, function(val) {\n\t\t\tif(val && val.charAt(0) === \"!\"){\n\t\t\t\tnotCapabilities.push(val.substring(1, val.length));\n\t\t\t}else{\n\t\t\t\tnewCapabilities.push(val);\n\t\t\t}\n\t\t});\n\t\tcapabilityArray = newCapabilities;\n\t\t// If there are no capabilities to check, or if the capabilities desired were in the user capabilities, and NONE of the NOT capabilties (if any) were present in\n\t\t// the user capabilities, then this action is allowed.\n\t\treturn (!capabilityArray.length || $localStorage.capabilities.length > _.difference($localStorage.capabilities, capabilityArray).length) && \n\t\t\t(!notCapabilities.length || $localStorage.capabilities.length === _.difference($localStorage.capabilities, notCapabilities).length);\n\t}\n\t\n\t// Function to check the permissions needed to determine if\n\t// this person is authorized.\n\tvar isAuthorized = function(allowTokens) {\n\t\tvar hasAuth = true;\n\t\tif (allowTokens) {\n\t\t\tif (typeof allowTokens === \"string\") {\n\t\t\t\tallowTokens = [allowTokens];\n\t\t\t}\n\t\t\t_.forEach(allowTokens, function(tokenSet) {\n\t\t\t\thasAuth = hasAuth && ifAllow(tokenSet);\n\t\t\t});\n\t\t}\n\t\treturn hasAuth;\n\t};\n\t\n\treturn {\n\t\tretriveCapablities: retrieve,\n\t\tifAllow: ifAllow,\n\t\tisAuthorized: isAuthorized\n\t};\n\t\n}]);","// Copyright  2017, 2020 Cisco Systems, Inc.  All Rights Reserved.\nimport module from \"./module_platformBoot\";\nmodule.service('skSafeTextSvc', ['DOMPurify', 'he', function(DOMPurify, he) {\n\tthis.render = function(string) {\n\t\tlet res = DOMPurify.sanitize(he.unescape(string));\n\t\tif(res == null){\n\t\t\tres = \"\";\n\t\t}\n\t\tif(typeof res === \"object\"){\n\t\t\tres = res.toString() || \"\";\n\t\t}\n\t\treturn res;\n\t};\n}]);\n","// Copyright  2019 Cisco Systems, Inc.  All Rights Reserved.\n\n/*\n * @name /msx.loggerService.js\n * @fileOverview Contains msx.loggerService.js info.\n */\nimport module from \"./module_platformBoot\";\nmodule.service('msx.loggerService', [\n\tfunction() {\n\t\tconst console = window[\"console\"] || function(){};\n\t\tvar obj = {\n\t\t\tlog: function(){\n\t\t\t\tconsole[\"log\"].apply(window, arguments);\t\n\t\t\t},\n\t\t\terror: function(){\n\t\t\t\tconsole[\"error\"].apply(window, arguments);\t\n\t\t\t},\n\t\t\twarn: function(){\n\t\t\t\tconsole[\"warn\"].apply(window, arguments);\t\n\t\t\t}\n\t\t};\n\t\treturn obj;\n\t}\n]);","// Copyright  2019 Cisco Systems, Inc.  All Rights Reserved.\n\n/*\n * @name /msx.translateService.js\n * @fileOverview Contains msx.translateService.js info.\n */\nimport module from \"./module_systemServices\";\n\nvar substitute = function(msg, map) {\n\tmsg = msg || \"\";\n\tmap = map || {};\n\treturn msg.replace(/\\$\\{([^\\s\\:\\}]+)(?:\\:([^\\s\\:\\}]+))?\\}/g, function(match, key) {\n\t\treturn map[key] === undefined ? \"${\" + key + \"}\" : map[key];\n\t});\n};\n\nmodule.service('msx.translateService', [\n\t'$rootScope', '$localStorage', 'skSafeTextSvc', '_',\n\tfunction ($rootScope, $localStorage, skSafeTextSvc, _) {\n\t\t/**\n\t\t * Utility wrapper for $rootScope.resolveResourceString. Primarily\n\t\t * intended to abstract the implementation of messages being stored on the\n\t\t * angular app's root scope as well as providing a shorthand. Accessed as\n\t\t * '$t' from the angular injection container.\n\t\t *\n\t\t * @param {string} str The message key to resolve\n\t\t * @return {string} resolved resource string\n\t\t */\n\t\t \n\t\tif (!$rootScope.resolveResourceString) {\n\t\t\t// Define this only once on rootScope, it may already be available\n\t\t\t$rootScope.resolveResourceString = function(element, map) {\n\t\t\t\tif(element == null){\n\t\t\t\t\telement = \"\";\n\t\t\t\t}\n\t\t\t\tif(typeof element !== \"string\"){\n\t\t\t\t\telement = \"\" + element;\n\t\t\t\t}\n\t\t\t\tif(element == \"\"){\n\t\t\t\t\treturn \"\";\n\t\t\t\t}\n\t\t\t\tvar element_array = element.split(\" \");\n\t\t\t\tvar key_array = [];\n\t\t\t\tvar msg = ($rootScope && $rootScope.msg) || $localStorage.msg || {};\n\t\t\t\t_.each(element_array, function(key) {\n\t\t\t\t\tkey_array.push(msg[key] || key);\n\t\t\t\t});\n\t\t\t\t// SafeText removes bad HTML, script injects, etc, so we can safely inject the text/html.\n\t\t\t\tvar res = skSafeTextSvc.render(key_array.join(\" \"));\n\t\t\t\tif (map && typeof map === \"object\") {\n\t\t\t\t\tres = substitute(res, map);\n\t\t\t\t}\n\t\t\t\t// Check for branded-theme custom strings\n\t\t\t\tif($localStorage.themeCustomResourceStrings && $localStorage.themeCustomResourceStrings[$localStorage.locale] && $localStorage.themeCustomResourceStrings[$localStorage.locale][element]) {\n\t\t\t\t\tres = $localStorage.themeCustomResourceStrings[$localStorage.locale][element];\n\t\t\t\t}\n\t\t\t\t// Check for theme preview custom strings\n\t\t\t\tif($localStorage.themePreviewResourceStrings && $localStorage.themePreviewResourceStrings[$localStorage.locale] && $localStorage.themePreviewResourceStrings[$localStorage.locale][element]) {\n\t\t\t\t\tres = $localStorage.themePreviewResourceStrings[$localStorage.locale][element];\n\t\t\t\t}\n\t\t\t\treturn res;\n\t\t\t};\n\t\t}\t\t\t \n\t\treturn function () {\n\t\t\treturn $rootScope.resolveResourceString.apply($rootScope, arguments);\n\t\t};\n\t}\n]);\n\nmodule.filter('msxTranslate', [\n\t'msx.translateService',\n\tfunction(translateService) {\n\t\tvar l10nHelperFilter = function(input) {\n\t\t\treturn translateService(input || '');\n\t\t};\n\t\treturn l10nHelperFilter;\n\t}\n]);","// Copyright  2020 Cisco Systems, Inc.  All Rights Reserved.\n \nimport module from \"./module_bootPrereqs\";\nmodule.run(['$rootScope', 'skSafeTextSvc', '_', function($rootScope, skSafeTextSvc, _) {\n\tconst angular = window[\"angular\"];\n\tconst $ = angular.element;\n\t$(window).on('keydown mousedown contextmenu', function(event) {\n\t\tif ((event.ctrlKey || event.metaKey) && event.shiftKey) { // Checking for Ctrl (or CMD) + shift.  Then we need to check the event type.\n\t\t\tif(event.type == 'contextmenu'){\n\t\t\t\tvar emitWarn = false;\n\t\t\t\tif(event.target.attributes && (!event.target.attributes['sk-resource-string'] || !event.target.attributes['sk-resource-string'].value)) {\n\t\t\t\t\tif(!event.target.attributes['sk-resource-string-placeholder'] || !event.target.attributes['sk-resource-string-placeholder'].value) {\n\t\t\t\t\t\temitWarn = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(emitWarn){\n\t\t\t\t\tconsole[\"warn\"](\"ctrl (or cmd) + shift + contextmenu event, ignoring it and blocking default behavior as it is unlikely this really was a context menu call.  Target: \", event.target );\n\t\t\t\t}\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tevent.preventDefault();\n\t\t\t}else if(event.type == 'mousedown'){\n\t\t\t\t// Okay, we're in a command/ctrl + shift + click.  Lets see about swapping the view for any sk-resource-string enabled elements.\n\t\t\t\tif (event.target.attributes && event.target.attributes['sk-resource-string'] && event.target.attributes['sk-resource-string']) {\n\t\t\t\t\tevent.target.innerText = skSafeTextSvc.render($rootScope.change(event.target.attributes['sk-resource-string'].value, event.target));\n\t\t\t\t\tif (event.target.attributes['sk-resource-string'].value == event.target.innerText) {\n\t\t\t\t\t\tevent.target.style.color = \"#49BA8E\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tevent.target.style.color = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else if (event.target.attributes && event.target.attributes['sk-resource-string-placeholder'] && event.target.attributes['sk-resource-string-placeholder'].value) {\n\t\t\t\t\tevent.target.placeholder = $rootScope.change(event.target.attributes['sk-resource-string-placeholder'].value, event.target);\n\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\tconsole[\"warn\"](\"Inline ctrl + shift + click is not yet implemented on this element: \", event.target);\n\t\t\t\t\tvar key_array = [];\n\t\t\t\t\t_.each($rootScope.msg, function(value, key) {\n\t\t\t\t\t\tif (event.target.innerText.trim() == (value && value.trim())) {\n\t\t\t\t\t\t\tkey_array.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tif (key_array.length > 0) {\n\t\t\t\t\t\tvar logThis = \"The key you are looking for could be \" + (key_array.length == 1 ? \": %c\" + key_array[0] : \"one among these: %c\" + key_array.join(\", \"));\n\t\t\t\t\t\tconsole[\"log\"](logThis, \"color:green;\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\t// end of ctrl + shift + click listener for resource strings\n}]);\n\n"],"sourceRoot":""}