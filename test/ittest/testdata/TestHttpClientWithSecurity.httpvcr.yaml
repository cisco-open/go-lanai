---
version: 2
interactions:
    - id: 0
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: 127.0.0.1:8900
        remote_addr: ""
        request_uri: ""
        body: nonce=_hidden&password=_hidden
        form:
            nonce:
                - _hidden
            password:
                - _hidden
        headers:
            Authorization:
                - Basic ******
            Content-Type:
                - application/x-www-form-urlencoded
            X-Http-Record-Index:
                - "0"
        url: http://127.0.0.1:8900/auth/v2/token?grant_type=password&username=system
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding:
            - chunked
        trailer: {}
        content_length: -1
        uncompressed: false
        body: '{"scope":"phone email read write profile tenant_hierarchy token_details openid address","username":"system","expiry":"2022-10-27T21:20:32Z","iat":"2022-10-27T18:50:32Z","id_token":"eyJhbGciOiJSUzI1NiIsImtpZCI6ImRldi0wIiwidHlwIjoiSldUIn0.eyJhY2NvdW50X3R5cGUiOiJzeXN0ZW0iLCJhY3IiOiJodHRwOi8vbG9jYWxob3N0Ojg5MDAvYXV0aC9sb2EtMiIsImFkZHJlc3MiOnsiZm9ybWF0dGVkIjoiZW5fVVMifSwiYW1yIjpbInBhc3N3b3JkIl0sImFzc2lnbmVkX3RlbmFudHMiOlsiZTBiNWU5NTAtNjEwZC0xMWVjLTgyZmEtNmJiMGI4NWQ1YWMwIl0sImF0X2hhc2giOiIwR3JMbnhjeEhtSzJaV2N5cHFxWlRBIiwiYXVkIjoibmZ2LXNlcnZpY2UiLCJhdXRoX3RpbWUiOjE2NjY4OTY2MzIsImF6cCI6Im5mdi1zZXJ2aWNlIiwiY3VycmVuY3kiOiJVU0QiLCJkZWZhdWx0X3RlbmFudF9pZCI6ImUwYjVlOTUwLTYxMGQtMTFlYy04MmZhLTZiYjBiODVkNWFjMCIsImVtYWlsIjoibm9yZXBseUBjaXNjby5jb20iLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZXhwIjoxNjY2OTA1NjMyLCJmYW1pbHlfbmFtZSI6InN5c3RlbSIsImdpdmVuX25hbWUiOiJzeXN0ZW0iLCJpYXQiOjE2NjY4OTY2MzIsImlzcyI6Imh0dHA6Ly9sb2NhbGhvc3Q6ODkwMC9hdXRoIiwibG9jYWxlIjoiZW5fVVMiLCJuYW1lIjoic3lzdGVtIHN5c3RlbSIsIm5vbmNlIjoiVXl3eXJSV1A5byIsInBlcm1pc3Npb25zIjpbIlZJRVdfT1BFUkFUT1JfTE9HSU5fQVNfQ1VTVE9NRVIiLCJNQU5BR0VfQVBJS0VZIiwiVklFV19BUElLRVkiLCJTV0lUQ0hfVEVOQU5UIiwiSVNfQVBJX0FETUlOIiwiQUNDRVNTX0FMTF9URU5BTlRTIiwiVklFV19BTEVSVF9TRVJWSUNFIiwiTUFOQUdFX0FMRVJUX1NFUlZJQ0UiXSwicHJlZmVycmVkX3VzZXJuYW1lIjoic3lzdGVtIiwicHJvdmlkZXJfaWQiOiJmZTNhZDg5Yy00NDlmLTQyZjItYjRmOC1iMTBhYjdiYzAyNjYiLCJwcm92aWRlcl9uYW1lIjoiQ2lzY29TeXN0ZW1zIiwicm9sZXMiOlsiQVBJX0FETUlOIiwiU0VDVVJJVFlfQ09OVEVYVF9TV0lUQ0hFUl9BUElfQURNSU4iXSwic3ViIjoic3lzdGVtIiwidGVuYW50X2lkIjoiZTBiNWU5NTAtNjEwZC0xMWVjLTgyZmEtNmJiMGI4NWQ1YWMwIiwidGVuYW50X25hbWUiOiJ2bXMtdGVuYW50IiwidGVuYW50X3N1c3BlbmRlZCI6ZmFsc2UsInVzZXJfaWQiOiJlMGVmYmUwMC02MTBkLTExZWMtODJmYS02YmIwYjg1ZDVhYzAifQ.IIYncJh1j4hnc90TCwjBvkDkC8Co_5ZhGvqAQtEMKjC5B_CY4q_MBk6Atss9k6QjckUK-xc66dPWdpSWdR4Xaz4h4paDnpXMbG6s1XnCJqaNNp_2GRLXc6MvKMkcxpcBP_fbHxakhnsggf8knG2yvMW_LivZFQx4GRRIp2TKAOPnAyMyaIayIBJNRUVxr-8JcjcKc-VnOlacDpVKUoXLImBYMMMy2Hg5OfMSb600xfMPw9A5rJbf9kkESQQD7rtP3zqUzMLFBssTGEY_G2myMjODw_EMd0-hCkOyNejiJtStwgtm4lwoauxFiy1moOeASypPshvyyo6J-YEr7om6KA","roles":["API_ADMIN","SECURITY_CONTEXT_SWITCHER_API_ADMIN"],"tenantId":"e0b5e950-610d-11ec-82fa-6bb0b85d5ac0","token_type":"bearer","access_token":"_hidden","expires_in":8999}'
        headers:
            Cache-Control:
                - no-store
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Fri, 19 Aug 2022 8:51:32 GMT
            Pragma:
                - no-cache
            Vary:
                - Origin
        status: 200 OK
        code: 200
        duration: 200µs
    - id: 1
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: 127.0.0.1:8900
        remote_addr: ""
        request_uri: ""
        body: no_details=false&token=_hidden&token_type_hint=access_token
        form:
            no_details:
                - "false"
            token:
                - _hidden
            token_type_hint:
                - access_token
        headers:
            Authorization:
                - Basic ******
            Content-Type:
                - application/x-www-form-urlencoded
            X-Http-Record-Index:
                - "1"
        url: http://127.0.0.1:8900/auth/v2/check_token
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 1172
        uncompressed: false
        body: '{"account_type":"system","active":true,"assigned_tenants":["e0b5e950-610d-11ec-82fa-6bb0b85d5ac0"],"aud":"nfv-service","auth_time":1666896632,"client_id":"nfv-service","currency":"USD","email":"noreply@cisco.com","exp":1666905632,"family_name":"system","given_name":"system","iat":1666896632,"iss":"http://localhost:8900/auth","jti":"226b4fe8-0498-4157-a338-c96dd8598201","locale":"en_US","nbf":1666896632,"permissions":["VIEW_ALERT_SERVICE","MANAGE_ALERT_SERVICE","VIEW_OPERATOR_LOGIN_AS_CUSTOMER","MANAGE_APIKEY","VIEW_APIKEY","SWITCH_TENANT","IS_API_ADMIN","ACCESS_ALL_TENANTS"],"provider_description":"Cisco Systems","provider_display_name":"Cisco Systems","provider_email":"noreply@cisco.com","provider_id":"fe3ad89c-449f-42f2-b4f8-b10ab7bc0266","provider_name":"CiscoSystems","provider_notification_type":"EMAIL","roles":["API_ADMIN","SECURITY_CONTEXT_SWITCHER_API_ADMIN"],"scope":["token_details","phone","address","email","openid","profile","read","tenant_hierarchy","write"],"sub":"system","tenant_id":"e0b5e950-610d-11ec-82fa-6bb0b85d5ac0","tenant_name":"vms-tenant","tenant_suspended":false,"user_id":"e0efbe00-610d-11ec-82fa-6bb0b85d5ac0","username":"system"}'
        headers:
            Content-Length:
                - "1172"
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Fri, 19 Aug 2022 8:51:32 GMT
            Vary:
                - Origin
        status: 200 OK
        code: 200
        duration: 200µs
    - id: 2
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: 127.0.0.1:9203
        remote_addr: ""
        request_uri: ""
        body: |
            null
        form: {}
        headers:
            Authorization:
                - Bearer ******
            Content-Type:
                - application/json; charset=utf-8
            X-Http-Record-Index:
                - "2"
        url: http://127.0.0.1:9203/idm/api/v8/users/current
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 329
        uncompressed: false
        body: '{"id":"e0efbe00-610d-11ec-82fa-6bb0b85d5ac0","status":"true","deleted":"false","username":"system","firstName":"system","lastName":"system","email":"noreply@cisco.com","roleIds":["e0b06b10-610d-11ec-82fa-6bb0b85d5ac0","e7596f70-610d-11ec-82fa-6bb0b85d5ac0"],"tenantIds":[],"passwordPolicyName":"ppolicy_system","locale":"en_US"}'
        headers:
            Content-Length:
                - "329"
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Fri, 19 Aug 2022 8:51:32 GMT
            Vary:
                - Origin
        status: 200 OK
        code: 200
        duration: 200µs
    - id: 3
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: 127.0.0.1:8900
        remote_addr: ""
        request_uri: ""
        body: no_details=false&token=_hidden&token_type_hint=access_token
        form:
            no_details:
                - "false"
            token:
                - _hidden
            token_type_hint:
                - access_token
        headers:
            Authorization:
                - Basic ******
            Content-Type:
                - application/x-www-form-urlencoded
            X-Http-Record-Index:
                - "3"
        url: http://127.0.0.1:8900/auth/v2/check_token
        method: POST
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 1172
        uncompressed: false
        body: '{"account_type":"system","active":true,"assigned_tenants":["e0b5e950-610d-11ec-82fa-6bb0b85d5ac0"],"aud":"nfv-service","auth_time":1666896632,"client_id":"nfv-service","currency":"USD","email":"noreply@cisco.com","exp":1666905632,"family_name":"system","given_name":"system","iat":1666896632,"iss":"http://localhost:8900/auth","jti":"226b4fe8-0498-4157-a338-c96dd8598201","locale":"en_US","nbf":1666896632,"permissions":["VIEW_APIKEY","SWITCH_TENANT","IS_API_ADMIN","ACCESS_ALL_TENANTS","VIEW_ALERT_SERVICE","MANAGE_ALERT_SERVICE","VIEW_OPERATOR_LOGIN_AS_CUSTOMER","MANAGE_APIKEY"],"provider_description":"Cisco Systems","provider_display_name":"Cisco Systems","provider_email":"noreply@cisco.com","provider_id":"fe3ad89c-449f-42f2-b4f8-b10ab7bc0266","provider_name":"CiscoSystems","provider_notification_type":"EMAIL","roles":["API_ADMIN","SECURITY_CONTEXT_SWITCHER_API_ADMIN"],"scope":["phone","write","openid","tenant_hierarchy","email","token_details","read","address","profile"],"sub":"system","tenant_id":"e0b5e950-610d-11ec-82fa-6bb0b85d5ac0","tenant_name":"vms-tenant","tenant_suspended":false,"user_id":"e0efbe00-610d-11ec-82fa-6bb0b85d5ac0","username":"system"}'
        headers:
            Content-Length:
                - "1172"
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Fri, 19 Aug 2022 8:51:32 GMT
            Vary:
                - Origin
        status: 200 OK
        code: 200
        duration: 200µs
    - id: 4
      request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 0
        transfer_encoding: []
        trailer: {}
        host: 127.0.0.1:9203
        remote_addr: ""
        request_uri: ""
        body: |
            null
        form: {}
        headers:
            Authorization:
                - Bearer ******
            Content-Type:
                - application/json; charset=utf-8
            X-Http-Record-Index:
                - "4"
        url: http://127.0.0.1:9203/idm/api/v8/users/current
        method: GET
      response:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        transfer_encoding: []
        trailer: {}
        content_length: 329
        uncompressed: false
        body: '{"id":"e0efbe00-610d-11ec-82fa-6bb0b85d5ac0","status":"true","deleted":"false","username":"system","firstName":"system","lastName":"system","email":"noreply@cisco.com","roleIds":["e0b06b10-610d-11ec-82fa-6bb0b85d5ac0","e7596f70-610d-11ec-82fa-6bb0b85d5ac0"],"tenantIds":[],"passwordPolicyName":"ppolicy_system","locale":"en_US"}'
        headers:
            Content-Length:
                - "329"
            Content-Type:
                - application/json; charset=utf-8
            Date:
                - Fri, 19 Aug 2022 8:51:32 GMT
            Vary:
                - Origin
        status: 200 OK
        code: 200
        duration: 200µs
