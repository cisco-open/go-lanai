{{ $versionData := index . "VersionData" }}
{{- with index . "Version" }}
// Package {{.}} Generated by lanai-cli codegen. DO NOT EDIT
package {{ . }}

{{ $imports := NewImports }}
    {{ $imports = $imports.Add "cto-github.cisco.com/NFV-BU/go-lanai/pkg/bootstrap" }}
    {{ $imports = $imports.Add "cto-github.cisco.com/NFV-BU/go-lanai/pkg/web" }}
    {{ $imports = $imports.Add "go.uber.org/fx" }}
{{ template "imports" $imports }}

var Module = &bootstrap.Module{
    Name: "{{ . }}-controller",
    Precedence: bootstrap.AnonymousModulePrecedence,
    Options: []fx.Option{
		web.FxControllerProviders(
			{{- range $versionData }}
			    {{- $defaultName := defaultNameFromPath . }}
			    {{- $controllerName := concat $defaultName "Controller"}}
			    {{- $controllerName := toTitle $controllerName}}
			    {{- $controllerConstructor := concat "New" $controllerName }}
			    {{ $controllerConstructor }},
			{{- end }}
		),
    },
}

{{- end }}